<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="吕强">
<title>系统工程师实战</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: rgba(0, 0, 0, 0.8); padding: 0; margin: 0; font-family: "Noto Serif", "DejaVu Serif", serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.45; color: #7a2518; font-weight: normal; margin-top: 0; margin-bottom: 0.25em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #2156a5; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #1d4b8f; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Open Sans", "DejaVu Sans", sans-serif; font-weight: 300; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.0125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #ddddd8; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; font-weight: normal; color: rgba(0, 0, 0, 0.9); }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.9375em; color: rgba(0, 0, 0, 0.6); }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: rgba(0, 0, 0, 0.6); }

blockquote, blockquote p { line-height: 1.6; color: rgba(0, 0, 0, 0.85); }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dedede; }
table thead, table tfoot { background: #f7f8f7; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f8f8f7; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }

body { tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.2; word-spacing: -0.05em; }
h1 strong, h2 strong, h3 strong, #toctitle strong, .sidebarblock > .content > .title strong, h4 strong, h5 strong, h6 strong { font-weight: 400; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 0.9375em; font-style: normal !important; letter-spacing: 0; padding: 0.1em 0.5ex; word-spacing: -0.15em; background-color: #f7f7f8; -webkit-border-radius: 4px; border-radius: 4px; line-height: 1.45; text-rendering: optimizeSpeed; border: 1px dashed #2f6fab;}

pre {border: 1px dashed gray;}

pre, pre > code { line-height: 1.45; color: rgba(0, 0, 0, 0.9); font-family: "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace; font-weight: normal; text-rendering: optimizeSpeed;}

.keyseq { color: rgba(51, 51, 51, 0.8); }

kbd { font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace; display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: rgba(0, 0, 0, 0.8); }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: rgba(0, 0, 0, 0.9); }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: rgba(0, 0, 0, 0.85); margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #ddddd8; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #ddddd8; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #ddddd8; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: rgba(0, 0, 0, 0.6); display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: rgba(0, 0, 0, 0.85); }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: rgba(0, 0, 0, 0.85); }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: rgba(0, 0, 0, 0.85); border-bottom: 1px solid #ddddd8; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 1px solid #efefed; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Open Sans", "DejaVu Sans", sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #7a2518; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f8f8f7; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #efefed; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #efefed; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: rgba(0, 0, 0, 0.8); padding: 1.25em; }

#footer-text { color: rgba(255, 255, 255, 0.8); line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 1px solid #efefed; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; font-family: "Noto Serif", "DejaVu Serif", serif; font-size: 1rem; font-style: italic; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: rgba(0, 0, 0, 0.85); }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Open Sans", "DejaVu Sans", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #ddddd8; color: rgba(0, 0, 0, 0.6); }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e0e0dc; margin-bottom: 1.25em; padding: 1.25em; background: #f8f8f7; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; text-align: center; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.listingblock pre:not(.highlight) {color: white; background: #002b36; }

.literalblock pre, .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #f7f7f8; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { -webkit-border-radius: 4px; border-radius: 4px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #f7f7f8; background-color: rgba(0, 0, 0, 0.9); }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 4px; border-radius: 4px; }

.listingblock pre.prettyprint { border-width: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.45; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #ddddd8; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: rgba(0, 0, 0, 0.85); font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #7a2518; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid rgba(0, 0, 0, 0.6); }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: rgba(0, 0, 0, 0.85); font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.9375em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: rgba(0, 0, 0, 0.6); }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #dedede; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.6; background: #f7f8f7; }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1em; font-size: 0.85em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { width: 1em; position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.05em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #19407c; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

dt, th.tableblock, td.content, div.footnote { text-rendering: optimizeLegibility; }

h1, h2, p, td.content, span.alt { letter-spacing: -0.01em; }

p strong, td.content strong, div.footnote strong { letter-spacing: -0.005em; }

p, blockquote, dt, td.content, span.alt { font-size: 1.0625rem; }

p { margin-bottom: 1.25rem; }

.sidebarblock p, .sidebarblock dt, .sidebarblock td.content, p.tableblock { font-size: 1em; }

.exampleblock > .content { background-color: #fffef7; border-color: #e0e0dc; -webkit-box-shadow: 0 1px 4px #e0e0dc; box-shadow: 0 1px 4px #e0e0dc; }

.print-only { display: none !important; }

@media print { @page { margin: 1.25cm 0.75cm; }
  * { -webkit-box-shadow: none !important; box-shadow: none !important; text-shadow: none !important; }
  a { color: inherit !important; text-decoration: underline !important; }
  a.bare, a[href^="#"], a[href^="mailto:"] { text-decoration: none !important; }
  a[href^="http:"]:not(.bare):after, a[href^="https:"]:not(.bare):after { content: "(" attr(href) ")"; display: inline-block; font-size: 0.875em; padding-left: 0.25em; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  pre, blockquote, tr, img, object, svg { page-break-inside: avoid; }
  thead { display: table-header-group; }
  svg { max-width: 100%; }
  p, blockquote, dt, td.content { font-size: 1em; orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  #toc, .sidebarblock, .exampleblock > .content { background: none !important; }
  #toc { border-bottom: 1px solid #ddddd8 !important; padding-bottom: 0 !important; }
  .sect1 { padding-bottom: 0 !important; }
  .sect1 + .sect1 { border: 0 !important; }
  #header > h1:first-child { margin-top: 1.25rem; }
  body.book #header { text-align: center; }
  body.book #header > h1:first-child { border: 0 !important; margin: 2.5em 0 1em 0; }
  body.book #header .details { border: 0 !important; display: block; padding: 0 !important; }
  body.book #header .details span:first-child { margin-left: 0 !important; }
  body.book #header .details br { display: block; }
  body.book #header .details br + span:before { content: none !important; }
  body.book #toc { border: 0 !important; text-align: left !important; padding: 0 !important; margin: 0 !important; }
  body.book #toc, body.book #preamble, body.book h1.sect0, body.book .sect1 > h2 { page-break-before: always; }
  .listingblock code[data-lang]:before { display: block; }
  #footer { background: none !important; padding: 0 0.9375em; }
  #footer-text { color: rgba(0, 0, 0, 0.6) !important; font-size: 0.9em; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }

</style>
<link rel="stylesheet" href="css/font-awesome.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>系统工程师实战</h1>
<div class="details">
<span id="author" class="author">吕强</span><br>
<span id="email" class="email"><a href="mailto:fifilyu@gmail.com">fifilyu@gmail.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<ul class="sectlevel1">
<li><a href="#_前言">前言</a>
<ul class="sectlevel2">
<li><a href="#_贡献名单">贡献名单</a></li>
</ul>
</li>
<li><a href="#_Docker_chapter">1. Docker</a>
<ul class="sectlevel2">
<li><a href="#_centos7安装配置">1.1. CentOS7安装配置</a>
<ul class="sectlevel3">
<li><a href="#_准备分区">1.1.1. 准备分区</a></li>
<li><a href="#_升级内核">1.1.2. 升级内核</a></li>
<li><a href="#_安装">1.1.3. 安装</a></li>
<li><a href="#_配置">1.1.4. 配置</a></li>
<li><a href="#_启动">1.1.5. 启动</a></li>
<li><a href="#_新建自定义网桥">1.1.6. 新建自定义网桥</a></li>
</ul>
</li>
<li><a href="#_centos8安装配置">1.2. CentOS8安装配置</a>
<ul class="sectlevel3">
<li><a href="#_准备分区_2">1.2.1. 准备分区</a></li>
<li><a href="#_安装_2">1.2.2. 安装</a></li>
<li><a href="#_配置_2">1.2.3. 配置</a></li>
<li><a href="#_查看docker运行信息">1.2.4. 查看Docker运行信息</a></li>
<li><a href="#_测试">1.2.5. 测试</a></li>
</ul>
</li>
<li><a href="#_拉取镜像慢的问题">1.3. 拉取镜像慢的问题</a></li>
<li><a href="#_pure_ftpd_in_docker">1.4. Pure-FTPd in Docker</a>
<ul class="sectlevel3">
<li><a href="#_重新打包">1.4.1. 重新打包</a></li>
</ul>
</li>
<li><a href="#_容器启动命令">1.5. 容器启动命令</a>
<ul class="sectlevel3">
<li><a href="#_程序启动命令汇总">1.5.1. 程序启动命令汇总</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Iptalbes_chapter">2. Iptalbes</a>
<ul class="sectlevel2">
<li><a href="#_nat_ftp">2.1. NAT + FTP</a></li>
</ul>
</li>
<li><a href="#_Nginx_chapter">3. Nginx</a>
<ul class="sectlevel2">
<li><a href="#_http基本身份验证">3.1. HTTP基本身份验证</a>
<ul class="sectlevel3">
<li><a href="#_生成密码文件">3.1.1. 生成密码文件</a></li>
</ul>
</li>
<li><a href="#_proxy_pass_传递查询参数">3.2. <code>proxy_pass</code> 传递查询参数</a></li>
<li><a href="#_目录浏览">3.3. 目录浏览</a></li>
<li><a href="#_缓存静态文件">3.4. 缓存静态文件</a></li>
</ul>
</li>
<li><a href="#_PostgreSQL_chapter">4. PostgreSQL</a>
<ul class="sectlevel2">
<li><a href="#_基础入门">4.1. 基础入门</a>
<ul class="sectlevel3">
<li><a href="#_初始化">4.1.1. 初始化</a></li>
<li><a href="#_配置文件">4.1.2. 配置文件</a></li>
<li><a href="#_启动服务">4.1.3. 启动服务</a></li>
<li><a href="#_通过socket登录数据库">4.1.4. 通过socket登录数据库</a></li>
<li><a href="#_psql创建用户">4.1.5. psql创建用户</a></li>
<li><a href="#_psql创建数据库">4.1.6. psql创建数据库</a></li>
<li><a href="#_测试通过网络登录数据库">4.1.7. 测试通过网络登录数据库</a></li>
<li><a href="#_导入导出">4.1.8. 导入导出</a></li>
<li><a href="#_pgsql控制台命令">4.1.9. pgsql控制台命令</a></li>
</ul>
</li>
<li><a href="#_常用sql">4.2. 常用SQL</a></li>
<li><a href="#_常用技巧">4.3. 常用技巧</a>
<ul class="sectlevel3">
<li><a href="#_查看表大小">4.3.1. 查看表大小</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Linux_chapter">5. Linux</a>
<ul class="sectlevel2">
<li><a href="#_常用命令">5.1. 常用命令</a>
<ul class="sectlevel3">
<li><a href="#_烤机必备">5.1.1. 烤机必备</a></li>
<li><a href="#_find分别查找目录和文件">5.1.2. find分别查找目录和文件</a></li>
<li><a href="#_创建用于运行服务的用户">5.1.3. 创建用于运行服务的用户</a></li>
<li><a href="#_仅修改子目录中的文件权限忽略目录">5.1.4. 仅修改子目录中的文件权限，忽略目录</a></li>
</ul>
</li>
<li><a href="#_networkmanager">5.2. NetworkManager</a>
<ul class="sectlevel3">
<li><a href="#_nmcli">5.2.1. nmcli</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Libvirt_chapter">6. Libvirt</a>
<ul class="sectlevel2">
<li><a href="#_安装配置">6.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_安装kvm环境">6.1.1. 安装kvm环境</a></li>
<li><a href="#_设置网桥">6.1.2. 设置网桥</a></li>
<li><a href="#_配置公网网桥使虚拟机可以绑定公网ip">6.1.3. 配置公网网桥，使虚拟机可以绑定公网IP</a></li>
<li><a href="#_查看_os_variant_类型">6.1.4. 查看 os-variant 类型</a></li>
<li><a href="#_增加虚拟机">6.1.5. 增加虚拟机</a></li>
</ul>
</li>
<li><a href="#_常用命令_2">6.2. 常用命令</a></li>
</ul>
</li>
<li><a href="#_MySQL_chapter">7. MySQL</a>
<ul class="sectlevel2">
<li><a href="#_常用命令_3">7.1. 常用命令</a>
<ul class="sectlevel3">
<li><a href="#_卸载密码插件">7.1.1. 卸载密码插件</a></li>
<li><a href="#_创建数据库时指定字符集">7.1.2. 创建数据库时指定字符集</a></li>
<li><a href="#_新建或修改密码开放指定host登录">7.1.3. 新建或修改密码、开放指定HOST登录</a></li>
<li><a href="#_本机无密码登录">7.1.4. 本机无密码登录</a></li>
<li><a href="#_查看字符集">7.1.5. 查看字符集</a></li>
<li><a href="#_修改表字符集">7.1.6. 修改表字符集</a></li>
<li><a href="#_备份和还原">7.1.7. 备份和还原</a></li>
<li><a href="#_临时启用性能调优">7.1.8. 临时启用性能调优</a></li>
<li><a href="#_查看全局变量">7.1.9. 查看全局变量</a></li>
</ul>
</li>
<li><a href="#_索引">7.2. 索引</a>
<ul class="sectlevel3">
<li><a href="#_查看索引">7.2.1. 查看索引</a></li>
<li><a href="#_创建索引">7.2.2. 创建索引</a></li>
<li><a href="#_删除索引">7.2.3. 删除索引</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_ArchLinux_chapter">8. ArchLinux</a>
<ul class="sectlevel2">
<li><a href="#_archlinux_安装">8.1. ArchLinux 安装</a>
<ul class="sectlevel3">
<li><a href="#_建立硬盘分区">8.1.1. 建立硬盘分区</a></li>
<li><a href="#_格式化分区">8.1.2. 格式化分区</a></li>
<li><a href="#_挂载分区">8.1.3. 挂载分区</a></li>
<li><a href="#_设置国内镜像源">8.1.4. 设置国内镜像源</a></li>
<li><a href="#_安装基础包">8.1.5. 安装基础包</a></li>
<li><a href="#_开机挂载分区">8.1.6. 开机挂载分区</a></li>
<li><a href="#_切换到全新_arch_linux_系统">8.1.7. 切换到全新 Arch Linux 系统</a></li>
<li><a href="#_设置时区">8.1.8. 设置时区</a></li>
<li><a href="#_本地化语言支持">8.1.9. 本地化语言支持</a></li>
<li><a href="#_键盘布局">8.1.10. 键盘布局</a></li>
<li><a href="#_设置主机名">8.1.11. 设置主机名</a></li>
<li><a href="#_本地网络配置">8.1.12. 本地网络配置</a></li>
<li><a href="#_设置root密码">8.1.13. 设置root密码</a></li>
<li><a href="#_创建用户">8.1.14. 创建用户</a></li>
<li><a href="#_安装grub引导">8.1.15. 安装Grub引导</a></li>
<li><a href="#_安装桌面">8.1.16. 安装桌面</a></li>
<li><a href="#_重启">8.1.17. 重启</a></li>
<li><a href="#_设置pacman">8.1.18. 设置pacman</a></li>
<li><a href="#_安装常用软件">8.1.19. 安装常用软件</a></li>
<li><a href="#_系统设置">8.1.20. 系统设置</a></li>
<li><a href="#_faq">8.1.21. FAQ</a></li>
</ul>
</li>
<li><a href="#_pacman">8.2. pacman</a>
<ul class="sectlevel3">
<li><a href="#_用法">8.2.1. 用法</a></li>
<li><a href="#_troubleshooting">8.2.2. Troubleshooting</a></li>
</ul>
</li>
<li><a href="#_wireshark">8.3. Wireshark</a>
<ul class="sectlevel3">
<li><a href="#_以普通用户身份抓包">8.3.1. 以普通用户身份抓包</a></li>
</ul>
</li>
<li><a href="#_sudo">8.4. Sudo</a>
<ul class="sectlevel3">
<li><a href="#_sudo_command_doesnt_source_bashrc">8.4.1. sudo command doesn&#8217;t source ~/.bashrc</a></li>
</ul>
</li>
<li><a href="#_降级包">8.5. 降级包</a>
<ul class="sectlevel3">
<li><a href="#_mysql_启动失败">8.5.1. MySQL 启动失败</a></li>
<li><a href="#_降级_protobuf_包">8.5.2. 降级 <code>protobuf</code> 包</a></li>
<li><a href="#_忽略_protobuf_包的后续更新">8.5.3. 忽略 <code>protobuf</code> 包的后续更新</a></li>
</ul>
</li>
<li><a href="#_视频缩略图">8.6. 视频缩略图</a>
<ul class="sectlevel3">
<li><a href="#_问题">8.6.1. 问题</a></li>
<li><a href="#_解决方法">8.6.2. 解决方法</a></li>
</ul>
</li>
<li><a href="#_打印机">8.7. 打印机</a>
<ul class="sectlevel3">
<li><a href="#_安装配置_2">8.7.1. 安装配置</a></li>
<li><a href="#_打印机驱动">8.7.2. 打印机驱动</a></li>
<li><a href="#_添加打印机">8.7.3. 添加打印机</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_XXL-JOB_chapter">9. XXL-JOB</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_3">9.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_安装依赖">9.1.1. 安装依赖</a></li>
<li><a href="#_xxl_job_安装">9.1.2. XXL-JOB 安装</a></li>
<li><a href="#_xxl_job_运行前">9.1.3. XXL-JOB 运行前</a></li>
<li><a href="#_启动_xxl_job_服务端">9.1.4. 启动 XXL-JOB 服务端</a></li>
<li><a href="#_启动_xxl_job_客户端">9.1.5. 启动 XXL-JOB 客户端</a></li>
<li><a href="#_工作状态确认">9.1.6. 工作状态确认</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_LVM_chapter">10. LVM</a>
<ul class="sectlevel2">
<li><a href="#_增加硬盘">10.1. 增加硬盘</a></li>
</ul>
</li>
<li><a href="#_Wireshark_chapter">11. Wireshark</a>
<ul class="sectlevel2">
<li><a href="#_技巧汇总">11.1. 技巧汇总</a>
<ul class="sectlevel3">
<li><a href="#_捕获过滤器">11.1.1. 捕获过滤器</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_vuejs_chapter">12. Vue.js</a>
<ul class="sectlevel2">
<li><a href="#_第一个vue_js应用">12.1. 第一个Vue.js应用</a>
<ul class="sectlevel3">
<li><a href="#_环境依赖">12.1.1. 环境依赖</a></li>
<li><a href="#_创建应用">12.1.2. 创建应用</a></li>
<li><a href="#_运行">12.1.3. 运行</a></li>
<li><a href="#_打包">12.1.4. 打包</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_CentOS_chapter">13. CentOS</a>
<ul class="sectlevel2">
<li><a href="#_centos6挂载iso文件做仓库">13.1. CentOS6挂载ISO文件做仓库</a>
<ul class="sectlevel3">
<li><a href="#_下载_centos6_iso镜像">13.1.1. 下载 CentOS6 ISO镜像</a></li>
<li><a href="#_设置本地软件仓库">13.1.2. 设置本地软件仓库</a></li>
</ul>
</li>
<li><a href="#_centos6初始化">13.2. CentOS6初始化</a></li>
<li><a href="#_centos7初始化">13.3. CentOS7初始化</a></li>
<li><a href="#_centos8初始化">13.4. CentOS8初始化</a></li>
<li><a href="#_centos7_install_lnmp">13.5. CentOS7 Install LNMP</a>
<ul class="sectlevel3">
<li><a href="#_安装_nginx">13.5.1. 安装 Nginx</a></li>
<li><a href="#_安装_mysql">13.5.2. 安装 MySQL</a></li>
<li><a href="#_安装_php7">13.5.3. 安装 PHP7</a></li>
<li><a href="#_lnmp_环境测试">13.5.4. LNMP 环境测试</a></li>
</ul>
</li>
<li><a href="#_centos8配置文档">13.6. CentOS8配置文档</a>
<ul class="sectlevel3">
<li><a href="#_安装_nginx_2">13.6.1. 安装 Nginx</a></li>
<li><a href="#_安装_mysql_2">13.6.2. 安装 MySQL</a></li>
<li><a href="#_安装_php7_2">13.6.3. 安装 PHP7</a></li>
<li><a href="#_lnmp环境测试">13.6.4. LNMP环境测试</a></li>
</ul>
</li>
<li><a href="#_centos8安装前加载驱动">13.7. CentOS8安装前加载驱动</a>
<ul class="sectlevel3">
<li><a href="#_dell_precision_t3600">13.7.1. Dell Precision T3600</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Mosquitto_chapter">14. Mosquitto</a>
<ul class="sectlevel2">
<li><a href="#_安装_3">14.1. 安装</a>
<ul class="sectlevel3">
<li><a href="#_依赖">14.1.1. 依赖</a></li>
<li><a href="#_编译">14.1.2. 编译</a></li>
</ul>
</li>
<li><a href="#_配置_3">14.2. 配置</a>
<ul class="sectlevel3">
<li><a href="#_基础配置">14.2.1. 基础配置</a></li>
<li><a href="#_创建系统服务">14.2.2. 创建系统服务</a></li>
<li><a href="#_权限设置">14.2.3. 权限设置</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Terminal_chapter">15. Terminal</a>
<ul class="sectlevel2">
<li><a href="#_快捷键">15.1. 快捷键</a>
<ul class="sectlevel3">
<li><a href="#_file_shortcuts">15.1.1. File shortcuts</a></li>
<li><a href="#_edit_shortcuts">15.1.2. Edit shortcuts</a></li>
<li><a href="#_view_shortcuts">15.1.3. View shortcuts</a></li>
<li><a href="#_search_shortcuts">15.1.4. Search shortcuts</a></li>
<li><a href="#_tab_shortcuts">15.1.5. Tab shortcuts</a></li>
<li><a href="#_other">15.1.6. Other</a></li>
<li><a href="#_bash_shortcuts">15.1.7. Bash shortcuts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_FFmpeg_chapter">16. FFmpeg</a>
<ul class="sectlevel2">
<li><a href="#_centos8_安装">16.1. CentOS8 安装</a></li>
<li><a href="#_命令合集">16.2. 命令合集</a>
<ul class="sectlevel3">
<li><a href="#_mp4转换为mp3">16.2.1. mp4转换为mp3</a></li>
<li><a href="#_dvd_iso转换为_matroska_视频格式">16.2.2. DVD-ISO转换为 matroska 视频格式</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Git_chapter">17. Git</a>
<ul class="sectlevel2">
<li><a href="#_配置_git_客户端">17.1. 配置 <code>Git</code> 客户端</a></li>
<li><a href="#_commit_模板">17.2. <code>commit</code> 模板</a></li>
<li><a href="#_修改_commit_邮箱">17.3. 修改 <code>commit</code> 邮箱</a>
<ul class="sectlevel3">
<li><a href="#_安装依赖_2">17.3.1. 安装依赖</a></li>
<li><a href="#_更新commit中的邮箱">17.3.2. 更新commit中的邮箱</a></li>
</ul>
</li>
<li><a href="#_git_status_不显示中文">17.4. <code>git status</code> 不显示中文</a></li>
<li><a href="#_修改远程url为ssh协议地址">17.5. 修改远程URL为SSH协议地址</a>
<ul class="sectlevel3">
<li><a href="#_延伸">17.5.1. 延伸</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_CharacterEncoding_chapter">18. 字符编码</a>
<ul class="sectlevel2">
<li><a href="#_字符编码">18.1. 字符编码</a></li>
<li><a href="#_字符编码实例">18.2. 字符编码实例</a></li>
<li><a href="#_乱码">18.3. 乱码</a></li>
<li><a href="#_实用工具">18.4. 实用工具</a></li>
</ul>
</li>
<li><a href="#_GCC_chapter">19. GCC</a>
<ul class="sectlevel2">
<li><a href="#_常用技巧_2">19.1. 常用技巧</a></li>
</ul>
</li>
<li><a href="#_Java_chapter">20. Java</a>
<ul class="sectlevel2">
<li><a href="#_javacjar和classpath">20.1. javac、jar和classpath</a>
<ul class="sectlevel3">
<li><a href="#_运行jar包">20.1.1. 运行jar包</a></li>
<li><a href="#_编译运行java">20.1.2. 编译运行java</a></li>
</ul>
</li>
<li><a href="#_spring">20.2. Spring</a></li>
<li><a href="#_springboot">20.3. SpringBoot</a>
<ul class="sectlevel3">
<li><a href="#_配置文件官方文档">20.3.1. 配置文件官方文档</a></li>
<li><a href="#_运行时指定配置模式devprodetc">20.3.2. 运行时指定配置模式（dev/prod/etc）</a></li>
<li><a href="#_开启调试日志">20.3.3. 开启调试日志</a></li>
<li><a href="#_开启web访问日志">20.3.4. 开启Web访问日志</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_GitLab_chapter">21. GitLab</a>
<ul class="sectlevel2">
<li><a href="#_centos7安装配置_2">21.1. CentOS7安装配置</a></li>
<li><a href="#_centos8_安装配置">21.2. CentOS8 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_安装依赖_3">21.2.1. 安装依赖</a></li>
<li><a href="#_安装gitlab">21.2.2. 安装GitLab</a></li>
</ul>
</li>
<li><a href="#_nginx反代gitlab">21.3. Nginx反代GitLab</a>
<ul class="sectlevel3">
<li><a href="#_gitlab_设置">21.3.1. GitLab 设置</a></li>
<li><a href="#_设置http_clone相关参数">21.3.2. 设置HTTP Clone相关参数</a></li>
<li><a href="#_nginx_server配置">21.3.3. Nginx Server配置</a></li>
<li><a href="#_最后">21.3.4. 最后</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Redis_chapter">22. Redis</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_4">22.1. 安装配置</a></li>
<li><a href="#_常用命令_4">22.2. 常用命令</a>
<ul class="sectlevel3">
<li><a href="#_键key">22.2.1. 键（key）</a></li>
<li><a href="#_字符串string">22.2.2. 字符串(String)</a></li>
<li><a href="#_列表list">22.2.3. 列表(List)</a></li>
<li><a href="#_集合set">22.2.4. 集合(Set)</a></li>
<li><a href="#_有序集合sorted_set">22.2.5. 有序集合(sorted set)</a></li>
<li><a href="#_哈希表hash">22.2.6. 哈希表（Hash）</a></li>
<li><a href="#_删除键">22.2.7. 删除键</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_PHP_chapter">23. PHP</a>
<ul class="sectlevel2">
<li><a href="#_centos6使用yum安装php5_3">23.1. CentOS6使用Yum安装PHP5.3</a></li>
<li><a href="#_centos6源码安装php5_5">23.2. CentOS6源码安装PHP5.5</a></li>
<li><a href="#_centos7_源码安装php7_fpm">23.3. CentOS7 源码安装PHP7-FPM</a></li>
<li><a href="#_php5_3使用pecl安装扩展">23.4. PHP5.3使用Pecl安装扩展</a></li>
<li><a href="#_php5_3_安装_zendguardloader">23.5. PHP5.3 安装 ZendGuardLoader</a></li>
<li><a href="#_ubuntu18_04源码安装php7_fpm">23.6. Ubuntu18.04源码安装PHP7-FPM</a></li>
</ul>
</li>
<li><a href="#_Python_chapter">24. Python</a>
<ul class="sectlevel2">
<li><a href="#_centos6_install_python310">24.1. CentOS6 Install Python310</a>
<ul class="sectlevel3">
<li><a href="#_编译安装">24.1.1. 编译安装</a></li>
<li><a href="#_二进制压缩包安装">24.1.2. 二进制压缩包安装</a></li>
<li><a href="#_设置环境变量">24.1.3. 设置环境变量</a></li>
</ul>
</li>
<li><a href="#_centos7_install_python310">24.2. CentOS7 Install Python310</a>
<ul class="sectlevel3">
<li><a href="#_编译安装_2">24.2.1. 编译安装</a></li>
<li><a href="#_二进制压缩包安装_2">24.2.2. 二进制压缩包安装</a></li>
<li><a href="#_设置环境变量_2">24.2.3. 设置环境变量</a></li>
</ul>
</li>
<li><a href="#_centos8_install_python39">24.3. CentOS8 Install Python39</a>
<ul class="sectlevel3">
<li><a href="#_dnf安装">24.3.1. dnf安装</a></li>
</ul>
</li>
<li><a href="#_centos9_install_python310">24.4. CentOS9 Install Python310</a>
<ul class="sectlevel3">
<li><a href="#_编译安装_3">24.4.1. 编译安装</a></li>
<li><a href="#_二进制压缩包安装_3">24.4.2. 二进制压缩包安装</a></li>
<li><a href="#_设置环境变量_3">24.4.3. 设置环境变量</a></li>
</ul>
</li>
<li><a href="#_ubuntu_install_python310">24.5. Ubuntu Install Python310</a>
<ul class="sectlevel3">
<li><a href="#_编译安装_4">24.5.1. 编译安装</a></li>
<li><a href="#_二进制压缩包安装_4">24.5.2. 二进制压缩包安装</a></li>
</ul>
</li>
<li><a href="#_设置pip国内镜像">24.6. 设置PIP国内镜像</a>
<ul class="sectlevel3">
<li><a href="#_临时使用">24.6.1. 临时使用</a></li>
<li><a href="#_设为默认">24.6.2. 设为默认</a></li>
</ul>
</li>
<li><a href="#_上传_pypi">24.7. 上传 <code>PyPI</code></a>
<ul class="sectlevel3">
<li><a href="#_配置文件_2">24.7.1. 配置文件</a></li>
<li><a href="#_打包_2">24.7.2. 打包</a></li>
<li><a href="#_测试上传">24.7.3. 测试上传</a></li>
<li><a href="#_上传">24.7.4. 上传</a></li>
</ul>
</li>
<li><a href="#_pycharm">24.8. Pycharm</a>
<ul class="sectlevel3">
<li><a href="#_disable_and_suppress_inspections">24.8.1. Disable and suppress inspections</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Axel_chapter">25. Axel</a>
<ul class="sectlevel2">
<li><a href="#_安装_4">25.1. 安装</a>
<ul class="sectlevel3">
<li><a href="#_arch_linux">25.1.1. Arch Linux</a></li>
<li><a href="#_centos8">25.1.2. CentOS8</a></li>
</ul>
</li>
<li><a href="#_使用">25.2. 使用</a></li>
</ul>
</li>
<li><a href="#_le_chapter">26. Let’s Encrypt</a>
<ul class="sectlevel2">
<li><a href="#_安装certbot">26.1. 安装certbot</a></li>
<li><a href="#_签发https证书之dns签发通配符域名证书">26.2. 签发HTTPS证书之DNS签发通配符域名证书</a>
<ul class="sectlevel3">
<li><a href="#_签发通配符域名https证书一">26.2.1. 签发通配符域名HTTPS证书（一）</a></li>
<li><a href="#_设置域名解析">26.2.2. 设置域名解析</a></li>
<li><a href="#_检查域名解析">26.2.3. 检查域名解析</a></li>
<li><a href="#_签发通配符域名https证书二">26.2.4. 签发通配符域名HTTPS证书（二）</a></li>
</ul>
</li>
<li><a href="#_签发https证书之标准方式签发单域名证书">26.3. 签发HTTPS证书之标准方式签发单域名证书</a>
<ul class="sectlevel3">
<li><a href="#_添加nginx站点">26.3.1. 添加Nginx站点</a></li>
<li><a href="#_签发单域名https证书">26.3.2. 签发单域名HTTPS证书</a></li>
<li><a href="#_生成交换密钥_2">26.3.3. 生成交换密钥</a></li>
</ul>
</li>
<li><a href="#_添加https站点">26.4. 添加HTTPS站点</a>
<ul class="sectlevel3">
<li><a href="#_创建配置文件">26.4.1. 创建配置文件</a></li>
<li><a href="#_重载配置">26.4.2. 重载配置</a></li>
<li><a href="#_ssl安全级别测试">26.4.3. SSL安全级别测试</a></li>
</ul>
</li>
<li><a href="#_自动续签">26.5. 自动续签</a>
<ul class="sectlevel3">
<li><a href="#_创建续签系统服务">26.5.1. 创建续签系统服务</a></li>
<li><a href="#_创建续签定时器">26.5.2. 创建续签定时器</a></li>
<li><a href="#_重载系统服务">26.5.3. 重载系统服务</a></li>
<li><a href="#_设置开机启动">26.5.4. 设置开机启动</a></li>
<li><a href="#_启动定时器">26.5.5. 启动定时器</a></li>
<li><a href="#_查看定时器">26.5.6. 查看定时器</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_GPG_chapter">27. GPG</a>
<ul class="sectlevel2">
<li><a href="#_生成文件签名">27.1. 生成文件签名</a></li>
</ul>
</li>
<li><a href="#_OpenSSL_chapter">28. OpenSSL</a>
<ul class="sectlevel2">
<li><a href="#_常用命令_5">28.1. 常用命令</a></li>
</ul>
</li>
<li><a href="#_Polipo_chapter">29. Polipo</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_5">29.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_centos8_2">29.1.1. CentOS8</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Proxychains_chapter">30. Proxychains</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_6">30.1. 安装配置</a></li>
</ul>
</li>
<li><a href="#_ImageMagick_chapter">31. ImageMagick</a>
<ul class="sectlevel2">
<li><a href="#_批量图片转pdf">31.1. 批量图片转PDF</a></li>
</ul>
</li>
<li><a href="#_Rsync_chapter">32. Rsync</a>
<ul class="sectlevel2">
<li><a href="#_使用实例">32.1. 使用实例</a></li>
</ul>
</li>
<li><a href="#_Dante_chapter">33. Dante</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_7">33.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_安装_5">33.1.1. 安装</a></li>
<li><a href="#_配置_4">33.1.2. 配置</a></li>
<li><a href="#_运行_2">33.1.3. 运行</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_frp_chapter">34. frp</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_8">34.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_初始配置">34.1.1. 初始配置</a></li>
<li><a href="#_服务端">34.1.2. 服务端</a></li>
<li><a href="#_客户端">34.1.3. 客户端</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_npm_chapter">35. npm</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_9">35.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_初始配置_2">35.1.1. 初始配置</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_lftp_chapter">36. lftp</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_10">36.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_初始配置_3">36.1.1. 初始配置</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_gradle_chapter">37. gradle</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_11">37.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_全局源">37.1.1. 全局源</a></li>
</ul>
</li>
<li><a href="#_使用方法">37.2. 使用方法</a></li>
</ul>
</li>
<li><a href="#_uWSGI_chapter">38. uWSGI</a>
<ul class="sectlevel2">
<li><a href="#_uwsgi">38.1. uWSGI</a>
<ul class="sectlevel3">
<li><a href="#_centos6">38.1.1. CentOS6</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_ElasticStack_chapter">39. ElasticStack</a>
<ul class="sectlevel2">
<li><a href="#_centos8elk环境配置">39.1. CentOS8+ELK环境配置</a>
<ul class="sectlevel3">
<li><a href="#_安装java">39.1.1. 安装Java</a></li>
<li><a href="#_增加yum源">39.1.2. 增加YUM源</a></li>
<li><a href="#_elasticsearch">39.1.3. Elasticsearch</a></li>
<li><a href="#_kibana">39.1.4. Kibana</a></li>
<li><a href="#_logstash">39.1.5. Logstash</a></li>
</ul>
</li>
<li><a href="#_过时centos7elk环境配置">39.2. （过时）CentOS7+ELK环境配置</a>
<ul class="sectlevel3">
<li><a href="#_配置yum源">39.2.1. 配置Yum源</a></li>
<li><a href="#_安装elasticsearch">39.2.2. 安装ElasticSearch</a></li>
<li><a href="#_安装kibana">39.2.3. 安装Kibana</a></li>
<li><a href="#_安装logstash">39.2.4. 安装Logstash</a></li>
<li><a href="#_docker方式安装elasticsearch">39.2.5. Docker方式安装ElasticSearch</a></li>
<li><a href="#_配置_7">39.2.6. 配置</a></li>
</ul>
</li>
<li><a href="#_elasticstack使用教程">39.3. ElasticStack使用教程</a>
<ul class="sectlevel3">
<li><a href="#_索引文档">39.3.1. 索引文档</a></li>
<li><a href="#_搜索">39.3.2. 搜索</a></li>
<li><a href="#_聚合">39.3.3. 聚合</a></li>
<li><a href="#_更新文档">39.3.4. 更新文档</a></li>
<li><a href="#_删除文档">39.3.5. 删除文档</a></li>
<li><a href="#_结构化查询">39.3.6. 结构化查询</a></li>
<li><a href="#_dsl查询实例">39.3.7. DSL查询实例</a></li>
</ul>
</li>
<li><a href="#_从mysql同步数据到elasticsearch">39.4. 从MySQL同步数据到ElasticSearch</a></li>
<li><a href="#_elasticsearch在线迁移">39.5. ElasticSearch在线迁移</a></li>
</ul>
</li>
<li><a href="#_youtube_dl_chapter">40. youtube-dl</a>
<ul class="sectlevel2">
<li><a href="#_使用实例_2">40.1. 使用实例</a></li>
</ul>
</li>
<li><a href="#_maven_chapter">41. maven</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_12">41.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_全局源_2">41.1.1. 全局源</a></li>
</ul>
</li>
<li><a href="#_使用方法_2">41.2. 使用方法</a>
<ul class="sectlevel3">
<li><a href="#_build_lifecycle">41.2.1. Build Lifecycle</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_MongoDB_chapter">42. MongoDB</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_13">42.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_安装_8">42.1.1. 安装</a></li>
<li><a href="#_配置_8">42.1.2. 配置</a></li>
<li><a href="#_创建用户_2">42.1.3. 创建用户</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_LinuxWifiDriver_chapter">43. Linux Wifi Driver</a>
<ul class="sectlevel2">
<li><a href="#_tl_wdn5200h">43.1. TL_WDN5200H</a>
<ul class="sectlevel3">
<li><a href="#_centos8_安装驱动">43.1.1. CentOS8 安装驱动</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Kafka_chapter">44. Kafka</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_14">44.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_linux">44.1.1. Linux</a></li>
<li><a href="#_windows">44.1.2. Windows</a></li>
<li><a href="#_配置_9">44.1.3. 配置</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Pure-FTPd_chapter">45. Pure-FTPd</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_15">45.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_centos6_安装">45.1.1. CentOS6 安装</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Shadowsocks_chapter">46. Shadowsocks</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_16">46.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_centos7">46.1.1. CentOS7</a></li>
<li><a href="#_安装_shadowsocks">46.1.2. 安装 <code>Shadowsocks</code></a></li>
<li><a href="#_配置_shadowsocks">46.1.3. 配置 <code>Shadowsocks</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_WSL_chapter">47. WSL</a>
<ul class="sectlevel2">
<li><a href="#_修复wsl文件权限问题">47.1. 修复WSL文件权限问题</a>
<ul class="sectlevel3">
<li><a href="#_解决方法_2">47.1.1. 解决方法</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Aliyun_chapter">48. Aliyun</a>
<ul class="sectlevel2">
<li><a href="#_cli工具">48.1. CLI工具</a>
<ul class="sectlevel3">
<li><a href="#_安装_10">48.1.1. 安装</a></li>
<li><a href="#_配置凭证">48.1.2. 配置凭证</a></li>
<li><a href="#_ecs">48.1.3. ECS</a></li>
<li><a href="#_域名解析">48.1.4. 域名解析</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_RabbitMQ_chapter">49. RabbitMQ</a>
<ul class="sectlevel2">
<li><a href="#_安装配置_17">49.1. 安装配置</a>
<ul class="sectlevel3">
<li><a href="#_centos_8">49.1.1. CentOS 8</a></li>
</ul>
</li>
<li><a href="#_支持mqtt">49.2. 支持MQTT</a>
<ul class="sectlevel3">
<li><a href="#_新增虚拟主机">49.2.1. 新增虚拟主机</a></li>
<li><a href="#_为mqtt连接创建新用户">49.2.2. 为MQTT连接创建新用户</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Frida_chapter">50. Frida</a>
<ul class="sectlevel2">
<li><a href="#_安装_11">50.1. 安装</a></li>
</ul>
</li>
<li><a href="#_Rust_chapter">51. Rust</a>
<ul class="sectlevel2">
<li><a href="#_安装rust">51.1. 安装Rust</a>
<ul class="sectlevel3">
<li><a href="#_arch_linux_2">51.1.1. Arch Linux</a></li>
</ul>
</li>
<li><a href="#_rustup">51.2. rustup</a>
<ul class="sectlevel3">
<li><a href="#_rustup参数">51.2.1. rustup参数</a></li>
<li><a href="#_rustup源设置">51.2.2. rustup源设置</a></li>
<li><a href="#_rustup实践">51.2.3. rustup实践</a></li>
<li><a href="#_faq_2">51.2.4. FAQ</a></li>
</ul>
</li>
<li><a href="#_cargo">51.3. Cargo</a>
<ul class="sectlevel3">
<li><a href="#_cargo参数">51.3.1. Cargo参数</a></li>
<li><a href="#_cargo源设置">51.3.2. Cargo源设置</a></li>
<li><a href="#_cargo实践">51.3.3. Cargo实践</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_GDBus_chapter">52. GDBus</a>
<ul class="sectlevel2">
<li><a href="#_查询systemd服务">52.1. 查询systemd服务</a>
<ul class="sectlevel3">
<li><a href="#_获取服务的路径">52.1.1. 获取服务的路径</a></li>
<li><a href="#_查看服务的结构">52.1.2. 查看服务的结构</a></li>
<li><a href="#_获取服务的属性">52.1.3. 获取服务的属性</a></li>
<li><a href="#_获取服务状态">52.1.4. 获取服务状态</a></li>
</ul>
</li>
<li><a href="#_查询systemd定时器">52.2. 查询systemd定时器</a>
<ul class="sectlevel3">
<li><a href="#_获取定时器对象路径">52.2.1. 获取定时器对象路径</a></li>
<li><a href="#_查看对象结构">52.2.2. 查看对象结构</a></li>
<li><a href="#_获取对象的定时器相关属性">52.2.3. 获取对象的定时器相关属性</a></li>
<li><a href="#_获取对象定时器上次运行结果">52.2.4. 获取对象定时器上次运行结果</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_Misc_chapter">53. 杂项</a>
<ul class="sectlevel2">
<li><a href="#_chrome">53.1. Chrome</a>
<ul class="sectlevel3">
<li><a href="#_安装_proxy_switchyomega_扩展">53.1.1. 安装 Proxy SwitchyOmega 扩展</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_TheExtendedASCIITable_chapter">Appendix A: The Extended ASCII Table</a>
<ul class="sectlevel2">
<li><a href="#_ascii_control_characters_character_code_0_31">A.1. ASCII control characters (character code 0-31)</a></li>
<li><a href="#_ascii_printable_characters_character_code_32_127">A.2. ASCII printable characters (character code 32-127)</a></li>
<li><a href="#_the_extended_ascii_codes_character_code_128_255">A.3. The extended ASCII codes (character code 128-255)</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_前言">前言</h2>
<div class="sectionbody">
<div class="paragraph">
<p>一本关于个人成长、软件开发、系统运维、产品运营、思维、思考的杂记。</p>
</div>
<div class="sect2">
<h3 id="_贡献名单">贡献名单</h3>
<div class="paragraph">
<p><strong>按时间先后</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>王朋</p>
</li>
<li>
<p>尹磊</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Docker_chapter">1. Docker</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>基于 CentOS 7</strong></p>
</div>
<div class="sect2">
<h3 id="_centos7安装配置">1.1. CentOS7安装配置</h3>
<div class="sect3">
<h4 id="_准备分区">1.1.1. 准备分区</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># XFS必须启用ftype参数，比如硬盘分区 /dev/sda1
mkfs.xfs -n ftype=1 -f $硬盘分区

# 挂载硬盘分区，用于存储Docker数据
echo `ll /dev/disk/by-uuid/|grep $硬盘分区|awk '{print "UUID="$9" /data                   xfs     defaults        0 0"}'` &gt;&gt; /etc/fstab

# 自动挂载所有分区
mount -a

# 验证挂载
df -h|grep /data

mkdir -p /data/var/lib/docker</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_升级内核">1.1.2. 升级内核</h4>
<div class="paragraph">
<p>由于内核版本太低，Docker 存储方面有限制。需要升级到更版本内核。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
每次官方更新了内核版本，grub.cfg会被覆盖。需要重新执行以下步骤。
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm

# 稳定版本内核
yum --enablerepo=elrepo-kernel install kernel-ml
# 长期支持版本内核
yum --enablerepo=elrepo-kernel install kernel-lt


# 查找内核启动项
grep "menuentry 'CentOS Linux" /boot/grub2/grub.cfg|awk -F "'" '{print $2}'
grep "menuentry 'CentOS Linux" /boot/efi/EFI/centos/grub.cfg|awk -F "'" '{print $2}'

# 设置默认内核版本
grub2-set-default 'CentOS Linux (4.4.112-1.el7.elrepo.x86_64) 7 (Core)'

cp /boot/grub2/grub.cfg /boot/grub2/grub.cfg.bak
cp /boot/efi/EFI/centos/grub.cfg /boot/efi/EFI/centos/grub.cfg.bak

grub2-mkconfig -o /boot/grub2/grub.cfg
grub2-mkconfig -o /boot/efi/EFI/centos/grub.cfg

重启服务器。</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装">1.1.3. 安装</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y yum-utils \
  device-mapper-persistent-data \
  lvm2

yum-config-manager \
    --add-repo \
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

yum install -y docker-ce
curl -L https://github.com/docker/compose/releases/download/1.18.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置">1.1.4. 配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "net.bridge.bridge-nf-call-ip6tables = 1" &gt;&gt; /etc/sysctl.conf
echo "net.bridge.bridge-nf-call-iptables = 1" &gt;&gt; /etc/sysctl.conf
echo "net.ipv4.ip_forward = 1" &gt;&gt; /etc/sysctl.conf

sysctl -p

mkdir -p /etc/docker
cat &lt;&lt; EOF &gt; /etc/docker/daemon.json
{
  "registry-mirrors": [
    "https://registry.docker-cn.com",
    "https://hub-mirror.c.163.com"
  ],
  "graph": "/var/lib/docker",
  "storage-driver": "overlay2",
  "dns" : [
    "223.5.5.5",
    "223.6.6.6"
  ]
}
EOF</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
mirrors 位置最后一个优先级高
</td>
</tr>
</table>
</div>
<div class="dlist">
<div class="title">参数说明</div>
<dl>
<dt class="hdlist1">registry-mirrors</dt>
<dd>
<p>Docker镜像源</p>
</dd>
<dt class="hdlist1">graph</dt>
<dd>
<p>Docker数据目录</p>
</dd>
<dt class="hdlist1">storage-driver</dt>
<dd>
<p>Docker 数据文件存储路径</p>
</dd>
<dt class="hdlist1">dns</dt>
<dd>
<p>容器默认DNS。如果不设置可能出现 <code>git pull</code> 缓慢</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_启动">1.1.5. 启动</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable docker
systemctl start docker

docker info</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_新建自定义网桥">1.1.6. 新建自定义网桥</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker network create --subnet=10.10.10.0/16 --gateway=10.10.10.1 fifilyu
docker network inspect fifilyu</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos8安装配置">1.2. CentOS8安装配置</h3>
<div class="sect3">
<h4 id="_准备分区_2">1.2.1. 准备分区</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># XFS必须启用ftype参数，比如硬盘分区 /dev/sda1
mkfs.xfs -n ftype=1 -f $硬盘分区

# 挂载硬盘分区，用于存储Docker数据
echo `ll /dev/disk/by-uuid/|grep $硬盘分区|awk '{print "UUID="$9" /data                   xfs     defaults        0 0"}'` &gt;&gt; /etc/fstab

# 自动挂载所有分区
mount -a

# 验证挂载
df -h|grep /data

mkdir -p /data/var/lib/docker</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装_2">1.2.2. 安装</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y yum-utils

yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo

dnf install -y docker-ce docker-ce-cli containerd.io

systemctl enable docker</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置_2">1.2.3. 配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "net.bridge.bridge-nf-call-ip6tables = 1" &gt;&gt; /etc/sysctl.conf
echo "net.bridge.bridge-nf-call-iptables = 1" &gt;&gt; /etc/sysctl.conf
echo "net.ipv4.ip_forward = 1" &gt;&gt; /etc/sysctl.conf

sysctl -p

mkdir -p /etc/docker
cat &lt;&lt; EOF &gt; /etc/docker/daemon.json
{
  "registry-mirrors": [
    "https://registry.docker-cn.com",
    "https://dockerhub.azk8s.cn",
    "https://hub-mirror.c.163.com"
  ],
  "graph": "/var/lib/docker",
  "storage-driver": "overlay2",
  "dns" : [
    "223.5.5.5",
    "223.6.6.6"
  ]
}
EOF</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
mirrors 位置最后一个优先级高
</td>
</tr>
</table>
</div>
<div class="dlist">
<div class="title">参数说明</div>
<dl>
<dt class="hdlist1">registry-mirrors</dt>
<dd>
<p>Docker镜像源</p>
</dd>
<dt class="hdlist1">graph</dt>
<dd>
<p>Docker数据目录</p>
</dd>
<dt class="hdlist1">storage-driver</dt>
<dd>
<p>Docker 数据文件存储路径</p>
</dd>
<dt class="hdlist1">dns</dt>
<dd>
<p>容器默认DNS。如果不设置可能出现 <code>git pull</code> 缓慢</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>最后，启动或重启docker服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl restart docker</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_查看docker运行信息">1.2.4. 查看Docker运行信息</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@dell7 ~]# docker info
Client:
 Debug Mode: false

Server:
 Containers: 0
  Running: 0
  Paused: 0
  Stopped: 0
 Images: 1
 Server Version: 19.03.13
 Storage Driver: overlay2
  Backing Filesystem: xfs
  Supports d_type: true
  Native Overlay Diff: true
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog
 Swarm: inactive
 Runtimes: runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 8fba4e9a7d01810a393d5d25a3621dc101981175
 runc version: dc9208a3303feef5b3839f4323d9beb36df0a9dd
 init version: fec3683
 Security Options:
  seccomp
   Profile: default
 Kernel Version: 4.18.0-147.8.1.el8_1.x86_64
 Operating System: CentOS Linux 8 (Core)
 OSType: linux
 Architecture: x86_64
 CPUs: 4
 Total Memory: 15.46GiB
 Name: dell7
 ID: WFX3:WXWH:WPML:VRCA:QRTN:LGCB:6UBM:V73O:QEGU:KADY:V3FH:E4Q6
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 Registry: https://index.docker.io/v1/
 Labels:
 Experimental: false
 Insecure Registries:
  127.0.0.0/8
 Registry Mirrors:
  https://hub-mirror.c.163.com/
 Live Restore Enabled: false</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_测试">1.2.5. 测试</h4>
<div class="paragraph">
<p>拉取测试镜像：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker pull hello-world</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@dell7 ~]# docker pull hello-world
Using default tag: latest
latest: Pulling from library/hello-world
0e03bdcc26d7: Already exists
Digest: sha256:e7c70bb24b462baa86c102610182e3efcb12a04854e8c582838d92970a09f323
Status: Downloaded newer image for hello-world:latest
docker.io/library/hello-world:latest</code></pre>
</div>
</div>
<div class="paragraph">
<p>创建测试容器：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker run --name hello hello-world</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@dell7 ~]# docker run --name hello hello-world

Hello from Docker!
This message shows that your installation appears to be working correctly.

......</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看已经创建的容器：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker ps -a</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@dell7 ~]# docker ps -a
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES
59cc42b09fce        hello-world         "/hello"            24 seconds ago      Exited (0) 22 seconds ago                       hello</code></pre>
</div>
</div>
<div class="paragraph">
<p>删除测试容器：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker rm hello</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_拉取镜像慢的问题">1.3. 拉取镜像慢的问题</h3>
<div class="paragraph">
<p>很多时候就算更换了源之后，<code>docker pull</code> 还是很慢时，用拷贝的方法更快。</p>
</div>
<div class="paragraph">
<p>在有镜像的系统上导出镜像：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker save -o docker-centos6-php52.tar fifilyu/docker-centos6-php52</code></pre>
</div>
</div>
<div class="paragraph">
<p>用 <code>scp</code> 或 <code>rsync</code> 把 <code>docker-centos6-php52.tar</code> 上传到目标系统，然后导入：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker load -i docker-centos6-php52.tar</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pure_ftpd_in_docker">1.4. Pure-FTPd in Docker</h3>
<div class="paragraph">
<p>必须使用 <code>--without-capabilities</code> 参数重新编译 Pure-FTPd，否则会出现以下错误：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[root@690bec85ee11 /]# /usr/sbin/pure-ftpd
421 Unable to switch capabilities : Operation not permitted</pre>
</div>
</div>
<div class="sect3">
<h4 id="_重新打包">1.4.1. 重新打包</h4>
<div class="sect4">
<h5 id="_准备打包环境">准备打包环境</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd ~
yum install yum-utils rpm-build gcc
yumdownloader --source pure-ftpd
rpm -ivh pure-ftpd-1.0.42-3.el7.src.rpm
yum-builddep pure-ftpd</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_修改包文件">修改包文件</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sed -i 's/--with-capabilities /--without-capabilities /g' rpmbuild/SPECS/pure-ftpd.spec</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_准备源代码">准备源代码</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rpmbuild -bp rpmbuild/SPECS/pure-ftpd.spec</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_重新打包_2">重新打包</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rpmbuild -ba rpmbuild/SPECS/pure-ftpd.spec</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装测试">安装测试</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rpm -ivh ~/rpmbuild/RPMS/x86_64/pure-ftpd-1.0.42-3.el7.centos.x86_64.rpm
/usr/sbin/pure-config.pl /etc/pure-ftpd/pure-ftpd.conf --daemonize

ps aux|grep ftp</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_容器启动命令">1.5. 容器启动命令</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker run -d --restart=always --name test  centos:7 docker-entrypoint.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>docker-entrypoint.sh</code> 表示容器中的 <code>/usr/local/bin/docker-entrypoint.sh</code> ，通常内容为：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">#!/bin/sh
/usr/bin/rm -f /run/nginx.pid &amp;&amp; /usr/sbin/nginx -t &amp;&amp; /usr/sbin/nginx

# 始终放到最后，防止以上命令启动失败，导致容器无法启动。
# 容器启动失败的处理流程较复杂，用此代码保证能进入容器处理故障。
while true
do
    sleep 100
done</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">单行版本</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker run \
	-d \
	--restart always \
	--env LANG=en_US.UTF-8 \
	--env TZ=Asia/Shanghai \
	--name lift360_all_data \
    --mount type=bind,source=/etc/localtime,target=/etc/localtime,readonly \
	--mount source=lift360_all_data,target=/data \
	centos:6 \
	bash -c 'while true; do sleep 100; done;'</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_程序启动命令汇总">1.5.1. 程序启动命令汇总</h4>
<div class="sect4">
<h5 id="_psql">PSQL</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">docker pull centos/postgresql-94-centos7

docker run \
    -d \
    --restart always \
    --env LANG=en_US.UTF-8 \
    --env TZ=Asia/Shanghai \
    --mount type=bind,source=/etc/localtime,target=/etc/localtime,readonly \
    -p 18080:8080 \
    --name xxl_job_tomcat \
    xxl_job_tomcat \
    docker-entrypoint.sh

#免密码登录
echo '127.0.0.1:15432:esafesys_com:postgres:GcMuEKzRtvNIAiX1' &gt; ~/.pgpass
chmod 600 ~/.pgpass

psql -h 127.0.0.1 -p 15432 -U postgres -c "create database esafesys_com;"

#导入数据库
psql -h 127.0.0.1 -p 15432 -U postgres esafesys_com -f foo.sql</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mysql5_1">MySQL5.1</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/bin/mysqld_safe</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/libexec/mysqld \
    --basedir=/usr \
    --datadir=/var/lib/mysql \
    --user=mysql \
    --log-error=/var/log/mysqld.log \
    --pid-file=/var/run/mysqld/mysqld.pid \
    --socket=/var/lib/mysql/mysql.sock</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mysql5_6">MySQL5.6+</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/sbin/mysqld \
    --basedir=/usr \
    --datadir=/var/lib/mysql \
    --plugin-dir=/usr/lib64/mysql/plugin \
    --user=mysql --log-error=/var/log/mysqld.log \
    --pid-file=/var/run/mysqld/mysqld.pid \
    --socket=/var/lib/mysql/mysql.sock</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_tomcat">Tomcat</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">su tomcat --shell /usr/libexec/tomcat/server start</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_zookeeper">zookeeper</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">su - zookeeper -c '/usr/local/zookeeper/bin/zkServer.sh start-foreground'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_nginx">Nginx</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/bin/rm -f /run/nginx.pid &amp;&amp; /usr/sbin/nginx -t &amp;&amp; /usr/sbin/nginx</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pure_ftpd">Pure-FTPd</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/sbin/pure-config.pl /etc/pure-ftpd/pure-ftpd.conf --daemonize</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
要在 Docker 中使用 Pure-FTPd，请查看  <a href="#_pure_ftpd_in_docker">Pure-FTPd in Docker</a>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Iptalbes_chapter">2. Iptalbes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_nat_ftp">2.1. NAT + FTP</h3>
<div class="paragraph">
<p>Docker 网桥默认转发所有数据包，不限制。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">iptables -A FORWARD -i br-da448a6a9576 ! -o br-da448a6a9576 -j ACCEPT
iptables -A FORWARD -i br-da448a6a9576 -o br-da448a6a9576 -j ACCEPT

iptables -t nat -A PREROUTING -i br_wan -p tcp -m tcp -m multiport --dports 21,52000:52050 -j DNAT --to-destination 172.18.0.4
iptables -t nat -A POSTROUTING -s 172.18.0.0/16 ! -o br-da448a6a9576 -j MASQUERADE</code></pre>
</div>
</div>
<div class="paragraph">
<p>KVM 网桥，默认只允许内网发起的连接，但限制外部访问内网服务端口。</p>
</div>
<div class="paragraph">
<p>必须增加 <code>--dports 21:63535 -j ACCEPT</code> 放行服务端口。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">被动模式端口</dt>
<dd>
<p><code>52000:52050</code></p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">iptables -A FORWARD -d 192.168.122.0/24 -o virbr0 -p tcp -m multiport --dports 21:63535 -j ACCEPT
iptables -A FORWARD -d 192.168.122.0/24 -o virbr0 -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
iptables -A FORWARD -s 192.168.122.0/24 -i virbr0 -j ACCEPT
iptables -A FORWARD -i virbr0 -o virbr0 -j ACCEPT
iptables -A FORWARD -o virbr0 -j REJECT --reject-with icmp-port-unreachable
iptables -A FORWARD -i virbr0 -j REJECT --reject-with icmp-port-unreachable

iptables -t nat -A PREROUTING -i br_wan -p tcp -m tcp --dport 18421 -j DNAT --to-destination 172.18.0.4:21
iptables -t nat -A PREROUTING -i br_wan -p tcp -m tcp -m multiport --dports 52000:52050 -j DNAT --to-destination 172.18.0.4
iptables -t nat -A POSTROUTING -s 192.168.122.0/24 ! -o virbr0 -j MASQUERADE</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Nginx_chapter">3. Nginx</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_http基本身份验证">3.1. HTTP基本身份验证</h3>
<div class="sect3">
<h4 id="_生成密码文件">3.1.1. 生成密码文件</h4>
<div class="paragraph">
<p>安装 <code>htpasswd</code> 命令的软件包和 <code>pwgen</code> 包：</p>
</div>
<div class="listingblock">
<div class="title">Debian/Ubuntu</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">apt install apache2-utils pwgen</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">RHEL/CentOS</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y httpd-tools pwgen
# 或
dnf install -y httpd-tools pwgen</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">git_password=`pwgen -s 20`
echo $git_password

# 添加第一个用户时，创建 /etc/nginx/.htpasswd  文件
echo $git_password | htpasswd -i -c /etc/nginx/.htpasswd git</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>添加第二个用户时，不需要 <code>-c</code> 参数（创建密码文件）</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'test123456' | htpasswd -i /etc/nginx/.htpasswd test</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_配置nginx">配置Nginx</h5>
<div class="paragraph">
<p>在Nginx的Server配置中，加入：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>location /api {
    auth_basic           "Administrator’s Area";
    auth_basic_user_file /etc/nginx/.htpasswd;
}</pre>
</div>
</div>
<div class="paragraph">
<p>生效新配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nginx -t &amp;&amp; nginx -s reload</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_proxy_pass_传递查询参数">3.2. <code>proxy_pass</code> 传递查询参数</h3>
<div class="paragraph">
<p><code>proxy_pass</code> 最后一个 "/" 表示传递查询参数到后端。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>location /api-elevator/ {
    proxy_pass http://ttd1_api_elevator:8080/;
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y httpd-tools
htpasswd -b -c /etc/nginx/conf.d/dl.2012iot.com.pass admin CaNxR7doJLW76HPXGkrsMmH9epCtSIbn23bz6bOm</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>server {
    listen    80;
    server_name dl.2012iot.com;
    root /usr/share/nginx/html;
    access_log off;

    auth_basic "auth";
    auth_basic_user_file /etc/nginx/conf.d/dl.2012iot.com.pass;

    charset UTF-8;
    autoindex on;
    autoindex_exact_size off;
    autoindex_localtime on;
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_目录浏览">3.3. 目录浏览</h3>
<div class="listingblock">
<div class="content">
<pre>server {
        listen       80;

        server_name dl.cdgeekcamp.com;
        root /data/web/dl.cdgeekcamp.com;

        location / {
            autoindex on;
            autoindex_localtime on;
            # 设置文件大小显示单位
            autoindex_exact_size off;
        }
}</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_缓存静态文件">3.4. 缓存静态文件</h3>
<div class="paragraph">
<p>官方文档 <a href="https://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache_path">Syntax:	proxy_cache_path</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>proxy_cache_path /var/lib/nginx/tmp/static_cache levels=1:2 keys_zone=static_cache:100m inactive=1d max_size=10g;

server {
    listen 80;
    server_name chinakaoyan.com www.chinakaoyan.com;
    root /usr/share/nginx/html/;
    access_log  /var/log/nginx/www.log  main;

    location / {
        proxy_pass http://192.168.2.204:80;
    }

    location ~* \.(ico|gif|jpg|jpeg|png|bmp|zip|rar|7z|js|css|docx?|xls|pdf)$ {
        proxy_cache_valid 200 10d;
        proxy_cache_key $uri;
        proxy_cache static_cache;
        proxy_pass http://192.168.2.204:80;
    }
}</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_PostgreSQL_chapter">4. PostgreSQL</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_基础入门">4.1. 基础入门</h3>
<div class="sect3">
<h4 id="_初始化">4.1.1. 初始化</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /var/lib/postgres/data
chown -R postgres:postgres /var/lib/postgres
su - postgres -c "initdb --locale en_US.UTF-8 -D '/var/lib/postgres/data'"</code></pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
默认数据库
</td>
<td class="hdlist2">
<p>postgres</p>
</td>
</tr>
<tr>
<td class="hdlist1">
默认用户名称
</td>
<td class="hdlist2">
<p>postgres</p>
</td>
</tr>
<tr>
<td class="hdlist1">
默认用户密码
</td>
<td class="hdlist2">
<p>无</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_配置文件">4.1.2. 配置文件</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">主配置文件</dt>
<dd>
<p>/var/lib/postgres/data/postgresql.conf</p>
</dd>
<dt class="hdlist1">客户端认证配置文件</dt>
<dd>
<p>/var/lib/postgres/data/pg_hba.conf</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>pg_hba.conf</code> 中有：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="text" class="language-text hljs"># TYPE  DATABASE        USER            ADDRESS                 METHOD

# "local" is for Unix domain socket connections only
local   all             all                                     trust
# IPv4 local connections:
host    all             all             127.0.0.1/32            trust</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_socket连接">socket连接</h5>
<div class="paragraph">
<p><code>local</code> 行表示任意用户使用socket（不指定 <code>-h</code> 参数）时连接连接所有数据库，不需要密码。比如，</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[postgres@ryzen7 ~]$ psql
psql (13.4)
输入 "help" 来获取帮助信息.

postgres=#</code></pre>
</div>
</div>
<div class="paragraph">
<p>这种连接和监听端口 <code>5432</code> 无关。</p>
</div>
</div>
<div class="sect4">
<h5 id="_连接指定主机端口5432">连接指定主机（端口5432）</h5>
<div class="paragraph">
<p><code>host</code> 行表示任意用户通过 <code>-h 127.0.0.1</code> 连接所有数据库，不需要密码。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[postgres@ryzen7 ~]$ psql -h 127.0.0.1
psql (13.4)
输入 "help" 来获取帮助信息.

postgres=</code></pre>
</div>
</div>
<div class="paragraph">
<p>通常，我会将上面这行修改为：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="text" class="language-text hljs">host    all             all             0.0.0.0/0               password</code></pre>
</div>
</div>
<div class="paragraph">
<p>表示 <code>-h</code> 指定主机时，必须使用密码登录。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_启动服务">4.1.3. 启动服务</h4>
<div class="listingblock">
<div class="title">Arch Linux</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable postgresql

systemctl start postgresql

systemctl status postgresql</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_通过socket登录数据库">4.1.4. 通过socket登录数据库</h4>
<div class="paragraph">
<p>切换到postgres用户：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sudo su - postgres</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[fifilyu@ryzen7 ~]$ sudo su - postgres
[sudo] fifilyu 的密码：

[postgres@ryzen7 ~]$ id
用户id=88(postgres) 组id=88(postgres) 组=88(postgres)</code></pre>
</div>
</div>
<div class="paragraph">
<p>直接socket登录pg，不需要 <code>-h</code> 参数：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sudo su - postgres -c psql</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[fifilyu@ryzen7 ~]$ sudo su - postgres -c psql
[sudo] fifilyu 的密码：

psql (13.4)
输入 "help" 来获取帮助信息.

postgres=#</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_psql创建用户">4.1.5. psql创建用户</h4>
<div class="paragraph">
<p><code>psql</code> 登录pg后，新建用户 <code>foo</code>，同时设置密码：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">create user foo with password 'password';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[fifilyu@ryzen7 ~]$ sudo su - postgres -c psql
[sudo] fifilyu 的密码：
psql (13.4)
输入 "help" 来获取帮助信息.

postgres=# create user foo with password 'password';
CREATE ROLE
postgres=#</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_psql创建数据库">4.1.6. psql创建数据库</h4>
<div class="paragraph">
<p><code>psql</code> 登录pg后，新建数据库 <code>testdb</code>，同时设置数据库主用户：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">create database testdb owner foo;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[fifilyu@ryzen7 ~]$ sudo su - postgres -c psql
[sudo] fifilyu 的密码：
psql (13.4)
输入 "help" 来获取帮助信息.

postgres=# create database testdb owner foo;
CREATE DATABASE
postgres=#</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_测试通过网络登录数据库">4.1.7. 测试通过网络登录数据库</h4>
<div class="paragraph">
<p>用新建的用户登录数据库 <code>testdb</code>：</p>
</div>
<div class="paragraph">
<p><code>psql -h 127.0.0.1 -U foo testdb</code></p>
</div>
<div class="listingblock">
<div class="title">控制台输出——密码验证成功</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[fifilyu@ryzen7 ~]$ psql -h 127.0.0.1 -U foo testdb
用户 foo 的口令：
psql (13.4)
输入 "help" 来获取帮助信息.

testdb=&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出——密码错误提示</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[fifilyu@ryzen7 ~]$ psql -h 127.0.0.1 -U foo testdb
用户 foo 的口令：
psql: 错误: FATAL:  password authentication failed for user "foo"</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<code>pg_hba.conf</code> 中必须设置 <code>password</code> 认证密码登录才会有效。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_导入导出">4.1.8. 导入导出</h4>
<div class="listingblock">
<div class="title">导出指定数据库数据到SQL文件</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pg_dump --inserts -h 127.0.0.1 -U foo testdb -f testdb.sql</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">导入SQL文件到指定数据库</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">psql -h 127.0.0.1 -U foo testdb -f testdb.sql</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pgsql控制台命令">4.1.9. pgsql控制台命令</h4>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
\h
</td>
<td class="hdlist2">
<p>查看SQL命令的解释，比如\h select。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\?
</td>
<td class="hdlist2">
<p>查看psql命令列表。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\l
</td>
<td class="hdlist2">
<p>列出所有数据库。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\c [database_name]
</td>
<td class="hdlist2">
<p>连接其他数据库。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\d
</td>
<td class="hdlist2">
<p>列出当前数据库的所有表格。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\d [table_name]
</td>
<td class="hdlist2">
<p>列出某一张表格的结构。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\du
</td>
<td class="hdlist2">
<p>列出所有用户。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\e
</td>
<td class="hdlist2">
<p>打开文本编辑器。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\conninfo
</td>
<td class="hdlist2">
<p>列出当前数据库和连接的信息。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\password
</td>
<td class="hdlist2">
<p>修改当前用户密码</p>
</td>
</tr>
<tr>
<td class="hdlist1">
\q
</td>
<td class="hdlist2">
<p>退出pgsql</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_常用sql">4.2. 常用SQL</h3>
<div class="listingblock">
<div class="title">创建用户</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">create user dbuser with password 'password';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">用户权限设置</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">grant all privileges on database db to dbuser;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">创建数据库</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">create database db;

create database db owner dbuser;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">重命名数据库</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">alter database db rename to newdb;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">创建新表</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">create table table_name(name varchar(20), signup_date date);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">插入数据</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">insert into table_name(name, signup_date) values('张三', '2013-12-22');</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看记录</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">select * from table_name;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">更新数据</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">update table_name set name = '李四' where name = '张三';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">删除记录</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">delete from table_name where name = '李四' ;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">新增表字段</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">alter table table_name add email varchar(40);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改表字段</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">alter table table_name alter column signup_date set not null;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">重命名表字段</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">alter table table_name rename column signup_date to signup;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">删除表字段</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">alter table table_name drop column email;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">重命名表</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">alter table table_name rename to new_table_name;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">删除表</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">drop table if exists table_name;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_常用技巧">4.3. 常用技巧</h3>
<div class="sect3">
<h4 id="_查看表大小">4.3.1. 查看表大小</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">select relname, pg_size_pretty(pg_relation_size(relid)) from pg_stat_user_tables where schemaname='public' order by pg_relation_size(relid) desc;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">zpmod=&gt; select relname, pg_size_pretty(pg_relation_size(relid)) from pg_stat_user_tables where schemaname='public' order by pg_relation_size(relid) desc;
  relname  | pg_size_pretty
-----------+----------------
 node      | 8192 bytes
 node_attr | 0 bytes
(2 行记录)</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Linux_chapter">5. Linux</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_常用命令">5.1. 常用命令</h3>
<div class="sect3">
<h4 id="_烤机必备">5.1.1. 烤机必备</h4>
<div class="paragraph">
<p>从0设备到空设备持续写入，会占用单核100%：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dd if=/dev/zero of=/dev/null</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果不够，多来几个就行。</p>
</div>
</div>
<div class="sect3">
<h4 id="_find分别查找目录和文件">5.1.2. find分别查找目录和文件</h4>
<div class="listingblock">
<div class="title">修改当前路径所有目录的权限</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">find . -type d|xargs  -d '\n' chmod 755</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改当前路径所有文件的权限</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">find . -type f|xargs  -d '\n' chmod 644</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
由于 <code>xargs</code> 默认使用空格为分隔符，导致目录或文件中有空格时无法正常使用。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_创建用于运行服务的用户">5.1.3. 创建用于运行服务的用户</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">useradd --comment  "Python User" --user-group --no-create-home --shell /usr/bin/nologin  python</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_仅修改子目录中的文件权限忽略目录">5.1.4. 仅修改子目录中的文件权限，忽略目录</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">find . -type f -exec chmod 644 -- {} +</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_networkmanager">5.2. NetworkManager</h3>
<div class="sect3">
<h4 id="_nmcli">5.2.1. nmcli</h4>
<div class="sect4">
<h5 id="_配置ip地址">配置IP地址</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli c modify eth0 ipv4.addresses 192.168.2.12/24 ipv4.method manual
nmcli c modify eth0 ipv4.gateway 192.168.2.1
nmcli c modify eth0 ipv4.dns "223.5.5.5 223.6.6.6"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_物理网卡加入网桥">物理网卡加入网桥</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli c add type Ethernet autoconnect yes con-name em1 ifname em1

nmcli c add type bridge autoconnect yes con-name br1 ifname br1
nmcli c modify br1 bridge.stp no
nmcli c modify br1 ipv6.method ignore
nmcli c modify br1 ipv4.addresses 192.168.2.8/24 ipv4.method manual
nmcli c modify br1 ipv4.gateway 192.168.2.1
nmcli c modify br1 ipv4.dns "223.5.5.5 223.6.6.6"

# 以下3条命令必须同时执行，最好放到脚本里面执行。因为，delete网卡后，可能会断网。重启网络服务或启动网桥后才能恢复
cat &lt;&lt; EOF &gt; /tmp/set_br1.sh
nmcli c delete em1
nmcli c add type bridge-slave autoconnect yes con-name em1 ifname em1 master br1
nmcli c up br1
EOF

sh /tmp/set_br1.sh &amp;
rm -f /tmp/set_br1.sh</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Libvirt_chapter">6. Libvirt</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置">6.1. 安装配置</h3>
<div class="sect3">
<h4 id="_安装kvm环境">6.1.1. 安装kvm环境</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y virt-manager libvirt virt-install qemu-kvm bridge-utils</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre># lsmod | grep kvm

kvm_intel       138567  0
kvm             441119  1 kvm_intel</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start libvirtd

systemctl enable libvirtd

echo "net.ipv4.ip_forward = 1" &gt;&gt; /etc/sysctl.conf
sysctl -p</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置网桥">6.1.2. 设置网桥</h4>
<div class="sect4">
<h5 id="_设置内网网桥和_dhcp">设置内网网桥和 DHCP</h5>
<div class="paragraph">
<p>编辑 <code>/etc/libvirt/qemu/networks/default.xml</code>，修改IP段为 <code>192.168.122.0/24，stp='on'</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;network&gt;
  &lt;name&gt;default&lt;/name&gt;
  &lt;uuid&gt;9719a6f8-7e16-4e7b-a592-909337ddaf73&lt;/uuid&gt;
  &lt;forward mode='nat'/&gt;
  &lt;bridge name='virbr0' stp='on' delay='0'/&gt;
  &lt;mac address='52:54:00:dd:9e:e0'/&gt;
  &lt;ip address='192.168.122.1' netmask='255.255.255.0'&gt;
    &lt;dhcp&gt;
      &lt;range start='192.168.122.2' end='192.168.122.254'/&gt;
    &lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>编辑 <code>/var/lib/libvirt/dnsmasq/default.conf</code>，修改IP段为 <code>192.168.122.0/24</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dhcp-range=192.168.122.2,192.168.122.254</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">重启libvirtd</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl restart libvirtd</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_查看默认网桥virbr0">查看默认网桥virbr0</h5>
<div class="listingblock">
<div class="content">
<pre># ip a
4: virbr0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN
    link/ether 52:54:00:dd:9e:e0 brd ff:ff:ff:ff:ff:ff
    inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0
       valid_lft forever preferred_lft forever
5: virbr0-nic: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc pfifo_fast master virbr0 state DOWN qlen 500
    link/ether 52:54:00:dd:9e:e0 brd ff:ff:ff:ff:ff:ff

# brctl show
bridge name	bridge id		STP enabled	interfaces
virbr0		8000.525400dd9ee0	off		virbr0-nic</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
CentOS 8可以使用 <code>bridge link show</code> 或 <code>nmcli -f bridge c s virbr0</code>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置公网网桥使虚拟机可以绑定公网ip">6.1.3. 配置公网网桥，使虚拟机可以绑定公网IP</h4>
<div class="listingblock">
<div class="title">nmcli依赖于NetworkManager服务</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl unmask NetworkManager
systemctl start NetworkManager
systemctl status NetworkManager</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">添加网桥</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli c add type bridge autoconnect yes con-name br1 ifname br1
nmcli c modify br1 bridge.stp no
nmcli c modify br1 ipv6.method ignore
nmcli c modify br1 ipv4.addresses 182.131.21.23/28 ipv4.method manual
nmcli c modify br1 ipv4.gateway 182.131.21.1
nmcli c modify br1 ipv4.dns "223.5.5.5 223.6.6.6"</code></pre>
</div>
</div>
<div class="paragraph">
<p>删除物理网卡em1，将网卡加入网桥。em1的IP地址也自动加入到了网桥。</p>
</div>
<div class="paragraph">
<p>以下3条命令必须同时执行，最好放到脚本里面执行。因为，delete网卡后，可能会断网。重启网络服务或启动网桥后才能恢复</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /tmp/set_br1.sh
nmcli c delete em1
nmcli c add type bridge-slave autoconnect yes con-name em1 ifname em1 master br1
nmcli c up br1
EOF

chmod 755 /tmp/set_br1.sh
sh /tmp/set_br1.sh &amp;
rm -f /tmp/set_br1.sh</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
CentOS 7 上意外关闭了 NetworkManager 服务，重启后导致无法访问网络。注意，保持NetworkManager开机运行。
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_查看_os_variant_类型">6.1.4. 查看 os-variant 类型</h4>
<div class="listingblock">
<div class="content">
<pre># osinfo-query os|grep -i centos
 centos6.0            | CentOS 6.0                                         | 6.0      | http://centos.org/centos/6.0
 centos6.1            | CentOS 6.1                                         | 6.1      | http://centos.org/centos/6.1
 centos6.2            | CentOS 6.2                                         | 6.2      | http://centos.org/centos/6.2
 centos6.3            | CentOS 6.3                                         | 6.3      | http://centos.org/centos/6.3
 centos6.4            | CentOS 6.4                                         | 6.4      | http://centos.org/centos/6.4
 centos6.5            | CentOS 6.5                                         | 6.5      | http://centos.org/centos/6.5
 centos7.0            | CentOS 7.0                                         | 7.0      | http://centos.org/centos/7.0

# osinfo-query os|grep -i 2008
 mandriva2008.0       | Mandriva Linux 2008                                | 2008.0   | http://mandriva.com/mandriva/2008.0
 mandriva2008.1       | Mandriva Linux 2008 Spring                         | 2008.1   | http://mandriva.com/mandriva/2008.1
 win2k8               | Microsoft Windows Server 2008                      | 6.0      | http://microsoft.com/win/2k8
 win2k8r2             | Microsoft Windows Server 2008 R2                   | 6.1      | http://microsoft.com/win/2k8r2

# osinfo-query os|grep -i 2012
 win2k12              | Microsoft Windows Server 2012                      | 6.3      | http://microsoft.com/win/2k12
 win2k12r2            | Microsoft Windows Server 2012 R2                   | 6.3      | http://microsoft.com/win/2k12r2</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_增加虚拟机">6.1.5. 增加虚拟机</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">qemu-img create -f qcow2 /data/libvirt/images/192168100009.img 30G

virt-install \
--name 192168100009 \
--ram 4096 \
--disk path=/data/libvirt/images/192168100009.img,size=30 \
--vcpus 2 \
--os-type linux \
--os-variant centos6 \
--network bridge=br0 \
--console pty,target_type=serial \
--cdrom=/var/lib/libvirt/images/CentOS-7-x86_64-Minimal-1511.iso \
--graphics vnc,password=aC8W5It9nOyrXchH,port=-1,listen=0.0.0.0

virt-install \
--name tpl_win2k12r2 \
--ram 4048 \
--disk path=/data/libvirt/images/tpl_win2k12r2_hd0.img,size=100 \
--vcpus 4 \
--os-type windows \
--os-variant win2k12r2 \
--network bridge=virbr0 \
--console pty,target_type=serial \
--cdrom=/data/libvirt/iso/win2k12r2.iso \
--graphics vnc,password=aC8W5It9nOyrXchH,port=-1,listen=0.0.0.0

# 从已经存在的镜像文件(tpl_win2k12r2.img)创建虚拟机
virt-install \
--name tpl_win2k12r2 \
--ram 4048 \
--disk path=/data/libvirt/images/tpl_win2k12r2.img \
--vcpus 4 \
--os-type windows \
--os-variant win2k12r2 \
--network bridge=virbr0 \
--console pty,target_type=serial \
--import \
--graphics vnc,password=aC8W5It9nOyrXchH,port=-1,listen=0.0.0.0</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">显示启动菜单</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;os&gt;
    &lt;bootmenu enable='yes'/&gt;
  &lt;/os&gt;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">显示物理CPU</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;cpu mode='host-passthrough' /&gt;</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">错误配置</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">  &lt;cpu mode='host-passthrough'&gt;
    &lt;feature policy='disable' name='lahf_lm'/&gt;
  &lt;/cpu&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>会导致windows不停重启。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">多网卡并指定网卡名称</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">    &lt;interface type='bridge'&gt;
      &lt;mac address='52:54:00:3e:61:be'/&gt;
      &lt;source bridge='br1'/&gt;
      &lt;target dev='priweb1_wan'/&gt;
      &lt;model type='rtl8139'/&gt;
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/&gt;
    &lt;/interface&gt;
    &lt;interface type='bridge'&gt;
      &lt;mac address='52:54:00:3e:61:bf'/&gt;
      &lt;source bridge='virbr0'/&gt;
      &lt;target dev='priweb1_lan'/&gt;
      &lt;model type='rtl8139'/&gt;
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x0'/&gt;
    &lt;/interface&gt;
    &lt;serial type='pty'&gt;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">调试</dt>
<dd>
<p><code>--debug</code> 参数</p>
</dd>
<dt class="hdlist1">指定VNC端口</dt>
<dd>
<p><code>--graphics vnc,password=cloud,port=5911,listen=0.0.0.0</code></p>
</dd>
<dt class="hdlist1">自动指定VNC端口</dt>
<dd>
<p><code>--graphics vnc,password=cloud,port=-1,listen=0.0.0.0</code></p>
</dd>
<dt class="hdlist1">查看自动指定的端口</dt>
<dd>
<p><code>virsh qemu-monitor-command tpl_centos7 --hmp info vnc</code></p>
</dd>
<dt class="hdlist1">查看自动指定的端口</dt>
<dd>
<p><code>virsh qemu-monitor-command tpl_win2k8r2 --hmp info vnc</code></p>
</dd>
<dt class="hdlist1">从多个硬盘镜像导入</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>--disk path=/data/libvirt/images/primary_website_1_hd0.img</code></p>
</li>
<li>
<p><code>--disk path=/data/libvirt/images/primary_website_1_hd1.img</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>9600.17050.WINBLUE_REFRESH.140317-1640_X64FRE_SERVER_EVAL_ZH-CN-IR3_SSS_X64FREE_ZH-CN_DV9.iso 这种文件名virt-isntall是无法识别的，提示找不到iso</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">无光驱配置，增加配置</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; guest-device.xml
&lt;disk type='block' device='cdrom'&gt;
  &lt;driver name='qemu' type='raw'/&gt;
  &lt;target dev='vdc' bus='sata'/&gt;
  &lt;readonly/&gt;
&lt;/disk&gt;
EOF

virsh attach-device --config tpl_win2k12r2 guest-device.xml</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">有光驱，动态插入ISO</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">virsh change-media tpl_win2k12r2 vdc /data/libvirt/iso/win2k12r2.iso</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>注意设置启动菜单：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;os&gt;
  ....
  &lt;boot dev='cdrom'/&gt;
  &lt;boot dev='hd'/&gt;
  &lt;bootmenu enable='yes'/&gt;
&lt;/os&gt;</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">内网NAT</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">iptables -t nat -A PREROUTING -d 182.131.21.23/32 -p tcp -m tcp --dport 23389 -j DNAT --to-destination 192.168.122.2:3389
iptables -t nat -A PREROUTING -d 182.131.21.23/32 -p tcp -m tcp --dport 322 -j DNAT --to-destination 192.168.122.3:22
iptables -I FORWARD -p tcp -m multiport -d 192.168.122.0/24 -o virbr0 --dports 21,22,3389  -j ACCEPT
service iptables save</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改虚拟机网桥</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">brctl delif br0 ${vpsname}
brctl addif br1 ${vpsname}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">屏蔽外部DHCP</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">iptables -t nat -A PREROUTING -p udp -m udp --sport 67 -j DROP
iptables -t nat -A FORWARD -o enp5s0f0 -p stp -j DROP
iptables -t nat -A OUTPUT -o enp5s0f0 -p stp -j DROP
iptables -t nat -A POSTROUTING -p udp -m udp --dport 67 -j DROP

firewall-cmd --permanent --direct --passthrough ipv4  -t nat -A POSTROUTING -s 10.8.0.0/24 -j SNAT --to-source 10.162.xxx.xxx
[source, bash]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_常用命令_2">6.2. 常用命令</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">qemu-img create -f qcow2 /var/lib/libvirt/images/vm192168122253.img 100G

virt-install \
--name vm192168122253 \
--ram 4096 \
--disk path=/var/lib/libvirt/images/vm192168122253.img,size=100,format=qcow2 \
--vcpus 4 \
--os-type windows \
--os-variant win2k8r2 \
--network bridge=virbr0 \
--console pty,target_type=serial \
--cdrom=/var/lib/libvirt/images/7601.17514.101119-1850_x64fre_server_eval_zh-cn-GRMSXEVAL_CN_DVD.iso \
--graphics vnc,password=YR710pwKX9tGfUOhnRWD,port=-1,listen=0.0.0.0

virt-clone -o centos6 -n master_db -f /data/master_db_sys.img


virsh setmaxmem vm192168122253 12G --config
virsh setmem vm192168122253 12G --config
virsh setvcpus  vm192168122253 8 --maximum --config
virsh setvcpus vm192168122253 8 --config

virsh dominfo vm192168122253


cat &lt;&lt;EOF &gt; NewStorage.xml
&lt;disk type='file' device='disk'&gt;
  &lt;driver name='qemu' type='qcow2' cache='none'/&gt;
  &lt;source file='/var/lib/libvirt/images/vm192168122253_1.img'/&gt;
  &lt;target dev='vdb' bus='sata'/&gt;
&lt;/disk&gt;
EOF

virsh attach-device --config vm192168122253 NewStorage.xml
rm -f NewStorage.xml

virsh autostart vm192168122253

!Mwteck.com</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_MySQL_chapter">7. MySQL</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_常用命令_3">7.1. 常用命令</h3>
<div class="sect3">
<h4 id="_卸载密码插件">7.1.1. 卸载密码插件</h4>
<div class="paragraph">
<p>MySQL5.7+以上的版本安装后必须先改密码，才能进行其它操作：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 设置临时密码
mysqladmin -uroot -p'旧密码' password "1qaz@2wsX"

# MySQL 5.7
mysql -uroot -p'1qaz@2wsX' -e "uninstall plugin validate_password;"
# MySQL 8.0
mysql -uroot -p'1qaz@2wsX' -e "UNINSTALL COMPONENT 'file://component_validate_password';"

# 设置新密码
mysqladmin -uroot -p'1qaz@2wsX' password '新密码'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_创建数据库时指定字符集">7.1.2. 创建数据库时指定字符集</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">CREATE DATABASE db_name DEFAULT CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_新建或修改密码开放指定host登录">7.1.3. 新建或修改密码、开放指定HOST登录</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">参考</dt>
<dd>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/creating-accounts.html">Adding Accounts, Assigning Privileges, and Dropping Accounts</a></p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">MySQL 5.7及以上，开放指定HOST并设置用户名和密码</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">CREATE USER 'dummy'@'localhost';

CREATE USER 'finley'@'localhost' IDENTIFIED BY 'password';

GRANT ALL ON *.* TO 'finley'@'localhost' WITH GRANT OPTION;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">MySQL 5.7及以上，单独开放指定HOST登录</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">use mysql
update user set host = '%'  where user ='root';
flush privileges;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">MySQL 5.7及以上，修改用户密码</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">use mysql
ALTER USER 'root'@'%' IDENTIFIED BY 'geek';
flush privileges;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">MySQL 5.7以下</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">use mysql
grant all privileges on *.*  to root@"172.17.%.%" identified by "geek";
update user set Grant_priv='Y' where User='root' and Host='172.17.%.%';
flush privileges;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_本机无密码登录">7.1.4. 本机无密码登录</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql_config_editor set --login-path=local --host=localhost --user=root --password</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql --login-path=local db_name</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_查看字符集">7.1.5. 查看字符集</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>utf8mb4_unicode_ci</code> 是用UNICODE排序，不是中文！</p>
</div>
<div class="paragraph">
<p>需要中文可以考虑用 <code>utf8mb4_zh_0900_as_cs</code>。</p>
</div>
<div class="paragraph">
<p>修改表排序规则：</p>
</div>
<div class="paragraph">
<p><code>ALTER TABLE project CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_zh_0900_as_cs;</code></p>
</div>
<div class="paragraph">
<p>查看表排序规则：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>`show table project`</pre>
</div>
</div>
<div class="paragraph">
<p>参考：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>https://dev.mysql.com/doc/refman/8.0/en/charset-unicode-sets.html</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">查看数据库字符集1</div>
<div class="content">
<pre>mysql&gt; show variables like 'collation%';
+----------------------+--------------------+
| Variable_name        | Value              |
+----------------------+--------------------+
| collation_connection | utf8mb4_unicode_ci |
| collation_database   | utf8mb4_unicode_ci |
| collation_server     | utf8mb4_unicode_ci |
+----------------------+--------------------+
3 rows in set (0.00 sec)

mysql&gt; show variables like 'character%';
+--------------------------+----------------------------+
| Variable_name            | Value                      |
+--------------------------+----------------------------+
| character_set_client     | utf8mb4                    |
| character_set_connection | utf8mb4                    |
| character_set_database   | utf8mb4                    |
| character_set_filesystem | binary                     |
| character_set_results    | utf8mb4                    |
| character_set_server     | utf8mb4                    |
| character_set_system     | utf8                       |
| character_sets_dir       | /usr/share/mysql/charsets/ |
+--------------------------+----------------------------+
8 rows in set (0.00 sec)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看数据库字符集2</div>
<div class="content">
<pre>mysql&gt; show create database ghibli;
+----------+----------------------------------------------------------------------------------------------------------------------------------+
| Database | Create Database                                                                                                                  |
+----------+----------------------------------------------------------------------------------------------------------------------------------+
| ghibli   | CREATE DATABASE `ghibli` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */ /*!80016 DEFAULT ENCRYPTION='N' */ |
+----------+----------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看表字符集</div>
<div class="content">
<pre>mysql&gt; show create table pre_ucenter_memberfields;
Current database: db_name

+-----------------------------------------------------------------+
| Table                    | Create Table|
+-----------------------------------------------------------------+
| pre_ucenter_memberfields | CREATE TABLE `pre_ucenter_memberfields` (
  `uid` mediumint(8) unsigned NOT NULL DEFAULT '0',
  `blacklist` text NOT NULL,
  PRIMARY KEY (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=gbk |
+-----------------------------------------------------------------+
1 row in set (0.98 sec)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_修改表字符集">7.1.6. 修改表字符集</h4>
<div class="listingblock">
<div class="title">修改表字符集</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">ALTER TABLE table_name CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改数据库字符集</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">ALTER DATABASE db_name CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_备份和还原">7.1.7. 备份和还原</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysqldump -uusername -p'password' --add-drop-table db_name &gt; db_name_dump.sql

mysql -uusername -p'password' db_name &lt; db_name_dump.sql</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_临时启用性能调优">7.1.8. 临时启用性能调优</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">set profiling=on;
show profiles;
show profile for query query_id;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_查看全局变量">7.1.9. 查看全局变量</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">set global query_cache_type=on;

show global variables like '%time%';</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_索引">7.2. 索引</h3>
<div class="sect3">
<h4 id="_查看索引">7.2.1. 查看索引</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">SHOW INDEX FROM TBLNAME;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_创建索引">7.2.2. 创建索引</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">CREATE INDEX ev_info_createBy_IDX USING BTREE ON ttd.ev_info (createBy);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_删除索引">7.2.3. 删除索引</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="sql" class="language-sql hljs">DROP INDEX index_name ON talbe_name;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ArchLinux_chapter">8. ArchLinux</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_archlinux_安装">8.1. ArchLinux 安装</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Arch Linux安装可以在启动镜像之后，通过SSH连接复制以下命令字符完成安装。步骤如下：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>ip a</code> 查看IP地址；</p>
</li>
<li>
<p><code>systemctl start sshd</code> 启动SSH服务；</p>
</li>
<li>
<p><code>passwd</code> 修改启动镜像root用户密码；</p>
</li>
<li>
<p>使用任意SSH客户端软件，连接启动镜像IP地址的22端口即可。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>如果是安装中途连接SSH的，请注意适时执行 <code>arch-chroot /mnt</code> 命令进入安装目标硬盘。否则，所有安装操作重启系统后无效（安装到了启动镜像中）。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_建立硬盘分区">8.1.1. 建立硬盘分区</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cfdisk</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
按照本教程安装ArchLinux ，硬盘至少需要10G以上。
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
如果使用UEFI启动方式，需要新建 <code>/dev/sda1</code> 容量200M，并且设置为启动分区，其余分区编号顺延。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>创建主分区，此处以7G为例，实际情况至少10G：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_01.png" alt="archlinux install 01">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_02.png" alt="archlinux install 02">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_03.png" alt="archlinux install 03">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_04.png" alt="archlinux install 04">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_05.png" alt="archlinux install 05">
</div>
</div>
<div class="paragraph">
<p>创建交换分区，容量1G：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_06.png" alt="archlinux install 06">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_07.png" alt="archlinux install 07">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_08.png" alt="archlinux install 08">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_09.png" alt="archlinux install 09">
</div>
</div>
<div class="paragraph">
<p>保存修改并退出：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_10.png" alt="archlinux install 10">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_11.png" alt="archlinux install 11">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_12.png" alt="archlinux install 12">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/archlinux_install_13.png" alt="archlinux install 13">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_格式化分区">8.1.2. 格式化分区</h4>
<div class="paragraph">
<p>格式化主分区：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkfs.ext4 /dev/sda1</code></pre>
</div>
</div>
<div class="paragraph">
<p>格式化虚拟分区：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkswap /dev/sda2

swapon /dev/sda2</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果使用UEFI启动方式，并且 <code>/dev/sda1</code> 是容量200M的启动分区，需要执行以下步骤。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Syy
pacman -S dosfstools
mkfs.fat -F32 /dev/sda1</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_挂载分区">8.1.3. 挂载分区</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mount /dev/sda1 /mnt</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果使用UEFI启动方式，并且 <code>/dev/sda1</code> 是容量200M的启动分区，需要执行以下步骤。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /mnt/boot/efi
mount /dev/sda1 /mnt/boot/efi</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_设置国内镜像源">8.1.4. 设置国内镜像源</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/pacman.d/mirrorlist
Server = https://mirrors.163.com/archlinux/\$repo/os/\$arch
EOF</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装基础包">8.1.5. 安装基础包</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacstrap /mnt base</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_开机挂载分区">8.1.6. 开机挂载分区</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code></pre>
</div>
</div>
<div class="paragraph">
<p>编辑 <code>/mnt/etc/fstab</code> 文件，确认分区信息无误。</p>
</div>
</div>
<div class="sect3">
<h4 id="_切换到全新_arch_linux_系统">8.1.7. 切换到全新 Arch Linux 系统</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">arch-chroot /mnt</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置时区">8.1.8. 设置时区</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_本地化语言支持">8.1.9. 本地化语言支持</h4>
<div class="paragraph">
<p>启用语言参数：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "en_US.UTF-8 UTF-8" &gt;&gt; /etc/locale.gen
echo "zh_CN.GB18030 GB18030" &gt;&gt; /etc/locale.gen
echo "zh_CN.GBK GBK" &gt;&gt; /etc/locale.gen
echo "zh_CN.UTF-8 UTF-8" &gt;&gt; /etc/locale.gen
echo "zh_CN GB2312" &gt;&gt; /etc/locale.gen</code></pre>
</div>
</div>
<div class="paragraph">
<p>生成locale：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">locale-gen</code></pre>
</div>
</div>
<div class="paragraph">
<p>设置系统默认语言：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "LANG=en_US.UTF-8" &gt; /etc/locale.conf</code></pre>
</div>
</div>
<div class="paragraph">
<p>全局设置为英文，tty控制台不会乱码，新用户默认目录也是英文名称，方便使用。</p>
</div>
<div class="paragraph">
<p>新用户登录桌面后，自行找到控制面板中的 &#8220;Region and Language&#8221;（区域和语言）设置为 <code>汉语</code> 即可。设置后，如果提示更新目录名称为中文，请选择 &#8220;保留旧的文件名&#8221;，除非你想在终端经常打中文目录名称（累死你~~）。</p>
</div>
</div>
<div class="sect3">
<h4 id="_键盘布局">8.1.10. 键盘布局</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "KEYMAP=us" &gt; /etc/vconsole.conf</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置主机名">8.1.11. 设置主机名</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'archlinux' &gt; /etc/hostname</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_本地网络配置">8.1.12. 本地网络配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo '127.0.0.1 localhost' &gt; /etc/hosts
# 添加主机名对应的设置
echo '127.0.0.1 archlinux' &gt;&gt; /etc/hosts</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置root密码">8.1.13. 设置root密码</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">passwd</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_创建用户">8.1.14. 创建用户</h4>
<div class="paragraph">
<p>新增用户：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">useradd -m mk</code></pre>
</div>
</div>
<div class="paragraph">
<p>设置用户密码：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">passwd mk</code></pre>
</div>
</div>
<div class="paragraph">
<p>添加到sudo列表：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -S sudo

echo 'mk   ALL=(ALL) ALL' &gt;&gt; /etc/sudoers</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装grub引导">8.1.15. 安装Grub引导</h4>
<div class="sect4">
<h5 id="_使用传统方式启动的bios">使用传统方式启动的BIOS</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -S grub

grub-install --target=i386-pc --recheck /dev/sda

pacman -S linux linux-headers linux-lts linux-lts-headers

grub-mkconfig -o /boot/grub/gurb.cfg</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_使用uefi启动的bios">使用UEFI启动的BIOS</h5>
<div class="paragraph">
<p>对于使用 UEFI 启动的用户，请用以下方式安装和设置Grub引导：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -S grub efibootmgr

grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=arch

pacman -S linux linux-headers linux-lts linux-lts-headers

grub-mkconfig -o /boot/grub/grub.cfg</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装桌面">8.1.16. 安装桌面</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 更新软件包索引
pacman -Syy

# 桌面环境
pacman -S gnome vim networkmanager

# WIFI驱动
pacman -S linux-firmware

# 拼音输入法
pacman -S ibus-sunpinyin sunpinyin sunpinyin-data

# 显卡驱动
pacman -S xf86-video-fbdev xf86-video-intel xf86-video-vesa xf86-video-ati xf86-video-amdgpu

# 汉字字体
pacman -S wqy-microhei wqy-zenhei

# 开机启动
systemctl enable NetworkManager
systemctl enable gdm</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_重启">8.1.17. 重启</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">exit

reboot</code></pre>
</div>
</div>
<div class="paragraph">
<p>安装完成，重启进入Arch Linux系统。</p>
</div>
</div>
<div class="sect3">
<h4 id="_设置pacman">8.1.18. 设置pacman</h4>
<div class="paragraph">
<p>增加 <code>Arch Linux 中文社区仓库</code> 的腾讯镜像服务器：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 进入root
sudo -i

cat &lt;&lt; EOF &gt;&gt; /etc/pacman.conf

[archlinuxcn]
Server = https://mirrors.cloud.tencent.com/archlinuxcn/\$arch
SigLevel = Optional TrustAll

EOF

exit</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Arch Linux 中文社区仓库</code> 包含深度QQ、深度TIM、WPS、Google Chrome浏览器、WPS等等不开源的软件。</p>
</div>
</div>
<div class="sect3">
<h4 id="_安装常用软件">8.1.19. 安装常用软件</h4>
<div class="paragraph">
<p>在桌面打开终端，复制以下命令一次性安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Syy

pacman -S archlinuxcn-keyring

pacman -S gedit vim screen thunderbird thunderbird-i18n-zh-cn openssh bash-completion cmake git curl wget filezilla gcc make  mlocate  nginx ntp p7zip rsync virtualbox  virtualbox-guest-iso virtualbox-host-dkms file-roller parted sshpass rdesktop qt5 fakeroot google-chrome openssl wireshark-qt</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_系统设置">8.1.20. 系统设置</h4>
<div class="paragraph">
<p>在桌面打开终端，执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># GNOME 桌面设置
gsettings set org.gnome.nautilus.preferences always-use-location-entry true
gsettings set org.gnome.nautilus.preferences default-sort-order name
gsettings set org.gtk.Settings.FileChooser sort-directories-first true
gsettings set org.gnome.desktop.interface clock-show-date true
gsettings set org.gnome.desktop.interface clock-show-seconds true
# Ctrl+Shift+Alt+R 录像时，30秒后自动结束。设置为0,不限制
gsettings set org.gnome.settings-daemon.plugins.media-keys max-screencast-length 0

# virtualbox 设置
sudo gpasswd -a root vboxusers
sudo gpasswd -a $USER vboxusers
# wireshark 设置
sudo gpasswd -a root wireshark
sudo gpasswd -a $USER wireshark
sudo grpunconv

# 开机启动
systemctl enable systemd-timesyncd
systemctl start systemd-timesyncd
sudo systemctl enable sshd
sudo systemctl mask tmp.mount</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
默认不能使用 <code>root</code> 用户 SSH 连接 Arch Linux。请修改  <code>/etc/ssh/sshd_config</code> 中的 <code>PermitRootLogin</code> 为 <code>yes</code>。
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_gedit_编辑器设置">gedit 编辑器设置</h5>
<div class="paragraph">
<p>安装设置编辑器：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sudo pacman -S dconf-editor</code></pre>
</div>
</div>
<div class="paragraph">
<p>然后，在终端执行 <code>dconf-editor</code> 命令后，依次找到菜单 org.gnome.gedit.preferences.editor &#8594; scheme &#8594; cobalt，可以设置编辑器背景。</p>
</div>
<div class="paragraph">
<p>org.gnome.gedit.preferences.editor 中有许多其它设置，根据自己习惯自行设置。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_faq">8.1.21. FAQ</h4>
<div class="sect4">
<h5 id="_e495">E495</h5>
<div class="ulist">
<ul>
<li>
<p>禁用安全启动；</p>
</li>
<li>
<p>进入BIOS，设置：</p>
<div class="ulist">
<ul>
<li>
<p><code>"Startup"</code> &#8594; <code>"UEFI/Legacy Boot"</code> 为 <code>"UEFI Only"</code>；</p>
</li>
<li>
<p><code>"Startup"</code> &#8594; <code>"UEFI/Legacy Boot"</code> &#8594; <code>"CMS Support"</code> 为 <code>"yes"</code>；</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果不设置，安装Linux后显卡硬件不会被识别。在日志文件 <code>"Xorg.0.log"</code> 中会出现 <code>"(EE) open /dev/dri/card0: No such file or directory"</code> 的错误，无法进入桌面。</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pacman">8.2. pacman</h3>
<div class="sect3">
<h4 id="_用法">8.2.1. 用法</h4>
<div class="sect4">
<h5 id="_安装包">安装包</h5>
<div class="sect5">
<h6 id="_安装指定的包">安装指定的包</h6>
<div class="paragraph">
<p>安装单个包或多个包以及包依赖，执行命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -S package_name1 package_name2 ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>有时会出现一个包有多个版本，来自不同的仓库（比如，<code>extra</code> 和 <code>testing</code>）。
以下命令会安装 <code>extra</code> 仓库的包，仓库名称放在包名之前：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -S extra/package_name</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_安装包组">安装包组</h6>
<div class="paragraph">
<p>安装包组下的所有包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -S gnome</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看 <code>gnome</code> 组下的包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Sg gnome</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_移除包">移除包</h5>
<div class="paragraph">
<p>移除包，但不移除相关依赖包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -R package_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>移除包及其依赖包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Rs package_name</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_升级包">升级包</h5>
<div class="paragraph">
<p>有时仅仅需要更新软件索引包，使用 <code>Syy</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Syy</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>pacman</code> 能够使用一个命令升级系统上的所有包。根据系统上次更新时间不同，升级的时间也有所不同。
下面这个命令会同步仓库数据库并更新包。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Syu</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_查询包数据库">查询包数据库</h5>
<div class="paragraph">
<p><code>pacman</code> 使用 <code>-Q</code> 参数查询本地包数据库，使用 <code>-S</code> 参数同步远端数据库，使用 <code>-F</code> 参数同步文件列表数据库。
使用 <code>pacman -Q --help</code>，<code>pacman -S --help</code>，<code>pacman -F --help</code> 命令可以查看更多信息。</p>
</div>
<div class="paragraph">
<p><code>pacman</code> 可以搜索数据库中的包信息，包括包名称和描述：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Ss string1 string2 ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>搜索已经安装的包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Qs string1 string2 ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>根据文件名搜索远端仓库：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -F string1 string2 ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>显示指定包的概要信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Si package_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>显示已经安装的包信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Qi package_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>打印本地包的文件列表：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Ql package_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>从远端仓库获取包的文件列表：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Fl package_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>检查本地包文件是否存在：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Qk package_name</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
传递两个 <code>k</code> 参数将会执行更多检查。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>查询文件所属本地包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Qo /path/to/file_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>从远程仓库查询文件所属包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -F /path/to/file_name</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_清除包缓存">清除包缓存</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Scc</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_其它命令">其它命令</h5>
<div class="paragraph">
<p>仅下载包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Sw package_name</code></pre>
</div>
</div>
<div class="paragraph">
<p>从本地文件系统安装包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -U /path/to/package/package_name-version.pkg.tar.xz</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_search_for_a_package_that_contains_a_specific_file">Search for a package that contains a specific file</h5>
<div class="paragraph">
<p>同步文件数据库:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pacman -Fy</code></pre>
</div>
</div>
<div class="paragraph">
<p>搜索包里面的一个文件，比如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ pacman -F pacman
core/pacman 5.2.1-1 (base base-devel) [installed]
    usr/bin/pacman
    usr/share/bash-completion/completions/pacman
extra/xscreensaver 5.43-1
    usr/lib/xscreensaver/pacman</pre>
</div>
</div>
<div class="paragraph">
<p>更多高级用法，请安装 <code>pkgfile</code>。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_troubleshooting">8.2.2. Troubleshooting</h4>
<div class="sect4">
<h5 id="_signature_from_user_emailexample_org_is_unknown_trust_installation_failed">Signature from "User &lt;<a href="mailto:email@example.org">email@example.org</a>&gt;" is unknown trust, installation failed</h5>
<div class="paragraph">
<p>可选方案：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">方法一</dt>
<dd>
<p>更新已有密钥：<code>pacman-key --refresh-keys</code></p>
</dd>
<dt class="hdlist1">方法二</dt>
<dd>
<p>手动升级 <code>archlinux-keyring</code> 包：<code>pacman -Sy archlinux-keyring &amp;&amp; pacman -Su</code></p>
</dd>
<dt class="hdlist1">方法三</dt>
<dd>
<p>重置所有密钥</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>删除 <code>/etc/pacman.d/gnupg</code> 文件夹</p>
</li>
<li>
<p><code>pacman-key --init</code></p>
</li>
<li>
<p><code>pacman-key --populate archlinux</code></p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wireshark">8.3. Wireshark</h3>
<div class="sect3">
<h4 id="_以普通用户身份抓包">8.3.1. 以普通用户身份抓包</h4>
<div class="paragraph">
<p>默认情况下，必须使用 <code>sudo -i</code> 等命令切换到 root 用户才能获取到本地接口列表，然后抓包。</p>
</div>
<div class="paragraph">
<p>如需要使用普通用户抓包，必须将用户加入 wireshark 群组：</p>
</div>
<div class="paragraph">
<p>gpasswd -a $USERNAME wireshark</p>
</div>
<div class="paragraph">
<p>重启后生效。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>参考</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.archlinux.org/index.php/Wireshark#Capturing_as_normal_user">Capturing as normal user</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sudo">8.4. Sudo</h3>
<div class="sect3">
<h4 id="_sudo_command_doesnt_source_bashrc">8.4.1. sudo command doesn&#8217;t source ~/.bashrc</h4>
<div class="paragraph">
<div class="title">bashrc is a configuration file of bash, only when it&#8217;s executed interactively. It&#8217;s only loaded when you start bash, not when you run some other program such as sh (not even if bash is invoked via the name sh). And it&#8217;s only loaded when bash is interactive, not when it&#8217;s executing a script or a command with -c.</div>
<p>sudo sh -c 'echo $PATH' or sudo bash -c 'echo $PATH' doesn&#8217;t invoke an interactive shell, so .bashrc is not involved.</p>
</div>
<div class="paragraph">
<p>sudo su; echo $PATH runs an interactive instance of root&#8217;s shell. If that&#8217;s bash, then ~root/.bashrc is loaded. This snippet executes echo $PATH once this interactive shell terminates, so whatever happens in the interactive shell has no influence on what the snippet prints at the end. But if you type echo $PATH at the prompt of the interactive shell started by sudo su, you will see the value set by ~root/.bashrc.</p>
</div>
<div class="paragraph">
<p>Since .bashrc is invoked in each interactive shell, not by login shells (not even by interactive login shells, which is a design defect in bash), it&#8217;s the wrong place to define environment variables. Use .bashrc for interactive bash settings such as key bindings, aliases and completion settings. Set environment variables in files that are loaded when you log in: ~/.pam_environment or ~/.profile.</p>
</div>
<div class="paragraph">
<p>So set PATH in .profile instead of .bashrc, and either run a login shell with sudo -i 'echo $PATH', or explicitly source .profile with sudo sh -c '. ~/.profile; echo $PATH'.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>参考</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://unix.stackexchange.com/questions/228314/sudo-command-doesnt-source-root-bashrc">sudo command doesn&#8217;t source ~/.bashrc</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_降级包">8.5. 降级包</h3>
<div class="sect3">
<h4 id="_mysql_启动失败">8.5.1. MySQL 启动失败</h4>
<div class="olist arabic">
<div class="title">分析过程</div>
<ol class="arabic">
<li>
<p><code>sudo systemctl status mysqld</code> 无具体错误</p>
</li>
<li>
<p><code>journalctl -xe</code> 中没有任何更加详细的 <code>MySQL</code> 错误信息，仅仅提示启动失败</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>通过分析发现，可能是 <code>MySQL</code> 的依赖出问题导致。使用 <code>ldd /usr/bin/mysqld</code> 查看确认。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ldd /usr/bin/mysqld
	linux-vdso.so.1 (0x00007fff4dd95000)
	libjemalloc.so.2 =&gt; /usr/lib/libjemalloc.so.2 (0x00007fd61d6d0000)
	libpthread.so.0 =&gt; /usr/lib/libpthread.so.0 (0x00007fd61d6ae000)
	libicuuc.so.64 =&gt; /usr/lib/libicuuc.so.64 (0x00007fd61d4d6000)
	libicui18n.so.64 =&gt; /usr/lib/libicui18n.so.64 (0x00007fd61d1e1000)
	libevent_core-2.1.so.7 =&gt; /usr/lib/libevent_core-2.1.so.7 (0x00007fd61d1a8000)
	libprotobuf-lite.so.18 =&gt; not found
	librt.so.1 =&gt; /usr/lib/librt.so.1 (0x00007fd61d0fe000)</pre>
</div>
</div>
<div class="paragraph">
<p>从以上可以看到缺少 <code>libprotobuf-lite.so.18</code> 库文件。</p>
</div>
<div class="paragraph">
<p>查询库文件所属包</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ pkgfile libprotobuf-lite.so
extra/protobuf</pre>
</div>
</div>
<div class="paragraph">
<p>或者</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo pacman -Fy libprotobuf-lite.so
:: 正在同步软件包数据库...
 core 已经是最新版本
 extra 已经是最新版本
 community 已经是最新版本
 multilib 已经是最新版本
 archlinuxcn 已经是最新版本
extra/protobuf 3.10.0-1 [已安装: 3.10.0-1]
    usr/lib/libprotobuf-lite.so</pre>
</div>
</div>
<div class="paragraph">
<p>查询库文件最新版本号</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo pacman -Ql protobuf|grep libprotobuf-lite.so
protobuf /usr/lib/libprotobuf-lite.so
protobuf /usr/lib/libprotobuf-lite.so.21
protobuf /usr/lib/libprotobuf-lite.so.21.0.0</pre>
</div>
</div>
<div class="paragraph">
<p>或者</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ldconfig -p|grep libprotobuf-lite.so
	libprotobuf-lite.so.21 (libc6,x86-64) =&gt; /usr/lib/libprotobuf-lite.so.21
	libprotobuf-lite.so (libc6,x86-64) =&gt; /usr/lib/libprotobuf-lite.so</pre>
</div>
</div>
<div class="paragraph">
<p>至此，可以确认是由于 <code>protobuf</code> 包更新导致 <code>MySQL</code> 依赖出现问题。紧急修复的方法只有先降级 <code>protobuf</code> 包。</p>
</div>
</div>
<div class="sect3">
<h4 id="_降级_protobuf_包">8.5.2. 降级 <code>protobuf</code> 包</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rm -f protobuf-3.7.0-1-x86_64.pkg.tar.xz
wget https://archive.archlinux.org/packages/p/protobuf/protobuf-3.7.0-1-x86_64.pkg.tar.xz
sudo pacman -U protobuf-3.7.0-1-x86_64.pkg.tar.xz</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">确认 <code>MySQL</code> 依赖</div>
<div class="content">
<pre>$ ldconfig -p|grep libprotobuf-lite.so
	libprotobuf-lite.so.18 (libc6,x86-64) =&gt; /usr/lib/libprotobuf-lite.so.18
	libprotobuf-lite.so (libc6,x86-64) =&gt; /usr/lib/libprotobuf-lite.so

$ ldd /usr/bin/mysqld|grep libprotobuf-lite.so
	libprotobuf-lite.so.18 =&gt; /usr/lib/libprotobuf-lite.so.18 (0x00007f209f7b2000)</pre>
</div>
</div>
<div class="paragraph">
<p>成功搞定。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>没有更快确认 <code>libprotobuf-lite.so.18</code> 库文件属于哪个版本的 <code>protobuf</code>。只有挨个从</p>
</div>
<div class="paragraph">
<p><a href="https://archive.archlinux.org/packages/p/protobuf/" class="bare">https://archive.archlinux.org/packages/p/protobuf/</a></p>
</div>
<div class="paragraph">
<p>下载最近几个版本的 <code>protobuf-3.x.x-x-x86_64.pkg.tar.xz</code> 包测试。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_忽略_protobuf_包的后续更新">8.5.3. 忽略 <code>protobuf</code> 包的后续更新</h4>
<div class="paragraph">
<p>在 <code>/etc/pacman.conf</code> 搜索 <code>IgnorePkg</code> 修改为：</p>
</div>
<div class="paragraph">
<p><code>IgnorePkg = protobuf</code></p>
</div>
<div class="listingblock">
<div class="title">确认忽略效果</div>
<div class="content">
<pre>$ sudo pacman -Syu
[sudo] mk 的密码：
:: 正在同步软件包数据库...
 core 已经是最新版本
 extra 已经是最新版本
 community 已经是最新版本
 multilib 已经是最新版本
 archlinuxcn 已经是最新版本
:: 正在进行全面系统更新...
警告：protobuf：忽略软件包升级 (3.7.0-1 =&gt; 3.10.0-1)
 今日无事可做</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>参考</strong></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://wiki.archlinux.org/index.php/Wireshark#Capturing_as_normal_user">Capturing as normal user</a></p>
</li>
<li>
<p><a href="https://wiki.archlinux.org/index.php/Arch_Linux_Archive#Downloading_packages_from_the_Historical_Archive">Downloading_packages_from_the_Historical_Archive</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_视频缩略图">8.6. 视频缩略图</h3>
<div class="sect3">
<h4 id="_问题">8.6.1. 问题</h4>
<div class="paragraph">
<p><code>Nautilus</code> 窗口视频没有缩略图。</p>
</div>
</div>
<div class="sect3">
<h4 id="_解决方法">8.6.2. 解决方法</h4>
<div class="paragraph">
<p>参考：
<a href="http://logan.tw/posts/2015/11/08/fix-nautilus-video-thumbnails/" class="bare">http://logan.tw/posts/2015/11/08/fix-nautilus-video-thumbnails/</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rm -rf ~/.cache/thumbnails/fail

sudo pacman -S gst-libav</code></pre>
</div>
</div>
<div class="paragraph">
<p>最后，按 <kbd>Ctrl-R</kbd> 刷新 <code>Nautilus</code> 窗口。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_打印机">8.7. 打印机</h3>
<div class="sect3">
<h4 id="_安装配置_2">8.7.1. 安装配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable cups-browsed
systemctl enable org.cups.cupsd

# 将当前用户加入打印机管理员组，否则无法添加打印机提示 “已禁止”
sed -i "s/^SystemGroup sys root wheel$/SystemGroup sys root wheel $USER/" /etc/cups/cups-files.conf

systemctl restart cups-browsed
systemctl restart org.cups.cupsd</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_打印机驱动">8.7.2. 打印机驱动</h4>
<div class="listingblock">
<div class="title">惠普打印机（HP Color LaserJet MFP M181fw）</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 安装打印机驱动
pacman -S hplip

# 查看支持的型号
pacman -Ql hplip</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_添加打印机">8.7.3. 添加打印机</h4>
<div class="sect4">
<h5 id="_惠普打印机惠普工具">惠普打印机：惠普工具</h5>
<div class="paragraph">
<p>运行：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hp-toolbox</code></pre>
</div>
</div>
<div class="paragraph">
<p>然后，单击 <code>Setup Device</code> 安装打印机驱动。</p>
</div>
</div>
<div class="sect4">
<h5 id="_web">Web</h5>
<div class="paragraph">
<p>访问 <a href="http://localhost:631/" class="bare">http://localhost:631/</a> ，单击 <code>"Administration"</code> &#8594; <code>"Printer"</code> &#8594; <code>"Add Printer"</code> 添加打印机。</p>
</div>
<div class="paragraph">
<p>如果提示输入帐号密码，请填写当前登录用户的帐号和密码。</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_XXL-JOB_chapter">9. XXL-JOB</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_3">9.1. 安装配置</h3>
<div class="sect3">
<h4 id="_安装依赖">9.1.1. 安装依赖</h4>
<div class="sect4">
<h5 id="_git">Git</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y git</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_maven_java_8">Maven &amp;&amp; Java 8</h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>Maven</code> 包默认依赖 Java 8。以下 Java 将被安装：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>java-1.8.0-openjdk</p>
</li>
<li>
<p>java-1.8.0-openjdk-devel</p>
</li>
<li>
<p>java-1.8.0-openjdk-headless</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>安装 Maven</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y maven</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看 Maven 版本</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@geekcamp ~]# mvn --version
Apache Maven 3.0.5 (Red Hat 3.0.5-17)
Maven home: /usr/share/maven
Java version: 1.8.0_232, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.232.b09-0.el7_7.x86_64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "3.10.0-1062.el7.x86_64", arch: "amd64", family: "unix"</pre>
</div>
</div>
<div class="paragraph">
<p>查看 Java 版本</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@geekcamp ~]# java -version
openjdk version "1.8.0_232"
OpenJDK Runtime Environment (build 1.8.0_232-b09)
OpenJDK 64-Bit Server VM (build 25.232-b09, mixed mode)</pre>
</div>
</div>
<div class="paragraph">
<p>设置 <code>Maven</code> 全局镜像源</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/.m2

cat &lt;&lt; EOF &gt; ~/.m2/settings.xml
&lt;settings&gt;
  &lt;mirrors&gt;
    &lt;mirror&gt;
      &lt;id&gt;aliyun&lt;/id&gt;
      &lt;name&gt;Aliyun Central&lt;/name&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;/mirror&gt;
  &lt;/mirrors&gt;
&lt;/settings&gt;
EOF</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_java_11可选">Java 11（可选）</h5>
<div class="paragraph">
<p>安装 Java 11：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y java-11-openjdk java-11-openjdk-devel java-11-openjdk-headless</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看当前默认 Java 版本：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@geekcamp ~]# java -version
openjdk version "1.8.0_232"
OpenJDK Runtime Environment (build 1.8.0_232-b09)
OpenJDK 64-Bit Server VM (build 25.232-b09, mixed mode)

[root@geekcamp ~]# alternatives --display java
java - status is auto.
 link currently points to /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.232.b09-0.el7_7.x86_64/jre/bin/java
/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.232.b09-0.el7_7.x86_64/jre/bin/java - family java-1.8.0-openjdk.x86_64 priority 1800232
 slave jre: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.232.b09-0.el7_7.x86_64/jre
......
Current `best' version is /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.232.b09-0.el7_7.x86_64/jre/bin/java.</pre>
</div>
</div>
<div class="paragraph">
<p>设置Java11为默认版本：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">alternatives --set java `ls /usr/lib/jvm/java-11-openjdk-*/bin/java`

alternatives --set jre_openjdk `ls -d /usr/lib/jvm/java-11-openjdk-*`

alternatives --set java_sdk_openjdk `ls -d /usr/lib/jvm/java-11-openjdk-*`</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看当前默认 Java 版本：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@geekcamp ~]# java -version
openjdk version "11.0.6" 2020-01-14 LTS
OpenJDK Runtime Environment 18.9 (build 11.0.6+10-LTS)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.6+10-LTS, mixed mode, sharing)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mysql">MySQL</h5>
<div class="paragraph">
<p>安装 <code>MySQL</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y mariadb-server mariadb</code></pre>
</div>
</div>
<div class="paragraph">
<p>设置开机启动：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable mariadb</code></pre>
</div>
</div>
<div class="paragraph">
<p>启动 <code>MySQL</code> 服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start mariadb</code></pre>
</div>
</div>
<div class="paragraph">
<p>设置密码：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysqladmin -uroot password "geek"</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
默认 <code>MySQL</code> 初始化并启动后，可以使用空密码登录。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>测试 <code>MySQL</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@geekcamp ~]# mysql -uroot -pgeek -e "show databases;"
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| test               |
+--------------------+</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_xxl_job_安装">9.1.2. XXL-JOB 安装</h4>
<div class="paragraph">
<p>构建：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">[ ! -d "~/downloads/" ] &amp;&amp; mkdir ~/downloads/
cd ~/downloads/
git clone https://github.com/xuxueli/xxl-job.git
cd xxl-job
mvn -T 4 package</code></pre>
</div>
</div>
<div class="paragraph">
<p>安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">[ ! -d "/data/xxl-job/admin" ] &amp;&amp; mkdir -p /data/xxl-job/admin
[ ! -d "/data/xxl-job/executor" ] &amp;&amp; mkdir -p /data/xxl-job/executor
[ ! -d "/data/applogs" ] &amp;&amp; mkdir -p /data/applogs

echo y | cp xxl-job-admin/target/xxl-job-admin-2.2.0-SNAPSHOT.jar /data/xxl-job/admin
echo y | cp xxl-job-admin/src/main/resources/application.properties /data/xxl-job/admin

echo y | cp xxl-job-executor-samples/xxl-job-executor-sample-springboot/target/xxl-job-executor-sample-springboot-2.2.0-SNAPSHOT.jar /data/xxl-job/executor
echo y | cp xxl-job-executor-samples/xxl-job-executor-sample-springboot/src/main/resources/application.properties /data/xxl-job/executor</code></pre>
</div>
</div>
<div class="paragraph">
<p>确认安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">[root@geekcamp xxl-job]# find /data/xxl-job/*
/data/xxl-job/admin
/data/xxl-job/admin/xxl-job-admin-2.2.0-SNAPSHOT.jar
/data/xxl-job/admin/application.properties
/data/xxl-job/executor
/data/xxl-job/executor/xxl-job-executor-sample-springboot-2.2.0-SNAPSHOT.jar
/data/xxl-job/executor/application.properties</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_xxl_job_运行前">9.1.3. XXL-JOB 运行前</h4>
<div class="sect4">
<h5 id="_xxl_job_服务端">XXL-JOB 服务端</h5>
<div class="sect5">
<h6 id="_mysql配置">MySQL配置</h6>
<div class="paragraph">
<p>创建 <code>xxl_job</code> 数据库：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql -uroot -pgeek -e "CREATE DATABASE xxl_job DEFAULT CHARACTER SET utf8mb4 DEFAULT COLLATE utf8mb4_unicode_ci;"</code></pre>
</div>
</div>
<div class="paragraph">
<p>创建 <code>xxl_job</code> 用户：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql -uroot -pgeek -e "CREATE USER 'xxl_job'@'localhost' IDENTIFIED BY 'geek';"
mysql -uroot -pgeek -e "GRANT ALL ON xxl_job.* TO 'xxl_job'@'localhost' WITH GRANT OPTION;"</code></pre>
</div>
</div>
<div class="paragraph">
<p>导入 SQL 文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql -uxxl_job -pgeek xxl_job &lt; doc/db/tables_xxl_job.sql</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看 <code>xxl_job</code> 表：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@geekcamp xxl-job]# mysql -uxxl_job -pgeek xxl_job -e "show tables;"
+--------------------+
| Tables_in_xxl_job  |
+--------------------+
| xxl_job_group      |
| xxl_job_info       |
| xxl_job_lock       |
| xxl_job_log        |
| xxl_job_log_report |
| xxl_job_logglue    |
| xxl_job_registry   |
| xxl_job_user       |
+--------------------+</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_设置配置文件">设置配置文件</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sed -i '26s/spring.datasource.username=root/spring.datasource.username=xxl_job/' /data/xxl-job/admin/application.properties

sed -i '27s/spring.datasource.password=root_pwd/spring.datasource.password=geek/' /data/xxl-job/admin/application.properties</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_创建系统用户">创建系统用户</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">useradd --user-group --no-create-home --shell /sbin/nologin --comment "XXL-JOB" xxl_job
chown -R xxl_job:xxl_job /data/applogs /data/xxl-job</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_增加_systemd_文件">增加 systemd 文件</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /usr/lib/systemd/system/xxl_job_admin.service
[Unit]
Description=XXL-JOB Admin Service
After=network.target remote-fs.target nss-lookup.target

[Service]
Type=simple
Environment="PORT=8080"
Environment="CONFIG_FILE=/data/xxl-job/admin/application.properties"
Environment="JAR_FILE=/data/xxl-job/admin/xxl-job-admin-2.2.0-SNAPSHOT.jar"

User=xxl_job
Group=xxl_job
WorkingDirectory=/data/xxl-job/admin
ExecStart=/usr/bin/java -Dserver.port=\${PORT} -Dspring.config.location=\${CONFIG_FILE} -jar \${JAR_FILE}
SuccessExitStatus=143
StandardOutput=null
StandardError=journal

[Install]
WantedBy=multi-user.target
EOF</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_xxl_job_客户端">XXL-JOB 客户端</h5>
<div class="sect5">
<h6 id="_创建目录">创建目录</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">[ ! -d "/data/xxl-job/executor" ] &amp;&amp; mkdir -p /data/xxl-job/executor
[ ! -d "/data/applogs" ] &amp;&amp; mkdir -p /data/applogs</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_设置配置文件_2">设置配置文件</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sed -i '9s#xxl.job.admin.addresses=http://127.0.0.1:8080/xxl-job-admin#xxl.job.admin.addresses=http://192.168.2.11:8080/xxl-job-admin#' \
/data/xxl-job/executor/application.properties

appname=xxl-job-executor-s01

sed -i "12s/xxl.job.executor.appname=xxl-job-executor-sample/xxl.job.executor.appname=${appname}/" \
/data/xxl-job/executor/application.properties</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">按需更改参数</dt>
<dd>
<p>xxl.job.admin.addresses=http://127.0.0.1:8080/xxl-job-admin</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_创建系统用户_2">创建系统用户</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">useradd --user-group --no-create-home --shell /sbin/nologin --comment "XXL-JOB" xxl_job
chown -R xxl_job:xxl_job /data/applogs /data/xxl-job/executor</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_增加_systemd_文件_2">增加 systemd 文件</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /usr/lib/systemd/system/xxl_job_executor.service
[Unit]
Description=XXL-JOB Executor Service
After=network.target remote-fs.target nss-lookup.target

[Service]
Type=simple
Environment="PORT=8081"
Environment="CONFIG_FILE=/data/xxl-job/executor/application.properties"
Environment="JAR_FILE=/data/xxl-job/executor/xxl-job-executor-sample-springboot-2.2.0-SNAPSHOT.jar"

User=xxl_job
Group=xxl_job
WorkingDirectory=/data/xxl-job/executor
ExecStart=/usr/bin/java -Dserver.port=\${PORT} -Dspring.config.location=\${CONFIG_FILE} -jar \${JAR_FILE}
SuccessExitStatus=143
StandardOutput=null
StandardError=journal

[Install]
WantedBy=multi-user.target
EOF</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_启动_xxl_job_服务端">9.1.4. 启动 XXL-JOB 服务端</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable xxl_job_admin
systemctl start xxl_job_admin</code></pre>
</div>
</div>
<div class="paragraph">
<p>确认运行情况：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@geekcamp xxl-job]# systemctl status xxl_job_admin
● xxl_job.service - XXL-JOB Service
   Loaded: loaded (/usr/lib/systemd/system/xxl_job.service; enabled; vendor preset: disabled)
   Active: active (running) since Thu 2020-01-16 13:56:05 CST; 1s ago
 Main PID: 3015 (java)
   CGroup: /system.slice/xxl_job.service
           └─3015 /usr/bin/java -Dserver.port=8080 -Dspring.config.location=/data/xxl-job/application.properties -jar /data/xxl-job/xxl-job-admin-2.2.0-SNA...

Jan 16 13:56:05 geekcamp systemd[1]: Started XXL-JOB Service.

[root@geekcamp xxl-job]# ss -antpl|grep 8080
LISTEN     0      100       [::]:8080                  [::]:*                   users:(("java",pid=2288,fd=21))</pre>
</div>
</div>
<div class="paragraph">
<p>最后，浏览器访问 <a href="http://localhost:8080/xxl-job-admin" class="bare">http://localhost:8080/xxl-job-admin</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>XXL-JOB默认帐号：admin<br>
XXL-JOB默认密码：123456</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_启动_xxl_job_客户端">9.1.5. 启动 XXL-JOB 客户端</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable xxl_job_executor
systemctl start xxl_job_executor</code></pre>
</div>
</div>
<div class="paragraph">
<p>确认运行情况：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@localhost admin]# systemctl status xxl_job_executor
● xxl_job_client.service - XXL-JOB Client
   Loaded: loaded (/usr/lib/systemd/system/xxl_job_client.service; enabled; vendor preset: disabled)
   Active: active (running) since Thu 2020-01-16 18:49:43 CST; 4s ago
 Main PID: 2876 (java)
   CGroup: /system.slice/xxl_job_client.service
           └─2876 /usr/bin/java -Dserver.port=8081 -Dspring.config.location=/data/xxl-job/executor/application.properties -jar /data/xxl-job/executor/xxl-j...

Jan 16 18:49:43 localhost.localdomain systemd[1]: Started XXL-JOB Client.

[root@localhost admin]# ss -antpl|grep 8081
LISTEN     0      100       [::]:8081                  [::]:*                   users:(("java",pid=4679,fd=11))</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_工作状态确认">9.1.6. 工作状态确认</h4>
<div class="paragraph">
<p>访问 <a href="http://192.168.2.11:8080/xxl-job-admin/jobgroup" class="bare">http://192.168.2.11:8080/xxl-job-admin/jobgroup</a> 并登录，确认结果与下图一致：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/xxl_job_admin_jobgroup.jpg" alt="xxl job admin jobgroup">
</div>
<div class="title">Figure 1. XXL-JOB 执行器界面</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_LVM_chapter">10. LVM</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_增加硬盘">10.1. 增加硬盘</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pvcreate  /dev/vdb
vgcreate vg_data /dev/vdb
lvcreate -l 100%free -n data vg_data
mkfs.ext4 /dev/vg_data/data
mkdir /data
echo '/dev/mapper/vg_data-data /data                       ext4    defaults        1 1' &gt;&gt; /etc/fstab
mount -a
df -h
ls /data</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Wireshark_chapter">11. Wireshark</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_技巧汇总">11.1. 技巧汇总</h3>
<div class="sect3">
<h4 id="_捕获过滤器">11.1.1. 捕获过滤器</h4>
<div class="paragraph">
<p><strong><code>捕获过滤器</code> 不是 <code>应用显示过滤器</code></strong></p>
</div>
<div class="paragraph">
<p>捕获过滤器是工作在抓包过程中，此时并未解包，所有数据都是二进制，不能进行高级过滤筛选。比如不支持 <code>http.request.method == POST</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">捕获过滤器文档</dt>
<dd>
<p><a href="https://wiki.wireshark.org/CaptureFilters">CaptureFilters</a></p>
</dd>
<dt class="hdlist1"><code>字符串匹配-捕获过滤器</code> 生成器</dt>
<dd>
<p><a href="https://www.wireshark.org/tools/string-cf.html">String-Matching Capture Filter Generator</a></p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_捕获微信回调">捕获微信回调</h5>
<div class="listingblock">
<div class="title">捕获包含 <code>POST /pay/callback</code> 的TCP包，保存到 <code>wechat.shark.pcap</code></div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">tshark -i em1 -n -f 'port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x504f5354 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 4:4] = 0x202f7061 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 8:4] = 0x792f6361 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 12:4] = 0x6c6c6261 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 16:2] = 0x636b'  -w wechat.shark.pcap</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/POST_pay_callback.jpg" alt="POST pay callback">
</div>
<div class="title">Figure 2. POST /pay/callback <code>字符串匹配-捕获过滤器</code> 生成器截图</div>
</div>
</div>
<div class="sect4">
<h5 id="_捕获过滤器常用表达式">捕获过滤器常用表达式</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Capture only traffic to or from IP address 172.18.5.4:
<code>host 172.18.5.4</code></p>
</li>
<li>
<p>Capture traffic to or from a range of IP addresses:<br>
<code>net 192.168.0.0/24</code><br>
or<br>
<code>net 192.168.0.0 mask 255.255.255.0</code></p>
</li>
<li>
<p>Capture traffic from a range of IP addresses:<br>
<code>src net 192.168.0.0/24</code><br>
or<br>
<code>src net 192.168.0.0 mask 255.255.255.0</code></p>
</li>
<li>
<p>Capture traffic to a range of IP addresses:<br>
<code>dst net 192.168.0.0/24</code><br>
or<br>
<code>dst net 192.168.0.0 mask 255.255.255.0</code></p>
</li>
<li>
<p>Capture only DNS (port 53) traffic:<br>
<code>port 53</code></p>
</li>
<li>
<p>Capture non-HTTP and non-SMTP traffic on your server (both are equivalent):<br>
<code>host www.example.com and not (port 80 or port 25)</code><br>
<code>host www.example.com and not port 80 and not port 25</code></p>
</li>
<li>
<p>Capture except all ARP and DNS traffic:<br>
<code>port not 53 and not arp</code></p>
</li>
<li>
<p>Capture traffic within a range of ports<br>
<code>(tcp[0:2] &gt; 1500 and tcp[0:2] &lt; 1550) or (tcp[2:2] &gt; 1500 and tcp[2:2] &lt; 1550)</code><br>
or<br>
<code>tcp portrange 1501-1549</code></p>
</li>
<li>
<p>Capture only Ethernet type EAPOL:<br>
<code>ether proto 0x888e</code></p>
</li>
<li>
<p>Reject ethernet frames towards the Link Layer Discovery Protocol Multicast group:<br>
<code>not ether dst 01:80:c2:00:00:0e</code></p>
</li>
<li>
<p>Capture only IPv4 traffic - the shortest filter, but sometimes very useful to get rid of lower layer protocols like ARP and STP:<br>
<code>ip</code></p>
</li>
<li>
<p>Capture HTTP GET requests. This looks for the bytes 'G', 'E', 'T', and ' ' (hex values 47, 45, 54, and 20) just after the TCP header. "tcp[12:1] &amp; 0xf0) &gt;&gt; 2" figures out the TCP header length.<br>
<code>port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>更多使用方法，请参考 <a href="https://wiki.wireshark.org/CaptureFilters">CaptureFilters</a></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_vuejs_chapter">12. Vue.js</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_第一个vue_js应用">12.1. 第一个Vue.js应用</h3>
<div class="sect3">
<h4 id="_环境依赖">12.1.1. 环境依赖</h4>
<div class="ulist">
<ul>
<li>
<p>Node.js</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_创建应用">12.1.2. 创建应用</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">npm install --global vue-cli
echo "export PATH=\$PATH:~/.npm-global/bin/" &gt;&gt; ~/.bashrc
source ~/.bashrc
vue init webpack demo_project</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_运行">12.1.3. 运行</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">npm run dev</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_打包">12.1.4. 打包</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">npm run build</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>dist</code> 目录中的文件就是构建的静态页面。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ tree dist/
dist/
├── index.html
└── static
    ├── css
    │   ├── app.30790115300ab27614ce176899523b62.css
    │   └── app.30790115300ab27614ce176899523b62.css.map
    └── js
        ├── app.2b6e1782b7cdd8e0b86c.js
        ├── app.2b6e1782b7cdd8e0b86c.js.map
        ├── manifest.2ae2e69a05c33dfc65f8.js
        ├── manifest.2ae2e69a05c33dfc65f8.js.map
        ├── vendor.dc2a748e035f2d805547.js
        └── vendor.dc2a748e035f2d805547.js.map</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_CentOS_chapter">13. CentOS</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_centos6挂载iso文件做仓库">13.1. CentOS6挂载ISO文件做仓库</h3>
<div class="paragraph">
<p>CentOS6官方已经停止支持，软件仓库被移除（涉及所有仓库镜像，包括国内镜像）。</p>
</div>
<div class="paragraph">
<p>现在，<code>yum</code> 命令已经不能在线安装任何软件包。</p>
</div>
<div class="paragraph">
<p>详情见： <a href="http://mirror.centos.org/centos/6/readme" class="bare">http://mirror.centos.org/centos/6/readme</a></p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>This directory (and version of CentOS) is deprecated. Please see this FAQ
concerning the CentOS release scheme:</p>
</div>
<div class="paragraph">
<p><a href="https://wiki.centos.org/FAQ/General" class="bare">https://wiki.centos.org/FAQ/General</a></p>
</div>
<div class="paragraph">
<p>Please keep in mind that 6.0, 6.1, 6.2, 6.3, 6.4 , 6.5, 6.6, 6.7, 6.8 , 6.9 and 6.10 no longer get any updates, nor
any security fix&#8217;s.
The whole CentOS 6 is <strong>dead</strong> and <strong>shouldn&#8217;t</strong> be used anywhere at <strong>all</strong></p>
</div>
</div>
</div>
<div class="paragraph">
<p>生产服务器不能换系统，挂载ISO文件做仓库成唯一快速方法。</p>
</div>
<hr>
<div class="paragraph">
<p>另外一种方法是替换 <code>/etc/yum.repos.d/CentOS-Base.repo</code> 中的URL：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>baseurl=http://mirror.centos.org/centos/$releasever/</pre>
</div>
</div>
<div class="paragraph">
<p>替换为：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>baseurl=https://vault.centos.org/6.10/</pre>
</div>
</div>
<div class="paragraph">
<p><code>6.10</code> 注意替换为当前系统的版本号。</p>
</div>
<div class="paragraph">
<p>替换后下载速度慢，建议加代理使用，比如 <code>all_proxy=http://x.x.x.x:8123</code>。</p>
</div>
<hr>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
EPEL仓库也已经被移除，官方移动到了 <a href="https://archives.fedoraproject.org/pub/archive/epel/6/x86_64/" class="bare">https://archives.fedoraproject.org/pub/archive/epel/6/x86_64/</a>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_下载_centos6_iso镜像">13.1.1. 下载 CentOS6 ISO镜像</h4>
<div class="paragraph">
<p>国内CentOS镜像已经无法下载，只能从CentOS官方提供的地址下载。</p>
</div>
<div class="paragraph">
<p>地址： <a href="https://vault.centos.org/6.10/isos/x86_64/" class="bare">https://vault.centos.org/6.10/isos/x86_64/</a></p>
</div>
<div class="paragraph">
<p>需要下载 CentOS-6.10-x86_64-bin-DVD1.iso 和 CentOS-6.10-x86_64-bin-DVD2.iso。</p>
</div>
<div class="paragraph">
<p>推荐用种子下载，更快：</p>
</div>
<div class="paragraph">
<p><a href="https://vault.centos.org/6.10/isos/x86_64/CentOS-6.10-x86_64-bin-DVD1to2.torrent" class="bare">https://vault.centos.org/6.10/isos/x86_64/CentOS-6.10-x86_64-bin-DVD1to2.torrent</a></p>
</div>
<div class="paragraph">
<p>也可以直接下载，只是更慢：</p>
</div>
<div class="paragraph">
<p><a href="https://vault.centos.org/6.10/isos/x86_64/CentOS-6.10-x86_64-bin-DVD1.iso" class="bare">https://vault.centos.org/6.10/isos/x86_64/CentOS-6.10-x86_64-bin-DVD1.iso</a></p>
</div>
<div class="paragraph">
<p><a href="https://vault.centos.org/6.10/isos/x86_64/CentOS-6.10-x86_64-bin-DVD2.iso" class="bare">https://vault.centos.org/6.10/isos/x86_64/CentOS-6.10-x86_64-bin-DVD2.iso</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_设置本地软件仓库">13.1.2. 设置本地软件仓库</h4>
<div class="sect4">
<h5 id="_创建挂载目录">创建挂载目录</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /media/CentOS-DVD1 /media/CentOS-DVD2</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_挂载iso镜像">挂载ISO镜像</h5>
<div class="paragraph">
<p>方法一：从光驱挂载</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mount -o loop,ro /dev/cdrom /media/CentOS-DVD1
mount -o loop,ro /dev/cdrom1 /media/CentOS-DVD2</code></pre>
</div>
</div>
<div class="paragraph">
<p>方法二：从ISO文件挂载</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mount -o loop,ro CentOS-6.10-x86_64-bin-DVD1.iso /media/CentOS-DVD1
mount -o loop,ro CentOS-6.10-x86_64-bin-DVD2.iso /media/CentOS-DVD2</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_设置仓库文件">设置仓库文件</h5>
<div class="paragraph">
<p>先备份：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cp /etc/yum.repos.d/CentOS-Media.repo /etc/yum.repos.d/CentOS-Media.repo.bak</code></pre>
</div>
</div>
<div class="paragraph">
<p>创建配置文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/yum.repos.d/CentOS-Media.repo
# CentOS-Media.repo
#
#  This repo can be used with mounted DVD media, verify the mount point for
#  CentOS-6.  You can use this repo and yum to install items directly off the
#  DVD ISO that we release.
#
# To use this repo, put in your DVD and use it with the other repos too:
#  yum --enablerepo=c6-media [command]
#
# or for ONLY the media repo, do this:
#
#  yum --disablerepo=\* --enablerepo=c6-media [command]

[c6-media]
name=CentOS-\$releasever - Media
baseurl=file:///media/CentOS-DVD1
        file:///media/CentOS-DVD2
gpgcheck=1
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>清除YUM安装包缓存：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum clean all</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_禁用在线仓库">禁用在线仓库</h5>
<div class="paragraph">
<p>因为在线仓库已经不可用，禁用所有在线仓库。</p>
</div>
<div class="paragraph">
<p>安装 <code>yum-config-manager</code> 命令所属的软件包 <code>yum-utils</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum --disablerepo=\* --enablerepo=c6-media install -y yum-utils</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>yum-utils</code> 包含很多有用的命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@localhost ~]# rpm -ql yum-utils|grep bin/
/usr/bin/debuginfo-install
/usr/bin/find-repos-of-install
/usr/bin/needs-restarting
/usr/bin/package-cleanup
/usr/bin/repo-graph
/usr/bin/repo-rss
/usr/bin/repoclosure
/usr/bin/repodiff
/usr/bin/repomanage
/usr/bin/repoquery
/usr/bin/reposync
/usr/bin/repotrack
/usr/bin/show-changed-rco
/usr/bin/show-installed
/usr/bin/verifytree
/usr/bin/yum-builddep
/usr/bin/yum-config-manager
/usr/bin/yum-debug-dump
/usr/bin/yum-debug-restore
/usr/bin/yum-groups-manager
/usr/bin/yumdownloader
/usr/sbin/yum-complete-transaction
/usr/sbin/yumdb</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>永久禁用默认启用的仓库：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum-config-manager --disable base updates extras</code></pre>
</div>
</div>
<div class="paragraph">
<p>用 <code>yum repolist</code> 命令确认只有 <code>"c6-media"</code> 仓库被启用：</p>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@localhost ~]# yum repolist
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
repo id                            repo name                                 status
c6-media                           CentOS- - Media                           6,713
repolist: 6,713</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_确认本地仓库生效">确认本地仓库生效</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum list|grep vim</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">控制台输出</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">vim-common.x86_64                          2:7.4.629-5.el6_8.1         @c6-media
vim-enhanced.x86_64                        2:7.4.629-5.el6_8.1         @c6-media
vim-filesystem.x86_64                      2:7.4.629-5.el6_8.1         @c6-media
vim-minimal.x86_64                         2:7.4.629-5.el6_8.1         @anaconda-CentOS-201806291108.x86_64/6.10
vim-X11.x86_64                             2:7.4.629-5.el6_8.1         c6-media</code></pre>
</div>
</div>
<div class="paragraph">
<p>现在，可以用 <code>yum install</code> 安装软件包了。</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos6初始化">13.2. CentOS6初始化</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum -y erase iscsi* NetworkManager

yum -y install iproute vim-enhanced epel-release chrony wget curl screen sudo rsync tcpdump strace openssh-clients

wget http://mirrors.aliyun.com/repo/epel-6.repo -O /etc/yum.repos.d/epel.repo


chkconfig chronyd on
service chronyd start

#支持gbk文件显示
echo set fencs=utf-8,gbk &gt;&gt;/etc/vimrc

#删除ipv6的localhost配置
#::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
echo "127.0.0.1 localhost $(hostname)" &gt; /etc/hosts

# 禁用ipv6
echo "NETWORKING_IPV6=no" &gt;&gt; /etc/sysconfig/network
sed -i 's/::1/#::1/g' /etc/hosts
echo "net.ipv6.conf.all.disable_ipv6 = 1" &gt;&gt; /etc/sysctl.conf
echo "net.ipv6.conf.default.disable_ipv6 = 1" &gt;&gt; /etc/sysctl.conf
sysctl -p

sed -i 's/HOSTNAME=.*/HOSTNAME=$(hostname)/g'  /etc/sysconfig/network

rm -f ~/anaconda-ks.cfg  ~/install.log  ~/install.log.syslog

#禁用SELINUX，必须重启才能生效
echo SELINUX=disabled&gt;/etc/selinux/config
echo SELINUXTYPE=targeted&gt;&gt;/etc/selinux/config

#清除iptables的默认规则
iptables -F
service iptables save

#最大可以打开的文件
echo "*               soft   nofile            65535" &gt;&gt; /etc/security/limits.conf
echo "*               hard   nofile            65535" &gt;&gt; /etc/security/limits.conf

#增加同时打开文件的数量
#/etc/profile会加载/etc/profile.d下的sh文件

#echo ulimit -n 65535 &gt;/etc/profile.d/ulimit.sh
#chmod 755 /etc/profile.d/ulimit.sh

#禁止关闭显示器 archlinux wiki 提及的方法
echo -ne "\033[9;0]" &gt;&gt; /etc/issue
# 重启，cat /sys/module/kernel/parameters/consoleblank 为空表示生效


# ssh登录时，登录ip被会反向解析为域名，导致ssh登录缓慢
sed -i "s/#UseDNS yes/UseDNS no/" /etc/ssh/sshd_config
sed -i "s/GSSAPIAuthentication yes/GSSAPIAuthentication no/" /etc/ssh/sshd_config
sed -i "s/GSSAPICleanupCredentials yes/GSSAPICleanupCredentials no/" /etc/ssh/sshd_config
sed -i "s/#MaxAuthTries 6/MaxAuthTries 10/" /etc/ssh/sshd_config
# server每隔30秒发送一次请求给client，然后client响应，从而保持连接
sed -i "s/#ClientAliveInterval 0/ClientAliveInterval 30/" /etc/ssh/sshd_config
# server发出请求后，客户端没有响应得次数达到3，就自动断开连接，正常情况下，client不会不响应
sed -i "s/#ClientAliveCountMax 3/ClientAliveCountMax 10/" /etc/ssh/sshd_config

#设定系统时区
yes|cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime

#如果是x86_64系统，排除32位包
echo "exclude=*.i386 *.i586 *.i686" &gt;&gt; /etc/yum.conf

service_down_list=(lvm2-monitor mdmonitor postfix ip6tables netfs)
service_up_list=(iptables)


#停止服务并取消开机启动
for i in "${service_down_list[@]}"; do
    service $i stop
    chkconfig $i off
done

#开机启动
for i in "${service_up_list[@]}"; do
    service $i start
    chkconfig $i on
done

chkconfig  lvm2-monitor off 1</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos7初始化">13.3. CentOS7初始化</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">#禁止关闭显示器 archlinux wiki 提及的方法
echo -ne "\033[9;0]" &gt;&gt; /etc/issue
# 重启，cat /sys/module/kernel/parameters/consoleblank 为空表示生效

yum install -y iproute rsync epel-release vim-enhanced wget curl screen lbzip2 tcpdump unzip

# PHP 7
yum install centos-release-scl

#查看主机名
hostnamectl status

#修改主机名
hostnamectl set-hostname 主机名

#删除ipv6的localhost配置
#::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
echo "127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 $(hostname)" &gt; /etc/hosts

rm -f ~/anaconda-ks.cfg  ~/install.log  ~/install.log.syslog

#禁用SELINUX，必须重启才能生效
echo SELINUX=disabled&gt;/etc/selinux/config
echo SELINUXTYPE=targeted&gt;&gt;/etc/selinux/config

#如果你想使用自己的 iptables 静态防火墙规则, 那么请安装 iptables-services 并且禁用 firewalld ，启用 iptables
yum install -y iptables-services
systemctl  stop  firewalld
systemctl mask firewalld.service
systemctl enable iptables.service
iptables -F
iptables-save &gt;/etc/sysconfig/iptables


systemctl mask NetworkManager


#最大可以打开的文件
echo "*               soft   nofile            65535" &gt;&gt; /etc/security/limits.conf
echo "*               hard   nofile            65535" &gt;&gt; /etc/security/limits.conf

# ssh登录时，登录ip被会反向解析为域名，导致ssh登录缓慢
sed -i "s/#UseDNS yes/UseDNS no/" /etc/ssh/sshd_config
sed -i "s/GSSAPIAuthentication yes/GSSAPIAuthentication no/" /etc/ssh/sshd_config
sed -i "s/GSSAPICleanupCredentials yes/GSSAPICleanupCredentials no/" /etc/ssh/sshd_config
sed -i "s/#MaxAuthTries 6/MaxAuthTries 10/" /etc/ssh/sshd_config
# server每隔30秒发送一次请求给client，然后client响应，从而保持连接
sed -i "s/#ClientAliveInterval 0/ClientAliveInterval 30/" /etc/ssh/sshd_config
# server发出请求后，客户端没有响应得次数达到3，就自动断开连接，正常情况下，client不会不响应
sed -i "s/#ClientAliveCountMax 3/ClientAliveCountMax 10/" /etc/ssh/sshd_config

#支持gbk文件显示
echo "set fencs=utf-8,gbk" &gt;&gt; /etc/vimrc

#设定系统时区
yes|cp /usr/share/zoneinfo/Asia/Chongqing /etc/localtime

#时间同步
yum install -y chrony
systemctl enable chronyd
systemctl start chronyd
# 或者
systemctl enable systemd-timesyncd
systemctl start systemd-timesyncd

#如果是x86_64系统，排除32位包
echo "exclude=*.i386 *.i586 *.i686" &gt;&gt; /etc/yum.conf

#disable IPv6
echo "net.ipv6.conf.all.disable_ipv6 = 1" &gt;&gt;  /etc/sysctl.conf
echo "net.ipv6.conf.default.disable_ipv6 = 1" &gt;&gt;  /etc/sysctl.conf

firewall-cmd --zone=public --add-port=28529/tcp --permanent
firewall-cmd --reload</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos8初始化">13.4. CentOS8初始化</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y iproute rsync epel-release vim-enhanced wget curl

dnf install -y dnf-plugins-core
dnf config-manager --set-enabled PowerTools

# PHP 7
dnf install centos-release-scl


#禁用SELINUX，必须重启才能生效
echo SELINUX=disabled&gt;/etc/selinux/config
echo SELINUXTYPE=targeted&gt;&gt;/etc/selinux/config

#最大可以打开的文件
echo "*               soft   nofile            65535" &gt;&gt; /etc/security/limits.conf
echo "*               hard   nofile            65535" &gt;&gt; /etc/security/limits.conf

# ssh登录时，登录ip被会反向解析为域名，导致ssh登录缓慢
sed -i "s/#UseDNS yes/UseDNS no/" /etc/ssh/sshd_config
sed -i "s/GSSAPIAuthentication yes/GSSAPIAuthentication no/" /etc/ssh/sshd_config
sed -i "s/GSSAPICleanupCredentials yes/GSSAPICleanupCredentials no/" /etc/ssh/sshd_config
sed -i "s/#MaxAuthTries 6/MaxAuthTries 10/" /etc/ssh/sshd_config
# server每隔30秒发送一次请求给client，然后client响应，从而保持连接
sed -i "s/#ClientAliveInterval 0/ClientAliveInterval 30/" /etc/ssh/sshd_config
# server发出请求后，客户端没有响应得次数达到3，就自动断开连接，正常情况下，client不会不响应
sed -i "s/#ClientAliveCountMax 3/ClientAliveCountMax 10/" /etc/ssh/sshd_config

#支持gbk文件显示
echo "set fencs=utf-8,gbk" &gt;&gt; /etc/vimrc

#设定系统时区
yes|cp /usr/share/zoneinfo/Asia/Chongqing /etc/localtime

#时间同步
dnf install -y systemd-timesyncd
systemctl enable systemd-timesyncd
systemctl start systemd-timesyncd

#如果是x86_64系统，排除32位包
echo "exclude=*.i386 *.i586 *.i686" &gt;&gt; /etc/yum.conf

systemctl stop firewalld
systemctl disable firewalld
systemctl mask firewalld</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos7_install_lnmp">13.5. CentOS7 Install LNMP</h3>
<div class="sect3">
<h4 id="_安装_nginx">13.5.1. 安装 Nginx</h4>
<div class="listingblock">
<div class="title">增加 Nginx 官方源</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/yum.repos.d/nginx.repo
[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/\$releasever/\$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/\$releasever/\$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key
module_hotfixes=true
EOF</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>EPEL 源中的 <code>nginx.service</code> 由于 <code>KILL</code> 参数问题，启动后无法停止，不建议使用。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">安装Nginx</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">备份Nginx配置文件</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo y|cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.default</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改 nginx.conf</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/nginx/nginx.conf
# For more information on configuration, see:
#   * Official English Documentation: http://nginx.org/en/docs/
#   * Official Russian Documentation: http://nginx.org/ru/docs/

user nginx;
worker_processes auto;
error_log  /var/log/nginx/error.log warn;
pid        /var/run/nginx.pid;

worker_rlimit_nofile 65535;

events {
    worker_connections 65535;
}

http {
    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    log_format  main  '\$host \$server_port \$remote_addr - \$remote_user [\$time_local] "\$request" '
                      '\$status \$request_time \$body_bytes_sent "\$http_referer" '
                      '"\$http_user_agent" "\$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 2048;

    server_names_hash_bucket_size 128;
    server_name_in_redirect off;
    client_header_buffer_size 32k;
    large_client_header_buffers 4 32k;

    client_header_timeout  3m;
    client_body_timeout    3m;
    client_max_body_size 50m;
    client_body_buffer_size 256k;
    send_timeout           3m;

    gzip  on;
    gzip_min_length  1k;
    gzip_buffers     4 16k;
    gzip_http_version 1.0;
    gzip_comp_level 2;
    gzip_types image/svg+xml application/x-font-wof text/plain text/xml text/css application/xml application/xhtml+xml application/rss+xml application/javascript application/x-javascript text/javascript;
    gzip_vary on;

    proxy_redirect off;
    proxy_set_header Host \$host;
    proxy_set_header X-Real-IP \$remote_addr;
    proxy_set_header REMOTE-HOST \$remote_addr;
    proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
    proxy_connect_timeout 60;
    proxy_send_timeout 60;
    proxy_read_timeout 60;
    proxy_buffer_size 256k;
    proxy_buffers 4 256k;
    proxy_busy_buffers_size 256k;
    proxy_temp_file_write_size 256k;
    proxy_next_upstream error timeout invalid_header http_500 http_503 http_404;
    proxy_max_temp_file_size 128m;
    #让代理服务端不要主动关闭客户端的连接，协助处理499返回代码问题
    proxy_ignore_client_abort on;

    fastcgi_buffer_size 64k;
    fastcgi_buffers 4 64k;
    fastcgi_busy_buffers_size 128k;

    index index.html index.htm index.php default.html default.htm default.php;

    # Load modular configuration files from the /etc/nginx/conf.d directory.
    # See http://nginx.org/en/docs/ngx_core_module.html#include
    # for more information.
    include /etc/nginx/conf.d/*.conf;
}
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加默认Host</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir /etc/nginx/conf.d

cat &lt;&lt; EOF &gt; /etc/nginx/conf.d/default.conf
server {
    listen       80 default_server;
    listen       [::]:80 default_server;
    server_name  _;
    root         /usr/share/nginx/html;

    # Load configuration files for the default server block.
    include /etc/nginx/default.d/*.conf;

    location / {
    }

    error_page 404 /404.html;
        location = /40x.html {
    }

    error_page 500 502 503 504 /50x.html;
        location = /50x.html {
    }
}
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">检测配置</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nginx -t &amp;&amp; rm -f /var/run/nginx.pid</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>nginx -t</code> 之后，<code>/var/run/nginx.pid</code> 空文件会一直被保留，而 <code>nginx.service</code> 并不能处理 <code>PIDFile</code> 为空的情况，导致启动失败。</p>
</div>
<div class="paragraph">
<p>需要手动删除 <code>/var/run/nginx.pid</code></p>
</div>
<div class="paragraph">
<p>from nginx/1.16.1</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">启动Nginx</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看Nginx状态</div>
<div class="content">
<pre># systemctl status nginx
● nginx.service - The nginx HTTP and reverse proxy server
   Loaded: loaded (/usr/lib/systemd/system/nginx.service; disabled; vendor preset: disabled)
   Active: active (running) since Fri 2019-11-29 14:02:31 CST; 1h 18min ago
 Main PID: 15759 (nginx)
   CGroup: /system.slice/nginx.service
           ├─15759 nginx: master process /usr/sbin/nginx
           └─17285 nginx: worker process

Nov 29 14:02:31 iZ6weebcmroarpx8rrxscrZ systemd[1]: Starting The nginx HTTP and reverse proxy server...
Nov 29 14:02:31 iZ6weebcmroarpx8rrxscrZ nginx[15753]: nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
Nov 29 14:02:31 iZ6weebcmroarpx8rrxscrZ nginx[15753]: nginx: configuration file /etc/nginx/nginx.conf test is successful
Nov 29 14:02:31 iZ6weebcmroarpx8rrxscrZ systemd[1]: Failed to parse PID from file /run/nginx.pid: Invalid argument
Nov 29 14:02:31 iZ6weebcmroarpx8rrxscrZ systemd[1]: Started The nginx HTTP and reverse proxy server.


# ss -antpl|grep nginx
LISTEN     0      128          *:80                       *:*                   users:(("nginx",pid=17285,fd=6),("nginx",pid=15759,fd=6))
LISTEN     0      128         :::80                      :::*                   users:(("nginx",pid=17285,fd=7),("nginx",pid=15759,fd=7))</pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加开机启动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable nginx</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装_mysql">13.5.2. 安装 MySQL</h4>
<div class="listingblock">
<div class="title">安装 MySQL</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y mariadb-server</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">备份 <code>my.cnf</code></div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cp /etc/my.cnf /etc/my.cnf.default</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改 <code>my.cnf</code></div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/my.cnf
[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd

max_allowed_packet=20M
max_heap_table_size = 100M
read_buffer_size = 2M
read_rnd_buffer_size = 16M
sort_buffer_size = 8M
join_buffer_size = 8M
tmp_table_size = 100M

# 查询缓存
#query_cache_limit=4M
#query_cache_type=on
#query_cache_size=2G

bind-address = 127.0.0.1
# 跳过主机名解析，比如localhost，foo.com之类，加速访问
skip-name-resolve

# SQL执行日志
general_log=off
general_log_file=/var/log/mariadb/general.log

# SQL慢查询日志
slow_query_log=off
slow_query_log_file=/var/log/mariadb/slowquery.log
long_query_time = 5

max_connections = 1000

# 兼容老MySQL代码，比如使用空字符串代替NULL插入数据
sql_mode = ""

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">配置 <code>mysqldump</code> 命令参数</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sed -i '16 aquick\nquote-names\nmax_allowed_packet = 100M' /etc/my.cnf.d/mysql-clients.cnf</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">创建日志文件</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">touch /var/log/mariadb/general.log /var/log/mariadb/slowquery.log
chown mysql:mysql /var/log/mariadb/general.log /var/log/mariadb/slowquery.log</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加开机启动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable mariadb</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动 <code>MySQL</code> 服务</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start mariadb</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看 <code>MySQL</code> 服务状态</div>
<div class="content">
<pre># systemctl status mariadb
● mariadb.service - MariaDB database server
   Loaded: loaded (/usr/lib/systemd/system/mariadb.service; enabled; vendor preset: disabled)
   Active: active (running) since Fri 2019-11-29 14:18:12 CST; 1h 7min ago
  Process: 16688 ExecStartPost=/usr/libexec/mariadb-wait-ready $MAINPID (code=exited, status=0/SUCCESS)
  Process: 16653 ExecStartPre=/usr/libexec/mariadb-prepare-db-dir %n (code=exited, status=0/SUCCESS)
 Main PID: 16687 (mysqld_safe)
   CGroup: /system.slice/mariadb.service
           ├─16687 /bin/sh /usr/bin/mysqld_safe --basedir=/usr
           └─17043 /usr/libexec/mysqld --basedir=/usr --datadir=/var/lib/mysql --plugin-dir=/usr/lib64/mysql/plugin --log-error=/var/log/mariadb/mariadb.lo...

Nov 29 14:18:10 iZ6weebcmroarpx8rrxscrZ systemd[1]: Starting MariaDB database server...
Nov 29 14:18:10 iZ6weebcmroarpx8rrxscrZ mariadb-prepare-db-dir[16653]: Database MariaDB is probably initialized in /var/lib/mysql already, nothing is done.
Nov 29 14:18:11 iZ6weebcmroarpx8rrxscrZ mysqld_safe[16687]: 191129 14:18:11 mysqld_safe Logging to '/var/log/mariadb/mariadb.log'.
Nov 29 14:18:11 iZ6weebcmroarpx8rrxscrZ mysqld_safe[16687]: 191129 14:18:11 mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql
Nov 29 14:18:12 iZ6weebcmroarpx8rrxscrZ systemd[1]: Started MariaDB database server.

# ss -antpl|grep mysql
LISTEN     0      50     127.0.0.1:3306                     *:*                   users:(("mysqld",pid=17043,fd=14))</pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改root密码</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysqladmin -uroot password "geek"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">删除测试数据库和空密码用户</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql -uroot -pgeek -e 'show databases;'
mysql -uroot -pgeek -e 'drop database test;'
mysql -uroot -pgeek mysql -e 'delete from db;'
mysql -uroot -pgeek mysql -e 'delete from user where Password="";'
mysql -uroot -pgeek -e 'flush privileges;'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装_php7">13.5.3. 安装 PHP7</h4>
<div class="listingblock">
<div class="title">增加SCL源</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y centos-release-scl</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">安装PHP7.2</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y rh-php72 \
    rh-php72-php  \
    rh-php72-php-bcmath \
    rh-php72-php-fpm \
    rh-php72-php-gd \
    rh-php72-php-intl \
    rh-php72-php-mbstring \
    rh-php72-php-mysqlnd \
    rh-php72-php-opcache \
    rh-php72-php-pdo \
    rh-php72-php-pecl-apcu \
    rh-php72-php-xmlrpc \
    rh-php72-php-devel</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">进入 <code>rh-php72</code> 环境</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">scl enable rh-php72 bash</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">确认PHP状态</div>
<div class="content">
<pre># php -v
PHP 7.2.24 (cli) (built: Nov  4 2019 10:23:08) ( NTS )
Copyright (c) 1997-2018 The PHP Group
Zend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies
    with Zend OPcache v7.2.24, Copyright (c) 1999-2018, by Zend Technologies</pre>
</div>
</div>
<div class="listingblock">
<div class="title">备份php.ini</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cp /etc/opt/rh/rh-php72/php.ini /etc/opt/rh/rh-php72/php.ini.default</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改php.ini</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 启用 '&lt;? ... ?&gt;' 代码风格
sed -i '197s/short_open_tag = Off/short_open_tag = On/' /etc/opt/rh/rh-php72/php.ini

# 禁止一些危险性高的函数
sed -i '314s/disable_functions =/disable_functions = system,exec,shell_exec,passthru,set_time_limit,ini_alter,dl,openlog,syslog,readlink,symlink,link,leak,popen,escapeshellcmd,virtual,socket_create,mail,eval/' /etc/opt/rh/rh-php72/php.ini

# 配置中国时区
sed -i '902s#;date.timezone =#date.timezone = Asia/Shanghai#' /etc/opt/rh/rh-php72/php.ini</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加开机启动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable rh-php72-php-fpm</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动 <code>PHP-FPM</code> 服务</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start rh-php72-php-fpm</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看 <code>PHP-FPM</code> 服务状态</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># systemctl status rh-php72-php-fpm
● rh-php72-php-fpm.service - The PHP FastCGI Process Manager
   Loaded: loaded (/usr/lib/systemd/system/rh-php72-php-fpm.service; enabled; vendor preset: disabled)
   Active: active (running) since Fri 2019-11-29 13:36:03 CST; 1h 56min ago
 Main PID: 15360 (php-fpm)
   Status: "Processes active: 0, idle: 6, Requests: 56, slow: 0, Traffic: 0req/sec"
   CGroup: /system.slice/rh-php72-php-fpm.service
           ├─15360 php-fpm: master process (/etc/opt/rh/rh-php72/php-fpm.conf)
           ├─15361 php-fpm: pool www
           ├─15362 php-fpm: pool www
           ├─15363 php-fpm: pool www
           ├─15364 php-fpm: pool www
           ├─15365 php-fpm: pool www
           └─17211 php-fpm: pool www

Nov 29 13:36:03 iZ6weebcmroarpx8rrxscrZ systemd[1]: Starting The PHP FastCGI Process Manager...
Nov 29 13:36:03 iZ6weebcmroarpx8rrxscrZ systemd[1]: Started The PHP FastCGI Process Manager.

# ss -antpl|grep php-fpm
LISTEN     0      128    127.0.0.1:9000                     *:*                   users:(("php-fpm",pid=17211,fd=9),("php-fpm",pid=15365,fd=9),("php-fpm",pid=15364,fd=9),("php-fpm",pid=15363,fd=9),("php-fpm",pid=15362,fd=9),("php-fpm",pid=15361,fd=9),("php-fpm",pid=15360,fd=7))</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lnmp_环境测试">13.5.4. LNMP 环境测试</h4>
<div class="listingblock">
<div class="title">增加数据库</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql -uroot -pgeek -e 'create database drupal;grant all privileges on drupal.*  to drupal@"localhost" identified by "drupal_password";flush privileges;'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加Nginx Host设置</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/nginx/conf.d/drupal.foo.com.conf
server {
    listen       80;

    server_name  drupal.foo.com;
    root         /data/web/drupal.foo.com;
    error_log /var/log/nginx/drupal.foo.com_error.log;
    access_log /var/log/nginx/drupal.foo.com_access.log  main;

    location / {
        try_files \$uri /index.php\$is_args\$query_string;
    }

    location ~ \.php\$ {
        try_files \$uri \$uri/ 404;

        fastcgi_pass 127.0.0.1:9000;
        fastcgi_param SCRIPT_FILENAME \$document_root\$fastcgi_script_name;
        include fastcgi_params;
    }
}
EOF

# 重载Nginx配置
nginx -t &amp;&amp; nginx -s reload</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">准备 <code>Drupal</code></div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /data/web/drupal.foo.com

# 使用 -O 参数指定保存文件名，会强制覆盖已经存在的文件
wget https://ftp.drupal.org/files/projects/drupal-8.7.10.tar.gz -O drupal-8.7.10.tar.gz
tar xf drupal-8.7.10.tar.gz

mv drupal-8.7.10/* /data/web/drupal.foo.com
rm -rf drupal-8.7.10
chown -R apache:nginx /data/web/drupal.foo.com
chmod -R 755 /data/web/drupal.foo.com</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>drupal-8.7.10/core/INSTALL.txt</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Drupal requires:</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>A web server with PHP support, for example:</p>
</li>
<li>
<p>Apache 2.0 (or greater) (<a href="http://httpd.apache.org/" class="bare">http://httpd.apache.org/</a>).</p>
</li>
<li>
<p>Nginx 1.1 (or greater) (<a href="http://nginx.com/" class="bare">http://nginx.com/</a>).</p>
</li>
<li>
<p>PHP 5.5.9 (or greater) (<a href="http://php.net/" class="bare">http://php.net/</a>). For better security support it is
recommended to update to at least 5.5.21 or 5.6.5.</p>
</li>
<li>
<p>One of the following databases:</p>
</li>
<li>
<p>MySQL 5.5.3 (or greater) (<a href="http://www.mysql.com/" class="bare">http://www.mysql.com/</a>).</p>
</li>
<li>
<p>MariaDB 5.5.20 (or greater) (<a href="https://mariadb.org/" class="bare">https://mariadb.org/</a>). MariaDB is a fully
compatible drop-in replacement for MySQL.</p>
</li>
<li>
<p>Percona Server 5.5.8 (or greater) (<a href="http://www.percona.com/" class="bare">http://www.percona.com/</a>). Percona
Server is a backwards-compatible replacement for MySQL.</p>
</li>
<li>
<p>PostgreSQL 9.1.2 (or greater) (<a href="http://www.postgresql.org/" class="bare">http://www.postgresql.org/</a>).</p>
</li>
<li>
<p>SQLite 3.7.11 (or greater) (<a href="http://www.sqlite.org/" class="bare">http://www.sqlite.org/</a>).</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">设置本地解析</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo '47.74.60.161 drupal.foo.com' &gt;&gt; /etc/hosts</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p><code>/etc/hosts</code> (Linux)</p>
</li>
<li>
<p><code>C:\Windows\System32\drivers\etc\hosts</code>（Windows）</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>最后，访问 <a href="http://drupal.foo.com" class="bare">http://drupal.foo.com</a> 完成安装。</p>
</div>
<div class="paragraph">
<p>Drupal数据库相关信息：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数据库服务器：localhost</p>
</li>
<li>
<p>数据库端口：3306</p>
</li>
<li>
<p>数据库名称：drupal</p>
</li>
<li>
<p>数据库用户名：drupal</p>
</li>
<li>
<p>数据库密码：drupal_password</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos8配置文档">13.6. CentOS8配置文档</h3>
<div class="sect3">
<h4 id="_安装_nginx_2">13.6.1. 安装 Nginx</h4>
<div class="listingblock">
<div class="title">增加EPEL源</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y epel-release</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">安装Nginx</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">备份Nginx配置文件</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo y|cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.defaultv</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改 nginx.conf</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/nginx/nginx.conf
# For more information on configuration, see:
#   * Official English Documentation: http://nginx.org/en/docs/
#   * Official Russian Documentation: http://nginx.org/ru/docs/

user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log;
pid /run/nginx.pid;

# Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.
include /usr/share/nginx/modules/*.conf;

worker_rlimit_nofile 65535;

events {
    worker_connections 65535;
}

http {
    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    log_format  main  '\$host \$server_port \$remote_addr - \$remote_user [\$time_local] "\$request" '
                      '\$status \$request_time \$body_bytes_sent "\$http_referer" '
                      '"\$http_user_agent" "\$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 2048;

    server_names_hash_bucket_size 128;
    server_name_in_redirect off;
    client_header_buffer_size 32k;
    large_client_header_buffers 4 32k;

    client_header_timeout  3m;
    client_body_timeout    3m;
    client_max_body_size 50m;
    client_body_buffer_size 256k;
    send_timeout           3m;

    gzip  on;
    gzip_min_length  1k;
    gzip_buffers     4 16k;
    gzip_http_version 1.0;
    gzip_comp_level 2;
    gzip_types image/svg+xml application/x-font-wof text/plain text/xml text/css application/xml application/xhtml+xml application/rss+xml application/javascript application/x-javascript text/javascript;
    gzip_vary on;

    proxy_redirect off;
    proxy_set_header Host \$host;
    proxy_set_header X-Real-IP \$remote_addr;
    proxy_set_header REMOTE-HOST \$remote_addr;
    proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
    proxy_connect_timeout 60;
    proxy_send_timeout 60;
    proxy_read_timeout 60;
    proxy_buffer_size 256k;
    proxy_buffers 4 256k;
    proxy_busy_buffers_size 256k;
    proxy_temp_file_write_size 256k;
    proxy_next_upstream error timeout invalid_header http_500 http_503 http_404;
    proxy_max_temp_file_size 128m;
    #让代理服务端不要主动关闭客户端的连接，协助处理499返回代码问题
    proxy_ignore_client_abort on;

    fastcgi_buffer_size 64k;
    fastcgi_buffers 4 64k;
    fastcgi_busy_buffers_size 128k;

    index index.html index.htm index.php default.html default.htm default.php;

    # Load modular configuration files from the /etc/nginx/conf.d directory.
    # See http://nginx.org/en/docs/ngx_core_module.html#include
    # for more information.
    include /etc/nginx/conf.d/*.conf;
}
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加默认Host</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir /etc/nginx/conf.d

cat &lt;&lt; EOF &gt; /etc/nginx/conf.d/default.conf
server {
    listen       80 default_server;
    listen       [::]:80 default_server;
    server_name  _;
    root         /usr/share/nginx/html;

    # Load configuration files for the default server block.
    include /etc/nginx/default.d/*.conf;

    location / {
    }

    error_page 404 /404.html;
        location = /40x.html {
    }

    error_page 500 502 503 504 /50x.html;
        location = /50x.html {
    }
}
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">检查配置</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nginx -t</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动Nginx</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看Nginx状态</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl status nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加开机启动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看版本号</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nginx -v</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装_mysql_2">13.6.2. 安装 MySQL</h4>
<div class="listingblock">
<div class="title">安装 MySQL</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y mariadb-server</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">备份 my.cnf</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cp /etc/my.cnf /etc/my.cnf.default</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改 my.cnf</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/my.cnf
[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
# Settings user and group are ignored when systemd is used.
# If you need to run mysqld under a different user or group,
# customize your systemd unit file for mariadb according to the
# instructions in http://fedoraproject.org/wiki/Systemd

max_allowed_packet=20M
max_heap_table_size = 100M
read_buffer_size = 2M
read_rnd_buffer_size = 16M
sort_buffer_size = 8M
join_buffer_size = 8M
tmp_table_size = 100M

# 查询缓存
#query_cache_limit=4M
#query_cache_type=on
#query_cache_size=2G

bind-address = 127.0.0.1
# 跳过主机名解析，比如localhost，foo.com之类，加速访问
skip-name-resolve

# SQL执行日志
general_log=off
general_log_file=/var/log/mariadb/general.log

# SQL慢查询日志
slow_query_log=off
slow_query_log_file=/var/log/mariadb/slowquery.log
long_query_time = 5

max_connections = 1000

# 兼容老MySQL代码，比如使用空字符串代替NULL插入数据
sql_mode = ""

[mysqld_safe]
log-error=/var/log/mariadb/mariadb.log
pid-file=/var/run/mariadb/mariadb.pid

#
# include all files from the config directory
#
!includedir /etc/my.cnf.d
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加开机启动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable mariadb</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动MySQL</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start mariadb</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看 MySQL 服务状态</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl status mariadb</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改root密码</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysqladmin -uroot password "geek"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">删除测试数据库和空密码用户</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql -uroot -pgeek -e 'show databases;'
mysql -uroot -pgeek -e 'drop database test;'
mysql -uroot -pgeek mysql -e 'delete from db;'
mysql -uroot -pgeek mysql -e 'delete from user where Password="";'
mysql -uroot -pgeek -e 'flush privileges;'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装_php7_2">13.6.3. 安装 PHP7</h4>
<div class="listingblock">
<div class="title">安装PHP7</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y \
  php  \
  php-bcmath \
  php-fpm \
  php-gd \
  php-intl \
  php-mbstring \
  php-mysqlnd \
  php-opcache \
  php-pdo \
  php-pecl-apcu \
  php-xmlrpc \
  php-devel \
  php-json</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">修改php.ini</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sed -i '197s/short_open_tag = Off/short_open_tag = On/' /etc/php.ini

# 禁止一些危险性高的函数
sed -i '314s/disable_functions =/disable_functions = system,exec,shell_exec,passthru,set_time_limit,ini_alter,dl,openlog,syslog,readlink,symlink,link,leak,popen,escapeshellcmd,virtual,socket_create,mail,eval/' /etc/php.ini

# 配置中国时区
sed -i '902s#;date.timezone =#date.timezone = Asia/Shanghai#' /etc/php.ini</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加开机启动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable php-fpm</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动 PHP-FPM 服务</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start php-fpm</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看 PHP-FPM 服务状态</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl status php-fpm</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lnmp环境测试">13.6.4. LNMP环境测试</h4>
<div class="listingblock">
<div class="title">增加数据库</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mysql -uroot -pgeek -e 'create database drupal;grant all privileges on drupal.* to drupal@"localhost" identified by "drupal_password";flush privileges;'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">增加Nginx Host设置</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/nginx/conf.d/drupal.foo.com.conf
server {
    listen       80;

    server_name  drupal.foo.com;
    root         /data/web/drupal.foo.com;
    error_log /var/log/nginx/drupal.foo.com_error.log;
    access_log /var/log/nginx/drupal.foo.com_access.log  main;

    location / {
        try_files \$uri /index.php\$is_args\$query_string;
    }

    location ~ \.php\$ {
        try_files \$uri \$uri/ 404;

        fastcgi_pass unix://run/php-fpm/www.sock;
        include fastcgi.conf;
    }
}
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">重载Nginx配置</div>
<p><code>nginx -s reload</code></p>
</div>
<div class="listingblock">
<div class="title">准备 Drupal</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /data/web/drupal.foo.com</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">使用 -O 参数指定保存文件名，会强制覆盖已经存在的文件</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget https://ftp.drupal.org/files/projects/drupal-8.7.10.tar.gz -O drupal-8.7.10.tar.gz
tar xf drupal-8.7.10.tar.gz
mv drupal-8.7.10/* /data/web/drupal.foo.com
rm -rf drupal-8.7.10
chown -R apache:nginx /data/web/drupal.foo.com
chmod -R 755 /data/web/drupal.foo.com</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">设置本地解析</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo '47.74.60.161 drupal.foo.com' &gt;&gt; /etc/hosts</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos8安装前加载驱动">13.7. CentOS8安装前加载驱动</h3>
<div class="paragraph">
<p>RedHat7中支持，但是在RedHat8中已经移除的硬件列表。特别是一些老的存储相关硬件。</p>
</div>
<div class="paragraph">
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/considerations_in_adopting_rhel_8/hardware-enablement_considerations-in-adopting-rhel-8#removed-adapters_hardware-enablement">Removed hardware support</a></p>
</div>
<div class="paragraph">
<p>ELRepo 社区提供一些硬件支持的DUD文件，全文如下：</p>
</div>
<div class="paragraph">
<p><a href="https://elrepoproject.blogspot.com/2019/08/rhel-80-and-support-for-removed-adapters.html" class="bare">https://elrepoproject.blogspot.com/2019/08/rhel-80-and-support-for-removed-adapters.html</a></p>
</div>
<div class="literalblock">
<div class="content">
<pre>RHEL 8.0 and support for removed adapters
In RHEL 8.0, support for a good number of hardware devices has been removed. A list of removed adapters with their device IDs can be found in this RHEL documentation[https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/considerations_in_adopting_rhel_8/hardware-enablement_considerations-in-adopting-rhel-8#removed-adapters_hardware-enablement]. We provide support for some of those that are still fairly commonly used today. You can check your devices's IDs (as shown by lspci -nn) against our list of supported devices.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(1) Installation of the OS requires a driver for your hardware. We offer driver update disks (DUD). You can download them from here[https://elrepo.org/linux/dud/el8/x86_64/] or the corresponding directory of our mirror sites. Each DUD image contains a driver in the form of a kmod package. The installer is supposed to find the driver. If this does not happen, you need to append the inst.dd option to the boot command line. For details please see Performing an assisted driver update[https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_an_advanced_rhel_installation/updating-drivers-during-installation_installing-rhel-as-an-experienced-user#performing-an-assisted-driver-update_updating-drivers-during-installation].</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>(2) The installation process installs the kmod package for your adapter. Normally, because of the kABI-tracking nature of kmod, there is no need to reinstall the driver upon each new kernel update. However, it was found that the current version of dracut in RHEL 8.0 has a bug and the initramfs image of a new kernel does not contain the kernel module from the installed kmod package. As a result, the new kernel fails to boot.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>As an interim solution for the problem in (2), we provide a dracut package with a patch that fixes the bug here:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>http://elrepo.org/people/akemi/testing/el8/dracut/</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Install this version of dracut and then update the kernel. The system now should boot normally.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[UPDATE]  dracut-049-10.git20190115.el8_0.1 released on Oct 29, 2019 has the patch that fixes the issue.</pre>
</div>
</div>
<div class="sect3">
<h4 id="_dell_precision_t3600">13.7.1. Dell Precision T3600</h4>
<div class="paragraph">
<p><a href="https://www.dell.com/learn/us/en/04/shared-content~data-sheets~en/documents~dell_precision_t3600_spec_sheet.pdf">Dell Precision T3600 Spec Sheet</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.dell.com/downloads/global/products/pvaul/en/dell-perc-h310-spec-sheet.pdf">Dell PowerEdge RAID
Controller H310</a></p>
</div>
<div class="sect4">
<h5 id="_storage_controller">Storage Controller</h5>
<div class="paragraph">
<p>内置：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Intel Storage Control Unit (SCU) SATA 3.0Gb/s controller with host based RAID 0, 1, 5, 10.<br>
(Serial Attached SCSI controller [0300]: Intel Corporation C602 chipset 4-Port SATAStorage Control Unit [8086: 1d6b])</p>
<div class="dlist">
<dl>
<dt class="hdlist1">DUD 文件</dt>
<dd>
<p><a href="https://elrepo.org/linux/dud/el8/x86_64/dd-isci-1.2.0-1.el8.elrepo.iso">dd-isci-1.2.0-1.el8.elrepo.iso</a></p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>DUD文件 dd-isci-1.2.0-1.el8.elrepo.iso 中，文件路径有内核版本号，需要确认安装镜像中运行的内核版本。</p>
</div>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>加载DUD文件 dd-isci-1.2.0-1.el8.elrepo.iso 之后，CentOS8 安装界面会出问题，自动重启，无法使用。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Dual AHCI 6Gb/s SATA port option (no RAID support)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>可选：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dell PERC H310 PCIe host-based RAID card with four usable 6Gb/s ports supporting SATA/SAS/SSD drives and RAID 0, 1, 5, 10 configurations<br>
(SAS controller: LSI SAS2008)</p>
</li>
<li>
<p>Dell PERC H710P PCIe hardware RAID card with 1GB non-volatile cache memory and four usable 6Gb/s ports supporting SATA/SAS/SSD drives and RAID 0,1, 5, 10 configurations</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>说明：</p>
</div>
<div class="paragraph">
<p><a href="https://www.centos.org/forums/viewtopic.php?t=71862">Removal of LSI 2008, 2108, 2116 RAID card drivers</a></p>
</div>
<div class="literalblock">
<div class="content">
<pre>Note: In my case, I'm using the card in IT mode; the disks are not set into RAID with the card, so only the mpt3sas DUD is required.
If you have a IR mode (RAID via the controller) configuration, you may need the megaraid-sas DUD too.</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">DUD文件</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://elrepo.org/linux/dud/el8/x86_64/dd-mpt3sas-27.101.00.00-1.el8_0.elrepo.iso">dd-mpt3sas-27.101.00.00-1.el8_0.elrepo.iso</a></p>
</li>
<li>
<p><a href="https://elrepo.org/linux/dud/el8/x86_64/dd-megaraid_sas-07.707.50.00-1.el8_0.elrepo.iso">dd-megaraid_sas-07.707.50.00-1.el8_0.elrepo.iso</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code>H310</code> 加载 <code>megaraid_sas</code> 之后，CentOS 8安装盘识别到了硬盘。</p>
</div>
</div>
<div class="sect4">
<h5 id="_dud">DUD</h5>
<div class="paragraph">
<p><a href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/7/html/installation_guide/sect-driver-updates-during-installation-preparing-x86#sect-driver-updates-image-preparing-x86">准备在安装过程中执行驱动程序更新</a></p>
</div>
<div class="paragraph">
<p><a href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/7/html/installation_guide/sect-driver-updates-performing-x86#sect-driver-updates-manual-x86">在安装过程中更新驱动程序</a></p>
</div>
<div class="paragraph">
<p>在USB启动之后，在安装菜单中按 <kbd>Tab</kbd>，在启动参数最后追加 <code>inst.dd</code>，进入安装界面之后，会交互式提示选择iso文件。</p>
</div>
<div class="paragraph">
<p>不过，经过测试发现交互式选择iso，无法挂载。</p>
</div>
<div class="paragraph">
<p>最终，选择修改USB设备卷标 <code>OEMDRV</code> 方式，成功加载。</p>
</div>
<div class="paragraph">
<p>如果需要同时加载多个DUD文件，使用 <code>inst.dd=http://192.168.0.2/dd.iso</code> 加上卷标 <code>OEMDRV</code> 方式自动加载，这样会加载两次。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>CentOS8 网络安装地址：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">URL</dt>
<dd>
<p><a href="http://mirrors.163.com/centos/8/BaseOS/x86_64/os/" class="bare">http://mirrors.163.com/centos/8/BaseOS/x86_64/os/</a></p>
</dd>
<dt class="hdlist1">URL Type</dt>
<dd>
<p>repository URL</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>H310 不支持SSD启动，建议使用SSD+Sata端口安装和运行。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>T3600安装CentOS8时，只有两个盘位。所以，只能接SATA0和SATA1。并且，要保证BIOS中，SATA控制器模式是ACHI。</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Mosquitto_chapter">14. Mosquitto</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装_3">14.1. 安装</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
基于CentOS8
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>官方文档： <a href="https://mosquitto.org/" class="bare">https://mosquitto.org/</a></p>
</div>
<div class="sect3">
<h4 id="_依赖">14.1.1. 依赖</h4>
<div class="sect4">
<h5 id="_系统依赖">系统依赖</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y openssl-devel gcc make gcc-c++</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_第三方依赖可选">第三方依赖（可选）</h5>
<div class="paragraph">
<p>让Mosquitto支持WebSockets客户端需要安装 <code>libwebsockets</code>  依赖。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y cmake

wget -O libwebsockets-4.0.1.tar.gz https://github.com/warmcat/libwebsockets/archive/v4.0.1.tar.gz
tar xf libwebsockets-4.0.1.tar.gz
cd libwebsockets-4.0.1
mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=/usr/local/libwebsockets-4.0.1 ..
make -j4 install

echo "/usr/local/libwebsockets-4.0.1/lib" &gt; /etc/ld.so.conf.d/libwebsockets.conf
ldconfig
ldconfig -p|grep libwebsockets</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_编译">14.1.2. 编译</h4>
<div class="sect4">
<h5 id="_下载源代码">下载源代码</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads
cd ~/downloads
wget -O mosquitto-1.6.9.tar.gz https://mosquitto.org/files/source/mosquitto-1.6.9.tar.gz
tar xf mosquitto-1.6.9.tar.gz</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_编译默认配置">编译：默认配置</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd mosquitto-1.6.9
make -j4
make install prefix=/usr/local/mosquitto-1.6.9</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_编译支持websockts客户端">编译：支持WebSockts客户端</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/libwebsockets-4.0.1/lib/pkgconfig
ln -s /usr/local/libwebsockets-4.0.1/lib/libwebsockets.so /usr/lib/libwebsockets.so

cd mosquitto-1.6.9
make -j4 CFLAGS=`pkg-config --cflags-only-I libwebsockets` WITH_WEBSOCKETS=yes
make install prefix=/usr/local/mosquitto-1.6.9

unlink /usr/lib/libwebsockets.so</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_配置_3">14.2. 配置</h3>
<div class="sect3">
<h4 id="_基础配置">14.2.1. 基础配置</h4>
<div class="paragraph">
<p>加入环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">ln -s /usr/local/mosquitto-1.6.9/bin/* /usr/local/bin/
ln -s /usr/local/mosquitto-1.6.9/sbin/* /usr/local/bin/

echo /usr/local/mosquitto-1.6.9/lib/ &gt;&gt; /etc/ld.so.conf
ldconfig</code></pre>
</div>
</div>
<div class="paragraph">
<p>创建用户：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">useradd -c "mosquitto server user" -d /var/lib/mosquitto -s /sbin/nologin  mosquitto</code></pre>
</div>
</div>
<div class="paragraph">
<p>创建配置文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cp /etc/mosquitto/mosquitto.conf.example /etc/mosquitto/mosquitto.conf
touch /etc/mosquitto/pwfile /etc/mosquitto/aclfile /var/log/mosquitto.log
chown mosquitto:mosquitto /var/log/mosquitto.log

sed -i '588s/#log_dest stderr/log_dest file \/var\/log\/mosquitto.log/' /etc/mosquitto/mosquitto.conf
sed -i '669s/# password_file/password_file \/etc\/mosquitto\/pwfile/' /etc/mosquitto/mosquitto.conf
sed -i '728s/#acl_file/acl_file \/etc\/mosquitto\/aclfile/' /etc/mosquitto/mosquitto.conf
sed -i '651s/#allow_anonymous true/allow_anonymous false/' /etc/mosquitto/mosquitto.conf</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_创建系统服务">14.2.2. 创建系统服务</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /usr/lib/systemd/system/mosquitto.service
[Unit]
Description=Eclipse Mosquitto - An open source MQTT broker
After=network.target remote-fs.target nss-lookup.target

[Service]
Type=forking

User=mosquitto
Group=mosquitto
ExecStart=/usr/local/mosquitto-1.6.9/sbin/mosquitto -d -c /etc/mosquitto/mosquitto.conf -v

[Install]
WantedBy=multi-user.target
EOF

systemctl enable mosquitto</code></pre>
</div>
</div>
<div class="paragraph">
<p>启动服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start mosquitto
systemctl status mosquitto</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_权限设置">14.2.3. 权限设置</h4>
<div class="paragraph">
<p>创建用户 foo：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mosquitto_passwd -b /etc/mosquitto/pwfile foo 'ugnCy55jZpJj0Xnh0ucS'</code></pre>
</div>
</div>
<div class="paragraph">
<p>另外，可以在 '/etc/mosquitto/aclfile' 文件中设置用户可读写的 topic。比如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/mosquitto/aclfile
# This affects access control for clients with no username.
topic read \$SYS/#

# This affects all clients.
pattern readwrite #
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>以上权限设置表示 <code>$SYS/#</code> 可以被所有客户端只读，<code>pattern readwrite #</code> 表示所有客户端可以访问任何topic。</p>
</div>
<div class="paragraph">
<p>详情参考 <code>/etc/mosquitto/aclfile.example</code>。</p>
</div>
<div class="paragraph">
<p>在主配置中启用了权限控制（<code>/etc/mosquitto/aclfile</code> ）之后，必须配置规则。否则，客户端无法推送消息。</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Terminal_chapter">15. Terminal</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_快捷键">15.1. 快捷键</h3>
<div class="paragraph">
<p>官方文档： <a href="https://help.gnome.org/users/gnome-terminal/stable/adv-keyboard-shortcuts.html.en" class="bare">https://help.gnome.org/users/gnome-terminal/stable/adv-keyboard-shortcuts.html.en</a></p>
</div>
<div class="paragraph">
<p>Keyboard shortcuts are combinations of keys that allow you to perform actions, such as opening the settings dialog or accessing a feature inside Terminal quickly. These shortcuts can be modified to suit your preferences.</p>
</div>
<div class="paragraph">
<p>To change a keyboard shortcut:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press the menu button in the top-right corner of the window and select Preferences.</p>
</li>
<li>
<p>In the sidebar, select Shortcuts.</p>
</li>
<li>
<p>Make sure Enable shortcuts is selected.</p>
</li>
<li>
<p>Select the shortcut that you wish to edit by clicking on it.</p>
</li>
<li>
<p>Once the shortcut is selected, click on the shortcut key combination to edit it.</p>
</li>
<li>
<p>Press your desired shortcut key combination as you would enter it to use it. The keys that you can use include Alt, Alt Gr, Ctrl, Shift, Super, number and letter keys.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Mnemonic key combinations, such as Alt+F will not work.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Once you have entered your new shortcut, it will automatically be saved and you should see it in the list next to the corresponding action.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To disable a shortcut, edit it and press the Backspace instead of the new shortcut.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_file_shortcuts">15.1.1. File shortcuts</h4>

</div>
<div class="sect3">
<h4 id="_edit_shortcuts">15.1.2. Edit shortcuts</h4>

</div>
<div class="sect3">
<h4 id="_view_shortcuts">15.1.3. View shortcuts</h4>

</div>
<div class="sect3">
<h4 id="_search_shortcuts">15.1.4. Search shortcuts</h4>

</div>
<div class="sect3">
<h4 id="_tab_shortcuts">15.1.5. Tab shortcuts</h4>

</div>
<div class="sect3">
<h4 id="_other">15.1.6. Other</h4>

</div>
<div class="sect3">
<h4 id="_bash_shortcuts">15.1.7. Bash shortcuts</h4>
<div class="paragraph">
<p>These are Bash shortcuts. Bash is usually the default shell.</p>
</div>
<div class="paragraph">
<p>Bash shell specific keyboard shortcuts are:</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_FFmpeg_chapter">16. FFmpeg</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_centos8_安装">16.1. CentOS8 安装</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y http://mirrors.ustc.edu.cn/rpmfusion/free/el/rpmfusion-free-release-8.noarch.rpm
dnf install -y http://mirrors.ustc.edu.cn/rpmfusion/nonfree/el/rpmfusion-nonfree-release-8.noarch.rpm

dnf install -y dnf-plugins-core
dnf config-manager --set-enabled PowerTools
dnf install -y ffmpeg</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_命令合集">16.2. 命令合集</h3>
<div class="sect3">
<h4 id="_mp4转换为mp3">16.2.1. mp4转换为mp3</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">ffmpeg -i 'BLACKPINK - Really.mp4'  -vn -ar 44100 -ac 2 -b:a 192k 'BLACKPINK - Really.mp3'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dvd_iso转换为_matroska_视频格式">16.2.2. DVD-ISO转换为 matroska 视频格式</h4>
<div class="paragraph">
<p>在GNOME文件管理窗口选中 <code>BoA_Who&#8217;s back 2014 Live Tour_Blu-ray.iso</code> （DVD-ISO）文件，右键选择 “磁盘映像挂载器”，将ISO文件挂载好。</p>
</div>
<div class="paragraph">
<p>找到挂载目录下的 <code>.m2ts</code> 文件（ <code>STREAM</code> 目录下），人工筛选出需要的文件，写入到 <code>m2ts_list.txt</code> 文件。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
不是所有 <code>.m2ts</code> 文件都需要，有些是DVD片头或播放菜单
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "file '/run/media/BOA_LIVE_TOUR2014/BDMV/STREAM/00004.m2ts'" &gt; m2ts_list.txt
echo "file '/run/media/BOA_LIVE_TOUR2014/BDMV/STREAM/00005.m2ts'" &gt;&gt; m2ts_list.txt

ffmpeg -f concat -safe 0 -i m2ts_list.txt  -vcodec copy -acodec pcm_s24le output.mkv</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">参数解释</dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>pcm_s24le</code></dt>
<dd>
<p><code>pcm_bluray</code> 音频编码只能用于m2ts文件，mkv文件格式最多支持到 <code>pcm_s24le</code></p>
</dd>
<dt class="hdlist1"><code>-vcodec copy</code></dt>
<dd>
<p>保留视频原始比特率，保持画面质量</p>
</dd>
<dt class="hdlist1"><code>m2ts_list.txt</code></dt>
<dd>
<p>多输入文件需要使用到清单文件，官方文档 <a href="https://trac.ffmpeg.org/wiki/Concatenate" class="bare">https://trac.ffmpeg.org/wiki/Concatenate</a></p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Git_chapter">17. Git</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_配置_git_客户端">17.1. 配置 <code>Git</code> 客户端</h3>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>git config &#8230;&#8203;&#8230;&#8203;</code></dt>
<dd>
<p>项目级设置</p>
</dd>
<dt class="hdlist1"><code>git config --global &#8230;&#8203;&#8230;&#8203;</code></dt>
<dd>
<p>系统级设置</p>
</dd>
<dt class="hdlist1"><code>git config --global core.editor vim</code></dt>
<dd>
<p>全局默认编辑器</p>
</dd>
<dt class="hdlist1"><code>git config --global user.name "foo"</code></dt>
<dd>
<p>全局用户名称</p>
</dd>
<dt class="hdlist1"><code>git config --global user.email <a href="mailto:foo@example.com">foo@example.com</a></code></dt>
<dd>
<p>全局Email</p>
</dd>
<dt class="hdlist1"><code>git config --global core.quotepath false</code></dt>
<dd>
<p>git status 显示中文</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">查看配置列表</div>
<div class="content">
<pre>$ git config --list
core.packedgitlimit=100m
core.packedgitwindowsize=100m
core.quotepath=false
core.compression=9
core.editor=vim
user.name=foo
user.email=foo@example.com
pack.deltacachesize=100m
pack.packsizelimit=100m
pack.windowmemory=100m
pack.threads=1
pack.window=0
commit.template=/home/mk/.gitmessage.txt</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_commit_模板">17.2. <code>commit</code> 模板</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>设置全局默认编辑器： <code>git config --global core.editor vim</code></p>
</li>
<li>
<p>设置全局 <code>commit</code> 模板： <code>git config --global commit.template ~/.gitmessage.txt</code></p>
</li>
<li>
<p>执行 <code>git commit</code>  即可使用 <code>commit</code> 模板</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">gitmessage.txt 文件内容</div>
<div class="content">
<pre># Type(&lt;scope&gt;): &lt;subject&gt;

# &lt;body&gt;

# &lt;footer&gt;

# ** TYPES **
# feat (new feature)
# fix (bug fix)
# docs (changes to documentation)
# style (formatting, missing semi colons, etc; no code change)
# refactor (refactoring production code)
# perf (improves performance)
# revert (revert commit)
# test (adding missing tests, refactoring tests; no production code change)
# chore (updating grunt tasks etc; no production code change)
#
# ** FOOTERS **
# References #1, #4, and #2.
# Fix #1. note this marks the item as accepted in Sprintly
# Closes #1 and #2. note this marks the item as accepted in Sprintly

# Scope is just the scope of the change. Something like (admin) or (teacher).
# Subject should use impertivite tone and say what you did.
# The body should go into detail about changes made.
# The footer should contain any JIRA (or other tool) issue references or actions.

# e.g.,
# revert: feat(pencil): add 'graphiteWidth' option
# This reverts commit 667ecc1654a317a13331b17617d973392f415f02.</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_修改_commit_邮箱">17.3. 修改 <code>commit</code> 邮箱</h3>
<div class="paragraph">
<p><strong>本方法适用于Python 3.5+</strong></p>
</div>
<div class="sect3">
<h4 id="_安装依赖_2">17.3.1. 安装依赖</h4>
<div class="paragraph">
<p>安装Python插件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip install git-filter-repo

ls ~/.local/bin/git-filter-repo</code></pre>
</div>
</div>
<div class="paragraph">
<p>设置环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'export PATH=$PATH:~/.local/bin' &gt;&gt; ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>生效环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">source ~/.bashrc</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_更新commit中的邮箱">17.3.2. 更新commit中的邮箱</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 请自行替换以下信息
echo '作者 &lt;新邮箱&gt; &lt;旧邮箱&gt;' &gt; ~/.mailmap

git filter-repo --mailmap ~/.mailmap --force

git push origin  master --force</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_status_不显示中文">17.4. <code>git status</code> 不显示中文</h3>
<div class="listingblock">
<div class="title">问题描述</div>
<div class="content">
<pre>$ git status
On branch dev
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

    "\346\265\213\350\257\225\344\270\255\346\226\207"

nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">解决方法</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">git config --global core.quotepath false</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">测试</div>
<div class="content">
<pre>$ git status
On branch dev
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

    测试

nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_修改远程url为ssh协议地址">17.5. 修改远程URL为SSH协议地址</h3>
<div class="listingblock">
<div class="title">修改前</div>
<div class="content">
<pre>$ git remote -v
origin  https://github.com/USERNAME/REPOSITORY.git (fetch)
origin  https://github.com/USERNAME/REPOSITORY.git (push)</pre>
</div>
</div>
<div class="paragraph">
<p>设置远程仓库： <code>git remote set-url origin <a href="mailto:git@github.com">git@github.com</a>:USERNAME/OTHERREPOSITORY.git</code></p>
</div>
<div class="listingblock">
<div class="title">修改前</div>
<div class="content">
<pre>$ git remote -v
origin  git@github.com:USERNAME/OTHERREPOSITORY.git (fetch)
origin  git@github.com:USERNAME/OTHERREPOSITORY.git (push)</pre>
</div>
</div>
<div class="sect3">
<h4 id="_延伸">17.5.1. 延伸</h4>
<div class="ulist">
<ul>
<li>
<p><code>git remote add origin <a href="mailto:git@github.com">git@github.com</a>:USERNAME/OTHERREPOSITORY.git</code></p>
</li>
<li>
<p><code>git remote remove origin</code></p>
</li>
<li>
<p><code>git remote add test <a href="mailto:git@github.com">git@github.com</a>:USERNAME/OTHERREPOSITORY.git</code></p>
</li>
<li>
<p><code>git remote remove test</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>以上命令可以增加和移除远程仓库，一个项目可以同时拥有多个远程仓库。仅需要在推送时，指定远程仓库即可，比如</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">git push test master</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_CharacterEncoding_chapter">18. 字符编码</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_字符编码">18.1. 字符编码</h3>

</div>
<div class="sect2">
<h3 id="_字符编码实例">18.2. 字符编码实例</h3>

</div>
<div class="sect2">
<h3 id="_乱码">18.3. 乱码</h3>

</div>
<div class="sect2">
<h3 id="_实用工具">18.4. 实用工具</h3>
<div class="listingblock">
<div class="content">
<pre>[mk@archlinux test]$ echo 测试测试&gt;out.txt
[mk@archlinux test]$ file out.txt
out.txt: UTF-8 Unicode text

[mk@archlinux test]$ iconv -f utf-8 -t gb2312 out.txt -o out2.txt
[mk@archlinux test]$ file *
out2.txt: ISO-8859 text
out.txt:  UTF-8 Unicode text
[mk@archlinux test]$ hexdump -C out2.txt
00000000  b2 e2 ca d4 0a b2 e2 ca  d4 0a                    |..........|
0000000a


[mk@archlinux test]$ uconv -f utf-8 -t utf-8 --add-signature -o out2.txt out.txt
[mk@archlinux test]$ file *
out2.txt: UTF-8 Unicode (with BOM) text
out.txt:  UTF-8 Unicode text

[mk@archlinux test]$ hexdump -C out2.txt
00000000  ef bb bf e6 b5 8b e8 af  95 0a e6 b5 8b e8 af 95  |................|
00000010  0a                                                |.|
00000011


[mk@archlinux test]$ sudo pacman -F /usr/bin/iconv usr/bin/convmv
[sudo] mk 的密码：
usr/bin/iconv 由 core/glibc 2.30-2 所拥有
usr/bin/convmv 由 extra/convmv 2.05-1 所拥有

[mk@archlinux test]$ sudo pacman -F uconv
core/icu 65.1-2 [已安装]
    usr/bin/uconv


dos2unix out2.txt
file *

unix2dos -m out2.txt
file *

[mk@archlinux test]$ sudo pacman -F /usr/bin/dos2unix /usr/bin/unix2dos
usr/bin/dos2unix 由 community/dos2unix 7.4.1-1 所拥有
usr/bin/unix2dos 由 community/dos2unix 7.4.1-1 所拥有


hexdump

[mk@archlinux test]$ sudo pacman -F base64
[sudo] mk 的密码：
core/coreutils 8.31-3 [已安装]

[mk@archlinux test]$ base64 out.txt
5rWL6K+VCg==

[mk@archlinux test]$ echo ok|base64
b2sK

[mk@archlinux Pictures]$ cat '2019-12-29 00-52-11屏幕截图.png'|more
�PNG
�


���0^L
--更多--


[mk@archlinux Pictures]$ cat '2019-12-29 00-52-11屏幕截图.png'|base64
iVBORw0KGgoAAAANSUhEUgAAAZkAAAJTCAYAAADaPmuBAAAABHNCSVQICAgIfAhkiAAAABl0RVh0
U29mdHdhcmUAZ25vbWUtc2NyZWVuc2hvdO8Dvz4AACAASURBVHic7L3bkiS9jSb4AXSPrJLU3WO7
8wZzuXf7GG17MQ+5ZvNua9ajVutXVWY4CewFCDqdQT/FISt/SSiLikg/kCCdjg8AQZD+llT/3//1
v/Dv//7vGIcB35QATeCkUFZgAISAQQNUFS0R0eJvVS3HiKh7T+8+Ebk5tnZtW9/aNfUxEVkcWytz
jd+6Xb3y6/u2+H0WrdV9D6kqmLn8bsuuz6/V1z73+rpe37W015dH23jvczjC49l6e+W17Xh0rNzT</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_GCC_chapter">19. GCC</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_常用技巧_2">19.1. 常用技巧</h3>
<div class="paragraph">
<p>我以CentOS6编译安装mosquitto为例。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
CentOS6系统自带的OpenSSL版本太老，需要手动安装新版。
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads
cd downloads
wget -c https://www.openssl.org/source/openssl-1.1.1d.tar.gz
tar xf openssl-1.1.1d.tar.gz
cd openssl-1.1.1d
./config --prefix=/usr/local/openssl-1.1.1d
make -j4
make install</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">配置动态链接运行时（全局有效）</div>
<div class="content">
<pre>echo "/usr/local/openssl-1.1.1d/lib/" &gt; /etc/ld.so.conf.d/openssl_1.1.1.conf
ldconfig
ldconfig -p|grep ssl</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads
cd ~/downloads
wget -O mosquitto-1.6.9.tar.gz https://mosquitto.org/files/source/mosquitto-1.6.9.tar.gz
tar xf mosquitto-1.6.9.tar.gz

export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/openssl-1.1.1d/lib/pkgconfig/

cd mosquitto-1.6.9
CFLAGS=`pkg-config --cflags-only-I openssl` LDFLAGS=`pkg-config --libs-only-L openssl` LIBS=`pkg-config --libs-only-l openssl` make
make install prefix=/usr/local/mosquitto-1.6.9</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Java_chapter">20. Java</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_javacjar和classpath">20.1. javac、jar和classpath</h3>
<div class="sect3">
<h4 id="_运行jar包">20.1.1. 运行jar包</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">java -jar target/gs-spring-boot-0.1.0.jar</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_编译运行java">20.1.2. 编译运行java</h4>
<div class="literalblock">
<div class="title">源代码结构</div>
<div class="content">
<pre># tree  statistics/
statistics/
└── src
    ├── connections
    │   ├── ConnectionPool.class
    │   ├── ConnectionPool.java
    │   ├── DBManager.java
    │   └── PooledConnection.java
    ├── jdbc
    │   └── JDBCOperation.java
    ├── module
    │   ├── CompanyInfo.java
    │   ├── Domain.java
    │   └── ResourceLog.java
    └── statistics
        └── Test.java</pre>
</div>
</div>
<div class="listingblock">
<div class="title">编译</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">cd statistics
javac -cp src/:/usr/share/java/postgresql-jdbc-8.4.704.jar -d bin/ src/statistics/Test.java</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">运行</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">cd statistics
java -cp ./bin:/usr/share/java/postgresql-jdbc-8.4.704.jar statistics.Test</code></pre>
</div>
</div>
<div class="literalblock">
<div class="title">class结构</div>
<div class="content">
<pre># tree bin/
    bin/
    ├── connections
    │   ├── ConnectionPool.class
    │   ├── DBManager.class
    │   └── PooledConnection.class
    ├── jdbc
    │   └── JDBCOperation.class
    ├── module
    │   ├── CompanyInfo.class
    │   ├── Domain.class
    │   └── ResourceLog.class
    └── statistics
        └── Test.class</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_spring">20.2. Spring</h3>

</div>
<div class="sect2">
<h3 id="_springboot">20.3. SpringBoot</h3>
<div class="sect3">
<h4 id="_配置文件官方文档">20.3.1. 配置文件官方文档</h4>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties" class="bare">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#common-application-properties</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_运行时指定配置模式devprodetc">20.3.2. 运行时指定配置模式（dev/prod/etc）</h4>
<div class="paragraph">
<p>通过启用不同的配置文件载入指定的配置参数。这种方式非常适合有多种配置的应用，通过特殊的运行时环境指定配置文件。</p>
</div>
<div class="paragraph">
<p>在SpringBoot中，你可以在 `application.yml ` 所在目录下创建多个 `application-{profile}.yml ` 文件达到目的。指定的配置文件会覆盖默认设置。如果指定多个配置文件，最后一个有效。</p>
</div>
<div class="paragraph">
<p>假如我的应用有两个环境，例如 <code>生产环境</code> 和 <code>开发环境</code>。这时，只需要创建两个配置文件即可：</p>
</div>
<div class="listingblock">
<div class="title">application-dev.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="yml" class="language-yml hljs">logging:
  file: logs/application-debug.log
  pattern:
    console: "%d %-5level %logger : %msg%n"
    file: "%d %-5level [%thread] %logger : %msg%n"
  level:
    org.springframework.web: ERROR
    com.howtodoinjava: DEBUG
    org.hibernate: ERROR</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">application-prod.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="yml" class="language-yml hljs">logging:
  file: logs/application-debug.log
  pattern:
    console: "%d %-5level %logger : %msg%n"
    file: "%d %-5level [%thread] %logger : %msg%n"
  level:
    org.springframework.web: ERROR
    com.howtodoinjava: INFO
    org.hibernate: ERROR</code></pre>
</div>
</div>
<div class="paragraph">
<p>在运行时增加参数 <code>spring.profiles.active</code>，可以指定启用的配置文件。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ java -jar -Dspring.profiles.active=prod spring-boot-demo.jar</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_开启调试日志">20.3.3. 开启调试日志</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">java -jar -Ddebug=true target/server-1.0-SNAPSHOT.jar</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">java -jar -Dtrace=true target/server-1.0-SNAPSHOT.jar</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_开启web访问日志">20.3.4. 开启Web访问日志</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">java -jar -Dserver.tomcat.basedir=tomcat -Dserver.tomcat.accesslog.enabled=true target/server-1.0-SNAPSHOT.jar</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_GitLab_chapter">21. GitLab</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_centos7安装配置_2">21.1. CentOS7安装配置</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">官方文档</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://about.gitlab.com/install/#centos-7" class="bare">https://about.gitlab.com/install/#centos-7</a></p>
</li>
<li>
<p><a href="https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package" class="bare">https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash

EXTERNAL_URL="http://192.168.2.8:8282"  yum install -y gitlab-ce</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">安装信息</div>
<div class="content">
<pre>It looks like GitLab has not been configured yet; skipping the upgrade script.

       *.                  *.
      ***                 ***
     *****               *****
    .******             *******
    ********            ********
   ,,,,,,,,,***********,,,,,,,,,
  ,,,,,,,,,,,*********,,,,,,,,,,,
  .,,,,,,,,,,,*******,,,,,,,,,,,,
      ,,,,,,,,,*****,,,,,,,,,.
         ,,,,,,,****,,,,,,
            .,,,***,,,,
                ,*,.



     _______ __  __          __
    / ____(_) /_/ /   ____ _/ /_
   / / __/ / __/ /   / __ `/ __ \
  / /_/ / / /_/ /___/ /_/ / /_/ /
  \____/_/\__/_____/\__,_/_.___/


Thank you for installing GitLab!
GitLab was unable to detect a valid hostname for your instance.
Please configure a URL for your GitLab instance by setting `external_url`
configuration in /etc/gitlab/gitlab.rb file.
Then, you can start your GitLab instance by running the following command:
  sudo gitlab-ctl reconfigure

For a comprehensive list of configuration options please see the Omnibus GitLab readme
https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md


GitLab now ships with a newer version of PostgreSQL (11.7), but it is not yet
enabled by default. To upgrade, please see:
https://docs.gitlab.com/omnibus/settings/database.html#upgrade-packaged-postgresql-server

  Verifying  : gitlab-ce-12.9.0-ce.0.el7.x86_64                                                                                                           1/1

Installed:
  gitlab-ce.x86_64 0:12.9.0-ce.0.el7

Complete!</pre>
</div>
</div>
<div class="paragraph">
<p>重新配置（恢复默认配置）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gitlab-ctl reconfigure</code></pre>
</div>
</div>
<div class="paragraph">
<p>重启服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gitlab-ctl restart</code></pre>
</div>
</div>
<div class="paragraph">
<p>安装完毕后，默认访问80端口即可：</p>
</div>
<div class="paragraph">
<p><a href="http://localhost" class="bare">http://localhost</a></p>
</div>
<div class="paragraph">
<p>默认登录用户 root，密码第一次访问会提示修改。</p>
</div>
</div>
<div class="sect2">
<h3 id="_centos8_安装配置">21.2. CentOS8 安装配置</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">官方文档</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://about.gitlab.com/install/#centos-8" class="bare">https://about.gitlab.com/install/#centos-8</a></p>
</li>
<li>
<p><a href="https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package" class="bare">https://docs.gitlab.com/omnibus/README.html#installation-and-configuration-using-omnibus-package</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_安装依赖_3">21.2.1. 安装依赖</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y curl policycoreutils openssh-server
# Check if opening the firewall is needed with: systemctl status firewalld
firewall-cmd --permanent --add-service=http
firewall-cmd --permanent --add-service=https
systemctl reload firewalld


dnf install -y postfix
systemctl enable postfix
systemctl start postfix</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装gitlab">21.2.2. 安装GitLab</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash

EXTERNAL_URL="http://0.0.0.0:8000"  dnf install -y gitlab-ce</code></pre>
</div>
</div>
<div class="paragraph">
<p>一般情况下，GitLab的CDN下载会比较慢，可以找出RPM包的URL，单独下载。然后，手动 <code>dnf install RPM包名称</code>。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -s https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | bash

yumdownloader --urls gitlab-ce</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Repository epel is listed more than once in the configuration
Extra Packages for Enterprise Linux Modular 8 - x86_64                                                                                                        2.7 kB/s |  10 kB     00:03
Extra Packages for Enterprise Linux Modular 8 - x86_64                                                                                                         28 kB/s | 116 kB     00:04
gitlab_gitlab-ce                                                                                                                                               77  B/s | 862  B     00:11
gitlab_gitlab-ce-source                                                                                                                                       100  B/s | 862  B     00:08
https://packages.gitlab.com/gitlab/gitlab-ce/el/8/x86_64/gitlab-ce-12.10.2-ce.0.el8.x86_64.rpm</pre>
</div>
</div>
<div class="listingblock">
<div class="title">使用Wget断点续传，可中断后继续下载</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget -c https://packages.gitlab.com/gitlab/gitlab-ce/el/8/x86_64/gitlab-ce-12.10.2-ce.0.el8.x86_64.rpm</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
如果下载慢，可以多次中断。然后，再执行wget下载。也可以使用 <code>axel -n url</code> 多线程下载。
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">EXTERNAL_URL="http://0.0.0.0:8000"  dnf install -y gitlab-ce-12.10.2-ce.0.el8.x86_64.rpm</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">安装信息</div>
<div class="content">
<pre>Repository epel is listed more than once in the configuration
Last metadata expiration check: 0:00:44 ago on Sat 02 May 2020 01:42:36 PM CST.
Dependencies resolved.
=================================================================================================
 Package          Architecture          Version          Repository          Size
=================================================================================================
Installing:
 gitlab-ce        x86_64                12.10.2-ce.0.el8 @commandline        789 M

Transaction Summary
=================================================================================================
Install  1 Package

Total size: 789 M
Installed size: 1.7 G
Downloading Packages:
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                      1/1
  Running scriptlet: gitlab-ce-12.10.2-ce.0.el8.x86_64                                                                    1/1
  Installing       : gitlab-ce-12.10.2-ce.0.el8.x86_64                                                                    1/1
  Running scriptlet: gitlab-ce-12.10.2-ce.0.el8.x86_64                                                                    1/1
It looks like GitLab has not been configured yet; skipping the upgrade script.

       *.                  *.
      ***                 ***
     *****               *****
    .******             *******
    ********            ********
   ,,,,,,,,,***********,,,,,,,,,
  ,,,,,,,,,,,*********,,,,,,,,,,,
  .,,,,,,,,,,,*******,,,,,,,,,,,,
      ,,,,,,,,,*****,,,,,,,,,.
         ,,,,,,,****,,,,,,
            .,,,***,,,,
                ,*,.



     _______ __  __          __
    / ____(_) /_/ /   ____ _/ /_
   / / __/ / __/ /   / __ `/ __ \
  / /_/ / / /_/ /___/ /_/ / /_/ /
  \____/_/\__/_____/\__,_/_.___/


Thank you for installing GitLab!
GitLab was unable to detect a valid hostname for your instance.
Please configure a URL for your GitLab instance by setting `external_url`
configuration in /etc/gitlab/gitlab.rb file.
Then, you can start your GitLab instance by running the following command:
  sudo gitlab-ctl reconfigure

For a comprehensive list of configuration options please see the Omnibus GitLab readme
https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md


  Verifying        : gitlab-ce-12.10.2-ce.0.el8.x86_64                                                                    1/1

Installed:
  gitlab-ce-12.10.2-ce.0.el8.x86_64

Complete!</pre>
</div>
</div>
<div class="paragraph">
<p>重新配置（恢复默认配置）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gitlab-ctl reconfigure</code></pre>
</div>
</div>
<div class="paragraph">
<p>重启服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gitlab-ctl restart</code></pre>
</div>
</div>
<div class="paragraph">
<p>安装完毕后，默认访问80端口即可：</p>
</div>
<div class="paragraph">
<p><a href="http://localhost" class="bare">http://localhost</a></p>
</div>
<div class="paragraph">
<p>我们上面使用的是 <a href="http://0.0.0.0:8000，所以访问地址为：" class="bare">http://0.0.0.0:8000，所以访问地址为：</a></p>
</div>
<div class="paragraph">
<p><a href="http://服务器IP:8000" class="bare">http://服务器IP:8000</a></p>
</div>
<div class="paragraph">
<p>默认登录用户 root，密码第一次访问会提示修改。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nginx反代gitlab">21.3. Nginx反代GitLab</h3>
<div class="paragraph">
<p>安装GitLab之后，通过单独的Nginx反代，暴露给外网访问。由于Nginx配置和GitLab内部的访问端口不同，为保证功能正常使用，需要修改GitLab配置。</p>
</div>
<div class="sect3">
<h4 id="_gitlab_设置">21.3.1. GitLab 设置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 禁用默认配置
sed -i 's/^external_url /#external_url /g' /etc/gitlab/gitlab.rb

cat &lt;&lt; EOF &gt;&gt; /etc/gitlab/gitlab.rb
# 禁止k8s相关模块
gitlab_kas['enable'] = false

# 禁止默认功能设置
gitlab_rails['gitlab_default_projects_features_wiki'] = false
gitlab_rails['gitlab_default_projects_features_builds'] = false

gitlab_rails['gitlab_host'] = 'git.xxx.com'
gitlab_rails['gitlab_port'] = 443
gitlab_rails['gitlab_https'] = true

gitlab_rails['gitlab_ssh_host'] = 'git.xxx.com'
gitlab_rails['gitlab_shell_ssh_port'] = 22

# 禁用自动签发免费HTTPS证书
letsencrypt['enable'] = false

# 禁用签发证书后，需要显式启用Nginx服务
nginx['enable'] = true
# 禁用Nginx的HTTPS配置
nginx['redirect_http_to_https'] = false
nginx['listen_https'] = false

# Nginx端口监听配置
nginx['listen_addresses'] = ['127.0.0.1']
nginx['listen_port'] = 8000

git_data_dirs({
    "default" =&gt; {
        "path" =&gt; "/data/gitlab_data"
    }
})
EOF

# 重新生成配置并重启
gitlab-ctl reconfigure &amp;&amp; gitlab-ctl restart

# 确认Nginx服务状态
ss -antpl|grep 8000</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置http_clone相关参数">21.3.2. 设置HTTP Clone相关参数</h4>
<div class="paragraph">
<p>用管理员帐号登录GitLab，进入以下菜单：</p>
</div>
<div class="paragraph">
<p>Admin Area &gt; Settings &gt; General &gt; Visibility and access controls</p>
</div>
<div class="paragraph">
<p>找到 <code>"Custom Git clone URL for HTTP(S) "</code>，根据实际情况填写，比如：https://git.xxx.com:2305</p>
</div>
</div>
<div class="sect3">
<h4 id="_nginx_server配置">21.3.3. Nginx Server配置</h4>
<div class="listingblock">
<div class="content">
<pre>server {
    listen 2035 ssl http2;
    server_name git.xxx.com;

    # certs sent to the client in SERVER HELLO are concatenated in ssl_certificate
    ssl_certificate /etc/letsencrypt/live/xxx.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/xxx.com/privkey.pem;
    ssl_session_timeout 1d;
    ssl_session_cache shared:SSL:50m;
    ssl_session_tickets off;

    # Diffie-Hellman parameter for DHE ciphersuites, recommended 2048 bits
    ssl_dhparam /etc/letsencrypt/live/xxx.com/dhparam.pem;

    # intermediate configuration. tweak to your needs.
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers 'ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS';
    ssl_prefer_server_ciphers on;

    # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)
    add_header Strict-Transport-Security max-age=15768000;

    # OCSP Stapling ---
    # fetch OCSP records from URL in ssl_certificate and cache them
    ssl_stapling on;
    ssl_stapling_verify on;

    # 替换URL，解决README.md之类无法加载的问题
    sub_filter 'http://git.xxx.com'  'https://git.xxx.com';
    sub_filter_once off;
    sub_filter_last_modified on;
    # 替换 text/html application/json HTTP响应包中的内容
    sub_filter_types application/json;

    location / {
        auth_basic           "Administrator’s Area";
        auth_basic_user_file /etc/nginx/.htpasswd;

        # 必须设置，否则新建项目后，会302跳转到http的80端口
        proxy_set_header Host git.xxx.com:443;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-Proto https;

        proxy_pass http://127.0.0.1:1034;
    }

    location ~ ^/\.git/? {
        return 404;
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>生效Nginx配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nginx -t &amp;&amp; nginx -s reload</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_最后">21.3.4. 最后</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">外网GitLab访问地址</dt>
<dd>
<p><a href="https://git.xxx.com" class="bare">https://git.xxx.com</a></p>
</dd>
<dt class="hdlist1">SSH克隆地址</dt>
<dd>
<p>ssh://git@git.xxx.com/用户名/项目名称.git</p>
</dd>
<dt class="hdlist1">HTTP克隆地址</dt>
<dd>
<p><a href="https://git.xxx.com/用户名/项目名称.git" class="bare">https://git.xxx.com/用户名/项目名称.git</a></p>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Redis_chapter">22. Redis</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_4">22.1. 安装配置</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y redis
systemctl enable redis

systemctl start redis</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_常用命令_4">22.2. 常用命令</h3>
<div class="sect3">
<h4 id="_键key">22.2.1. 键（key）</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">set name geek

get name

del name

exists name

# 为给定 key 设置过期时间，以秒计
expire name

# 查找所有符合给定模式( pattern)的 key
keys rts:*</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_字符串string">22.2.2. 字符串(String)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 同时设置一个或多个 key-value 对

mset key1 value1 [key2 value2]

# 获取所有(一个或多个)给定 key 的值
mget key1 [key2]

# 将 key 中储存的数字值增一
incr key
# 将 key 中储存的数字值减一
decr key

# 将 key 所储存的值加上给定的增量值（increment）
incrby key increment
# key 所储存的值减去给定的减量值（decrement）
decrby key decrement</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_列表list">22.2.3. 列表(List)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 将一个或多个值插入到列表头部
lpush key_list value1 value2
lpush key_list value3

# 获取列表长度
llen key_list


LRANGE runoobkey 0 10

# 移出并获取列表的第一个元素
lpop key_list</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_集合set">22.2.4. 集合(Set)</h4>
<div class="paragraph">
<p>Redis 的 Set 是 String 类型的无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据。</p>
</div>
<div class="paragraph">
<p>Redis 中集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是 O(1)。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># 向集合添加一个或多个成员
sadd key_set  value1

# 获取集合的成员数
scard key

# 返回集合中的所有成员
smembers key</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_有序集合sorted_set">22.2.5. 有序集合(sorted set)</h4>
<div class="paragraph">
<p>Redis 有序集合和集合一样也是string类型元素的集合,且不允许重复的成员。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">ZADD leaderboard:455 100 user:1
ZADD leaderboard:455 75 user:2
ZADD leaderboard:455 101 user:3
ZADD leaderboard:455 15 user:4
ZADD leaderboard:455 275 user:2


ZRANGE leaderboard:455 0 2 REV WITHSCORES

ZREVRANK leaderboard:455 user:2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_哈希表hash">22.2.6. 哈希表（Hash）</h4>
<div class="sect4">
<h5 id="_增加字段或设置字段">增加字段或设置字段</h5>
<div class="paragraph">
<p>向哈希表中增加字段或设置字段值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hset area_info name "四川"</code></pre>
</div>
</div>
<div class="paragraph">
<p>向哈希表中增加多个字段或设置多个字段值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hmset area_info name "四川" level 2</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_获取字段">获取字段</h5>
<div class="paragraph">
<p>获取哈希表中指定键的单个字段和值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hget area_info name</code></pre>
</div>
</div>
<div class="paragraph">
<p>获取所有给定字段的值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hmget area_info name level</code></pre>
</div>
</div>
<div class="paragraph">
<p>获取哈希表中指定键的所有字段和值：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hgetall area_info</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_字段是否存在">字段是否存在</h5>
<div class="paragraph">
<p>查看哈希表的指定字段是否存在：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hexists area_info name</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_删除字段">删除字段</h5>
<div class="paragraph">
<p>删除一个或多个哈希表字段：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">hdel area_info name level</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_删除键">22.2.7. 删除键</h4>
<div class="paragraph">
<p>删除一个或多个键：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">del area_info_a area_info_b</code></pre>
</div>
</div>
<div class="paragraph">
<p>删除模糊匹配的键：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">redis-cli --scan --pattern users:* | xargs redis-cli unlink</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_PHP_chapter">23. PHP</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_centos6使用yum安装php5_3">23.1. CentOS6使用Yum安装PHP5.3</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y mysql mysql-server httpd php-bcmath php-cli php-common php-gd php-imap php-intl php-mbstring php-mysql php-pdo php-pear php-tidy php-xml php-xmlrpc php-fpm</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos6源码安装php5_5">23.2. CentOS6源码安装PHP5.5</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/install
cd ~/install
wget -c http://mirrors.opencas.cn/epel/epel-release-latest-6.noarch.rpm
wget -c http://cn2.php.net/get/php-5.3.29.tar.bz2/from/this/mirror -O php-5.3.29.tar.bz2

yum install -y epel-release

yum install -y gcc zlib-devel freetype-devel gd-devel libmcrypt-devel curl-devel libtool libxml2-devel gdbm-devel libjpeg-devel libpng-devel curl-devel libc-client libtidy pcre-devel openssl-devel net-snmp net-snmp-devel net-snmp-utils net-snmp-libs libevent-devel mhash-devel patch  libtool-ltdl-devel mysql-devel mysql-server

#CentOS7
#yum install -y mariadb mariadb-devel mariadb-libs mariadb-server lbzip2



cd ~/install
tar xf php-5.3.29.tar.bz2
cd php-5.3.29

#Nginx+php-fpm
./configure --prefix=/usr/local/php-5.3.29 --with-libdir=lib64 --with-png-dir --with-jpeg-dir --with-gd --with-freetype-dir --with-mcrypt --with-config-file-path=/etc --disable-debug --enable-sockets --enable-calendar --enable-ftp --enable-gd-native-ttf --with-gdbm --with-gettext --with-iconv --enable-mbstring --with-openssl --with-curl --enable-bcmath --enable-exif --with-pdo-mysql --with-snmp --with-mysqli --enable-zip --with-zlib --with-mhash --enable-xml --with-xmlrpc --with-mysql --enable-fpm --with-fpm-user=nginx --with-fpm-group=nginx

make &amp;&amp; make install

cp php.ini-production /usr/local/php/etc/php.ini

cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf

vim +62 /usr/local/php/etc/php-fpm.conf
                        Unix user of processes
                        &lt;value name="user"&gt;apache&lt;/value&gt;

                        Unix group of processes
                        &lt;value name="group"&gt;apache&lt;/value&gt;

mkdir /var/log/php

ln -s /usr/local/php/etc/php.ini /etc/
ln -s /usr/local/php/etc/php-fpm.conf /etc/
/etc/init.d/php-fpm  start</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos7_源码安装php7_fpm">23.3. CentOS7 源码安装PHP7-FPM</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/install
cd ~/install
wget -c http://php.net/get/php-7.3.7.tar.bz2/from/this/mirror -O php-7.3.7.tar.bz2
wget -c https://libzip.org/download/libzip-1.1.2.tar.gz
wget -c https://www.gnupg.org/ftp/gcrypt/gnutls/v3.5/gnutls-3.5.19.tar.xz
wget -c https://ftp.gnu.org/gnu/nettle/nettle-3.4.tar.gz

tar xf nettle-3.4.tar.gz
cd nettle-3.4/
./configure --prefix=/usr/local/nettle-3.4
make &amp;&amp; make install
cd ..

tar xf gnutls-3.5.19.tar.xz
cd gnutls-3.5.19/
export PKG_CONFIG_PATH=/usr/local/nettle-3.4/lib64/pkgconfig/
./configure --prefix=/usr/local/gnutls-3.5.19
make &amp;&amp; make install
cd ..

tar xf libzip-1.1.2.tar.gz
cd libzip-1.1.2/
export PKG_CONFIG_PATH=/usr/local/libzip-1.1.2/lib/pkgconfig/
./configure --prefix=/usr/local/libzip-1.1.2
make &amp;&amp; make install

yum install -y gcc zlib-devel freetype-devel gd-devel libmcrypt-devel curl-devel libtool libxml2-devel gdbm-devel libjpeg-devel libpng-devel curl-devel libc-client libtidy pcre-devel openssl-devel net-snmp net-snmp-devel net-snmp-utils net-snmp-libs libevent-devel mhash-devel patch mysql-devel libzip-devel systemd-devel

cd ~/install
tar xf php-7.3.7.tar.bz2
cd php-7.3.7

./configure --prefix=/usr/local/php-7.3.7 --with-config-file-path=/usr/local/php-7.3.7/etc --with-config-file-scan-dir=/usr/local/php-7.3.7/etc --with-libdir=lib64 --with-png-dir --with-jpeg-dir --with-gd --with-freetype-dir --with-mcrypt --with-config-file-path=/etc --disable-debug --enable-sockets --enable-calendar --enable-ftp --enable-gd-native-ttf --with-gdbm --with-gettext --with-iconv --enable-mbstring --with-openssl --with-curl --enable-bcmath --enable-exif --with-pdo-mysql --with-snmp --with-mysqli --enable-zip --with-zlib --with-mhash --enable-xml --with-xmlrpc --enable-fpm --with-fpm-user=nginx --with-fpm-group=nginx --with-fpm-systemd

make &amp;&amp; make install


ln -s  /usr/local/php-7.3.7/  /usr/local/php

cp php.ini-production /usr/local/php/etc/php.ini

cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf


cat &lt;&lt; 'EOF' &gt; /etc/systemd/system/php7-fpm.service
[Unit]
Description=The PHP FastCGI Process Manager
After=network.target

[Service]
Type=notify
PIDFile=/usr/local/php/var/run/php-fpm.pid
ExecStart=/usr/local/php/sbin/php-fpm --nodaemonize --fpm-config /usr/local/php/etc/php-fpm.conf
ExecReload=/bin/kill -USR2 $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target
EOF

cp /usr/local/php-7.3.7/etc/php-fpm.d/www.conf.default /usr/local/php-7.3.7/etc/php-fpm.d/www.conf

systemctl enable php7-fpm
systemctl start php7-fpm
systemctl status php7-fpm</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_php5_3使用pecl安装扩展">23.4. PHP5.3使用Pecl安装扩展</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">配置PECL：

mkdir -p /usr/local/php-5.3.29/modules \
        /usr/local/php-5.3.29/share/doc/pear \
        /usr/local/php-5.3.29/share/pear \
        /usr/local/php-5.3.29/etc/pear \
        /usr/local/php-5.3.29/share/pear-data \
        /usr/local/php-5.3.29/share/tests/pear \
        /usr/local/php-5.3.29/etc/pearkeys

/usr/local/php-5.3.29/bin/pecl config-set bin_dir /usr/local/php-5.3.29/bin
/usr/local/php-5.3.29/bin/pecl config-set ext_dir /usr/local/php-5.3.29/modules
/usr/local/php-5.3.29/bin/pecl config-set doc_dir /usr/local/php-5.3.29/share/doc/pear
/usr/local/php-5.3.29/bin/pecl config-set php_dir /usr/local/php-5.3.29/share/pear
/usr/local/php-5.3.29/bin/pecl config-set cfg_dir /usr/local/php-5.3.29/etc/pear
/usr/local/php-5.3.29/bin/pecl config-set data_dir /usr/local/php-5.3.29/share/pear-data/
/usr/local/php-5.3.29/bin/pecl config-set php_bin /usr/local/php-5.3.29/bin/php
/usr/local/php-5.3.29/bin/pecl config-set test_dir /usr/local/php-5.3.29/share/tests/pear/
/usr/local/php-5.3.29/bin/pecl config-set sig_keydir /usr/local/php-5.3.29/etc/pearkeys
/usr/local/php-5.3.29/bin/pecl config-set Filename /usr/local/php-5.3.29/etc/pear.conf
/usr/local/php-5.3.29/bin/pecl config-set php_ini /usr/local/php-5.3.29/etc/php.ini

# 查看所有PECL配置

# /usr/local/php-5.3.29/bin/pecl config-show

Configuration (channel pecl.php.net):
=====================================
Auto-discover new Channels     auto_discover    &lt;not set&gt;
Default Channel                default_channel  pecl.php.net
HTTP Proxy Server Address      http_proxy       &lt;not set&gt;
PEAR server [DEPRECATED]       master_server    pear.php.net
Default Channel Mirror         preferred_mirror pecl.php.net
Remote Configuration File      remote_config    &lt;not set&gt;
PEAR executables directory     bin_dir          /usr/local/php-5.3.29/bin
PEAR documentation directory   doc_dir          /usr/local/php-5.3.29/share/doc/pear
PHP extension directory        ext_dir          /usr/local/php-5.3.29/modules
PEAR directory                 php_dir          /usr/local/php-5.3.29/share/pear
PEAR Installer cache directory cache_dir        /tmp/pear/cache
PEAR configuration file        cfg_dir          /usr/local/php-5.3.29/etc/pear
directory
PEAR data directory            data_dir         /usr/local/php-5.3.29/share/pear-data/
PEAR Installer download        download_dir     /tmp/pear/download
directory
PHP CLI/CGI binary             php_bin          /usr/local/php-5.3.29/bin/php
php.ini location               php_ini          /usr/local/php-5.3.29/etc/php.ini
--program-prefix passed to     php_prefix       &lt;not set&gt;
PHP's ./configure
--program-suffix passed to     php_suffix       &lt;not set&gt;
PHP's ./configure
PEAR Installer temp directory  temp_dir         /tmp/pear/temp
PEAR test directory            test_dir         /usr/local/php-5.3.29/share/tests/pear/
PEAR www files directory       www_dir          /usr/local/php-5.3.29/lib/php/htdocs
Cache TimeToLive               cache_ttl        3600
Preferred Package State        preferred_state  stable
Unix file mask                 umask            22
Debug Log Level                verbose          1
PEAR password (for             password         &lt;not set&gt;
maintainers)
Signature Handling Program     sig_bin          /usr/bin/gpg
Signature Key Directory        sig_keydir       /usr/local/php-5.3.29/etc/pearkeys
Signature Key Id               sig_keyid        &lt;not set&gt;
Package Signature Type         sig_type         gpg
PEAR username (for             username         &lt;not set&gt;
maintainers)
User Configuration File        Filename         ~/.pearrc
System Configuration File      Filename         /usr/local/php-5.3.29/etc/pear.conf





如果不使用pecl config-set配置bin_dir，会提示找不到phpise命令。

/usr/local/php-5.3.29/bin/pecl install ZendOpcache

echo 'zend_extension=/usr/local/php-5.3.29/lib/php/extensions/no-debug-non-zts-20090626/opcache.so' &gt;&gt; /usr/local/php-5.3.29/etc/php.ini

# 提示输入libmemcached目录时，输入 “/usr”
# memcached-2.2.0 表示老版本，不带版本号表示最新版。最新版需要php7,php5.3只能用2.2.0
yum install -y libmemcached-devel &amp;&amp; /usr/local/php-5.3.29/bin/pecl install memcached-2.2.0
echo 'extension=/usr/local/php-5.3.29/lib/php/extensions/no-debug-non-zts-20090626/memcached.so' &gt;&gt; /usr/local/php-5.3.29/etc/php.ini</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_php5_3_安装_zendguardloader">23.5. PHP5.3 安装 ZendGuardLoader</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget -c http://downloads.zend.com/guard/5.5.0/ZendGuardLoader-php-5.3-linux-glibc23-x86_64.tar.gz
tar xf ZendGuardLoader-php-5.3-linux-glibc23-x86_64.tar.gz
cd ZendGuardLoader-php-5.3-linux-glibc23-x86_64
mv ZendGuardLoader-php-5.3-linux-glibc23-x86_64/php-5.3.x/ZendGuardLoader.so /usr/local/php-5.3.29/lib/php/extensions/no-debug-non-zts-20090626

echo 'zend_extension=/usr/local/php-5.3.29/lib/php/extensions/no-debug-non-zts-20090626/ZendGuardLoader.so'  &gt;&gt; /usr/local/php-5.3.29/etc/php.ini</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ubuntu18_04源码安装php7_fpm">23.6. Ubuntu18.04源码安装PHP7-FPM</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sudo apt-get install aptitude
sudo aptitude install gcc zlib1g-dev libfreetype6-dev libgd-dev libmcrypt-dev libcurl4-openssl-dev libtool libxml2-dev libgdbm-dev libjpeg-dev libpng-dev libc-client2007e libtidy5 libpcre3-dev libssl-dev libevent-dev libmhash-dev patch libltdl-dev libmysqlclient-dev libmysqld-dev mysql-server apache2-dev libsystemd-dev libsnmp-dev libzip-dev


./configure --prefix=/usr/local/php-7.3.7 --with-config-file-path=/usr/local/php-7.3.7/etc --with-config-file-scan-dir=/usr/local/php-7.3.7/etc --with-libdir=lib64 --with-png-dir --with-jpeg-dir --with-gd --with-freetype-dir --with-config-file-path=/etc --disable-debug --enable-sockets --enable-calendar --enable-ftp --with-gdbm --with-gettext --with-iconv --enable-mbstring --with-openssl --with-curl --enable-bcmath --enable-exif --with-pdo-mysql --with-snmp --with-mysqli --enable-zip --with-zlib --with-mhash --enable-xml --with-xmlrpc --enable-fpm --with-fpm-systemd --with-fpm-user=www-data --with-fpm-group=www-data

ake &amp;&amp; make install


ln -s  /usr/local/php-7.3.7/  /usr/local/php

cp php.ini-production /usr/local/php/etc/php.ini

cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf


cat &lt;&lt; 'EOF' &gt; /etc/systemd/system/php7-fpm.service
[Unit]
Description=The PHP FastCGI Process Manager
After=network.target

[Service]
Type=notify
PIDFile=/usr/local/php/var/run/php-fpm.pid
ExecStart=/usr/local/php/sbin/php-fpm --nodaemonize --fpm-config /usr/local/php/etc/php-fpm.conf
ExecReload=/bin/kill -USR2 $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target
EOF

cp /usr/local/php-7.3.7/etc/php-fpm.d/www.conf.default /usr/local/php-7.3.7/etc/php-fpm.d/www.conf

systemctl enable php7-fpm
systemctl start php7-fpm
systemctl status php7-fpm</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Python_chapter">24. Python</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_centos6_install_python310">24.1. CentOS6 Install Python310</h3>
<div class="sect3">
<h4 id="_编译安装">24.1.1. 编译安装</h4>
<div class="sect4">
<h5 id="_环境准备">环境准备</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads
yum install xz
yum install -y gcc gcc-c++ make libffi-devel bzip2-devel readline-devel ncurses-devel gdbm-devel tkinter tcl-devel tcl libuuid-devel zlib-devel zlib xz-devel xz tk-devel tk</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装依赖openssl">安装依赖——OpenSSL</h5>
<div class="paragraph">
<p>CentOS6 YUM源中的OpenSSL版本太老，需要单独安装较新版本。</p>
</div>
<div class="paragraph">
<p>否则，编译Python3时会出现错误：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="cnosole" class="language-cnosole hljs">Could not build the ssl module!
Python requires an OpenSSL 1.0.2 or 1.1 compatible libssl with X509_VERIFY_PARAM_set1_host().
LibreSSL 2.6.4 and earlier do not provide the necessary APIs, https://github.com/libressl-portable/portable/issues/381</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd  ~/downloads
wget https://www.openssl.org/source/old/1.1.1/openssl-1.1.1n.tar.gz -O openssl-1.1.1n.tar.gz
tar xf openssl-1.1.1n.tar.gz
cd openssl-1.1.1n
./config --prefix=/usr/local/openssl-1.1.1n -fPIC
make
make install

echo '/usr/local/openssl-1.1.1n/lib' &gt;&gt; /etc/ld.so.conf
ldconfig
ldconfig -p|grep openssl-1.1.1n</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装依赖sqlite">安装依赖——SQLite</h5>
<div class="paragraph">
<p>同样的，YUM源中的SQLite太老~</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd  ~/downloads
wget https://www.sqlite.org/2020/sqlite-autoconf-3330000.tar.gz -O sqlite-autoconf-3330000.tar.gz
tar xf sqlite-autoconf-3330000.tar.gz
cd sqlite-autoconf-3330000
./configure --prefix=/usr/local/sqlite-3.33
make
make install

echo '/usr/local/sqlite-3.33/lib' &gt;&gt; /etc/ld.so.conf
ldconfig
ldconfig -p|grep libsqlite3.so</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装python">安装Python</h5>
<div class="listingblock">
<div class="title">下载解压</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd  ~/downloads
wget https://www.python.org/ftp/python/3.10.5/Python-3.10.5.tar.xz -O Python-3.10.5.tar.xz
tar xf Python-3.10.5.tar.xz
cd Python-3.10.5

# diff -uN from-file to-file &gt;to-file.patch
cat &lt;&lt; EOF &gt; fix_sqlite_include_path.patch
--- setup.py	2022-07-02 18:03:53.701496705 +0800
+++ setup.py	2022-07-02 18:04:37.227978715 +0800
@@ -1549,6 +1549,7 @@
                              '/usr/local/include',
                              '/usr/local/include/sqlite',
                              '/usr/local/include/sqlite3',
+                             '/usr/local/sqlite-3.33/include',
                              ]
         if CROSS_COMPILING:
             sqlite_inc_paths = []
EOF

patch -p0 &lt; fix_sqlite_include_path.patch</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">编译Python</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">CFLAGS='-I/usr/local/sqlite-3.33/include' \
    LDFLAGS='-L/usr/local/sqlite-3.33/lib' \
    ./configure --prefix=/usr/local/python-3.10.5 \
    --enable-optimizations \
    --with-openssl=/usr/local/openssl-1.1.1n \
    --with-ssl-default-suites=openssl \
    --with-ensurepip \
    --enable-loadable-sqlite-extensions
make
make install

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_fqa">FQA</h5>

</div>
</div>
<div class="sect3">
<h4 id="_二进制压缩包安装">24.1.2. 二进制压缩包安装</h4>
<div class="sect4">
<h5 id="_安装openssl">安装OpenSSL</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://dl.cdgeekcamp.com/centos/6/openssl/1.1.1n/openssl-1.1.1n-1.el6.x86_64.tar.gz -O openssl-1.1.1n-1.el6.x86_64.tar.gz
tar xf openssl-1.1.1n-1.el6.x86_64.tar.gz
rm -rf /usr/local/openssl-1.1.1n
mv openssl-1.1.1n/ /usr/local/openssl-1.1.1n

echo '/usr/local/openssl-1.1.1n/lib' &gt;&gt; /etc/ld.so.conf
ldconfig
ldconfig -p|grep openssl-1.1.1n</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装sqlite">安装SQLite</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://dl.cdgeekcamp.com/centos/6/sqlite/3.33/sqlite-3.33-1.el6.x86_64.tar.gz -O sqlite-3.33-1.el6.x86_64.tar.gz
tar xf sqlite-3.33-1.el6.x86_64.tar.gz
rm -rf /usr/local/sqlite-3.33
mv sqlite-3.33/ /usr/local/sqlite-3.33

echo '/usr/local/sqlite-3.33/lib' &gt;&gt; /etc/ld.so.conf
ldconfig
ldconfig -p|grep libsqlite3.so</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装python3">安装Python3</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://dl.cdgeekcamp.com/centos/6/python/3/python-3.10.5-1.el6.x86_64.tar.gz -O python-3.10.5-1.el6.x86_64.tar.gz
tar xf python-3.10.5-1.el6.x86_64.tar.gz
rm -rf /usr/local/python-3.10.5
mv python-3.10.5 /usr/local/python-3.10.5

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置环境变量">24.1.3. 设置环境变量</h4>
<div class="paragraph">
<p>通过 <code>pip310</code> 安装的命令包（比如，rain-shell-scripter），命令被安装在 <code>/usr/local/python3/bin</code> 目录下。</p>
</div>
<div class="paragraph">
<p>为方便，增加环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'export PATH=$PATH:/usr/local/python3/bin' &gt;&gt; ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>生效环境变量配置，可以退出终端，重新登录即可。</p>
</div>
<div class="paragraph">
<p>或者，在当前终端执行：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">source ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>确认环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo $PATH|sed 's/:/\n/g'|sort -u|grep python</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos7_install_python310">24.2. CentOS7 Install Python310</h3>
<div class="sect3">
<h4 id="_编译安装_2">24.2.1. 编译安装</h4>
<div class="sect4">
<h5 id="_环境准备_2">环境准备</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads
yum install -y gcc gcc-c++ make libffi-devel bzip2-devel readline-devel ncurses-devel gdbm-devel tkinter tcl-devel tcl libuuid-devel zlib-devel zlib xz-devel xz tk-devel tk openssl-devel sqlite-devel</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装依赖openssl_2">安装依赖——OpenSSL</h5>
<div class="paragraph">
<p>CentOS YUM源中的OpenSSL版本太老，需要单独安装较新版本。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd  ~/downloads
wget https://www.openssl.org/source/old/1.1.1/openssl-1.1.1n.tar.gz -O openssl-1.1.1n.tar.gz
tar xf openssl-1.1.1n.tar.gz
cd openssl-1.1.1n
./config --prefix=/usr/local/openssl-1.1.1n -fPIC
make
make install

echo '/usr/local/openssl-1.1.1n/lib' &gt;&gt; /etc/ld.so.conf
ldconfig
ldconfig -p|grep openssl-1.1.1n</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装python_2">安装Python</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd  ~/downloads
wget https://www.python.org/ftp/python/3.10.5/Python-3.10.5.tar.xz -O Python-3.10.5.tar.xz
tar xf Python-3.10.5.tar.xz
cd Python-3.10.5

./configure --prefix=/usr/local/python-3.10.5 \
    --enable-optimizations \
    --with-openssl=/usr/local/openssl-1.1.1n \
    --with-ssl-default-suites=openssl \
    --with-ensurepip \
    --enable-loadable-sqlite-extensions
make
make install

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_二进制压缩包安装_2">24.2.2. 二进制压缩包安装</h4>
<div class="sect4">
<h5 id="_安装openssl_2">安装OpenSSL</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://dl.cdgeekcamp.com/centos/7/openssl/1.1.1n/openssl-1.1.1n-1.el7.x86_64.tar.gz -O openssl-1.1.1n-1.el7.x86_64.tar.gz
tar xf openssl-1.1.1n-1.el7.x86_64.tar.gz
rm -rf /usr/local/openssl-1.1.1n
mv openssl-1.1.1n/ /usr/local/openssl-1.1.1n

echo '/usr/local/openssl-1.1.1n/lib' &gt;&gt; /etc/ld.so.conf
ldconfig
ldconfig -p|grep openssl-1.1.1n</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装python3_2">安装Python3</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://dl.cdgeekcamp.com/centos/7/python/3/python-3.10.5-1.el7.x86_64.tar.gz -O python-3.10.5-1.el7.x86_64.tar.gz

tar xf python-3.10.5-1.el7.x86_64.tar.gz

rm -rf /usr/local/python-3.10.5
mv python-3.10.5 /usr/local/python-3.10.5

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置环境变量_2">24.2.3. 设置环境变量</h4>
<div class="paragraph">
<p>通过 <code>pip310</code> 安装的命令包（比如，rain-shell-scripter），命令被安装在 <code>/usr/local/python3/bin</code> 目录下。</p>
</div>
<div class="paragraph">
<p>为方便，增加环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'export PATH=$PATH:/usr/local/python3/bin' &gt;&gt; ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>生效环境变量配置，可以退出终端，重新登录即可。</p>
</div>
<div class="paragraph">
<p>或者，在当前终端执行：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">source ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>确认环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo $PATH|sed 's/:/\n/g'|sort -u|grep python</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos8_install_python39">24.3. CentOS8 Install Python39</h3>
<div class="sect3">
<h4 id="_dnf安装">24.3.1. dnf安装</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y python39 python39-pip</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_centos9_install_python310">24.4. CentOS9 Install Python310</h3>
<div class="sect3">
<h4 id="_编译安装_3">24.4.1. 编译安装</h4>
<div class="sect4">
<h5 id="_环境准备_3">环境准备</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads
dnf install -y gcc gcc-c++ make libffi-devel bzip2-devel readline-devel ncurses-devel tcl-devel tcl libuuid-devel zlib-devel zlib xz-devel xz tk-devel tk openssl-devel sqlite-devel</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装python_3">安装Python</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd  ~/downloads
wget https://www.python.org/ftp/python/3.10.5/Python-3.10.5.tar.xz -O Python-3.10.5.tar.xz
tar xf Python-3.10.5.tar.xz
cd Python-3.10.5

./configure --prefix=/usr/local/python-3.10.5 \
    --enable-optimizations \
    --with-ensurepip \
    --enable-loadable-sqlite-extensions
make
make install

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_二进制压缩包安装_3">24.4.2. 二进制压缩包安装</h4>
<div class="sect4">
<h5 id="_安装python3_3">安装Python3</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://dl.cdgeekcamp.com/centos/9/python/3/python-3.10.5-1.el9.x86_64.tar.gz -O python-3.10.5-1.el9.x86_64.tar.gz

tar xf python-3.10.5-1.el9.x86_64.tar.gz

rm -rf /usr/local/python-3.10.5
mv python-3.10.5 /usr/local/python-3.10.5

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置环境变量_3">24.4.3. 设置环境变量</h4>
<div class="paragraph">
<p>通过 <code>pip310</code> 安装的命令包（比如，rain-shell-scripter），命令被安装在 <code>/usr/local/python3/bin</code> 目录下。</p>
</div>
<div class="paragraph">
<p>为方便，增加环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'export PATH=$PATH:/usr/local/python3/bin' &gt;&gt; ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>生效环境变量配置，可以退出终端，重新登录即可。</p>
</div>
<div class="paragraph">
<p>或者，在当前终端执行：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">source ~/.bashrc</code></pre>
</div>
</div>
<div class="paragraph">
<p>确认环境变量：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo $PATH|sed 's/:/\n/g'|sort -u|grep python</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ubuntu_install_python310">24.5. Ubuntu Install Python310</h3>
<div class="sect3">
<h4 id="_编译安装_4">24.5.1. 编译安装</h4>
<div class="sect4">
<h5 id="_环境准备_4">环境准备</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads

apt install gcc make libssl-dev libffi-dev zlib1g zlib1g-dev</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装python_4">安装Python</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd  ~/downloads
wget https://www.python.org/ftp/python/3.10.5/Python-3.10.5.tar.xz -O Python-3.10.5.tar.xz
tar xf Python-3.10.5.tar.xz
cd Python-3.10.5

./configure --prefix=/usr/local/python-3.10.5 \
    --enable-optimizations \
    --with-openssl=/usr \
    --with-ssl-default-suites=openssl \
    --with-ensurepip \
    --enable-loadable-sqlite-extensions
make
make install

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_二进制压缩包安装_4">24.5.2. 二进制压缩包安装</h4>
<div class="paragraph">
<p><strong>Ubuntu 18.04</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://dl.cdgeekcamp.com/ubuntu/18.04/python-3.10.5-1~ubuntu18.04_amd64.tar.gz -O python-3.10.5-1~ubuntu18.04_amd64.tar.gz

tar xf python-3.10.5-1~ubuntu18.04_amd64.tar.gz

rm -rf /usr/local/python-3.10.5
mv python-3.10.5 /usr/local/python-3.10.5

ln -s /usr/local/python-3.10.5 /usr/local/python3
ln -s /usr/local/python3/bin/pip3 /usr/local/bin/pip310
ln -s /usr/local/python3/bin/python3 /usr/local/bin/python310

pip310 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pip
pip310 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_设置pip国内镜像">24.6. 设置PIP国内镜像</h3>
<div class="sect3">
<h4 id="_临时使用">24.6.1. 临时使用</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple 包名称</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>simple 不能少, 是 https 而不是 http</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_设为默认">24.6.2. 设为默认</h4>
<div class="listingblock">
<div class="title">先升级PIP</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pip -U</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>手动升级 <code>CentOS</code> 系统 <code>yum</code> 安装的 <code>pip3</code> 时，需要指定安装路径到 <code>/usr</code> ，否则 <code>pip3</code> 会被安装到 <code>/usr/local/bin/pip3</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip install --prefix /usr -i https://pypi.tuna.tsinghua.edu.cn/simple pip -U</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">设置默认镜像</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_上传_pypi">24.7. 上传 <code>PyPI</code></h3>
<div class="paragraph">
<p>官方文档：</p>
</div>
<div class="paragraph">
<p><a href="https://packaging.python.org/tutorials/packaging-projects/" class="bare">https://packaging.python.org/tutorials/packaging-projects/</a></p>
</div>
<div class="paragraph">
<p><a href="https://docs.python.org/3.3/distutils/packageindex.html#pypirc" class="bare">https://docs.python.org/3.3/distutils/packageindex.html#pypirc</a></p>
</div>
<div class="sect3">
<h4 id="_配置文件_2">24.7.1. 配置文件</h4>
<div class="listingblock">
<div class="title">~/.pypirc</div>
<div class="content">
<pre>[distutils]
index-servers=
    pypi
    testpypi

[pypi]
username: &lt;用户名&gt;
password: &lt;密码&gt;

[testpypi]
repository: https://test.pypi.org/legacy/
username: &lt;用户名&gt;
password: &lt;密码&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_打包_2">24.7.2. 打包</h4>
<div class="listingblock">
<div class="title">安装打包工具</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">python3 -m pip install -U setuptools wheel</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">打包</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">python3 setup.py bdist_wheel</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">打包后的文件</div>
<div class="content">
<pre>dist/
  example_pkg_YOUR_USERNAME_HERE-0.0.1-py3-none-any.whl
  example_pkg_YOUR_USERNAME_HERE-0.0.1.tar.gz</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_测试上传">24.7.3. 测试上传</h4>
<div class="listingblock">
<div class="title">安装上传工具</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">python3 -m pip install -U twine</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">测试上传</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">twine upload --repository-url https://test.pypi.org/legacy/ dist/*</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">twine upload --config-file ~/.pypirc -r testpypi dist/*</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">测试安装</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">python3 -m pip install -i https://test.pypi.org/simple/ --no-deps example-pkg-YOUR-USERNAME-HERE</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">在 <code>Python</code> 解释器中测试导入包</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">import example_pkg</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_上传">24.7.4. 上传</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">twine upload dist/*</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果使用国内镜像源，需要等一两天国内服务器才会同步官方源。</p>
</div>
<div class="paragraph">
<p>可以临时指定官方源安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">python3 -m pip install -i https://pypi.org/simple/ example-pkg</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pycharm">24.8. Pycharm</h3>
<div class="sect3">
<h4 id="_disable_and_suppress_inspections">24.8.1. Disable and suppress inspections</h4>
<div class="paragraph">
<p>官方文档：</p>
</div>
<div class="paragraph">
<p><a href="https://www.jetbrains.com/help/pycharm/disabling-and-enabling-inspections.html" class="bare">https://www.jetbrains.com/help/pycharm/disabling-and-enabling-inspections.html</a></p>
</div>
<div class="literalblock">
<div class="title">Suppressing comments</div>
<div class="content">
<pre># noinspection PyAbstractClass
# noinspection PyArgumentEqualDefault
# noinspection PyArgumentList
# noinspection PyAssignmentToLoopOrWithParameter
# noinspection PyAsyncCall
# noinspection PyAttributeOutsideInit
# noinspection PyAugmentAssignment
# noinspection PyBroadException
# noinspection PyByteLiteral
# noinspection PyCallByClass
# noinspection PyChainedComparsons
# noinspection PyClassHasNoInit
# noinspection PyClassicStyleClass
# noinspection PyComparisonWithNone
# noinspection PyCompatibility
# noinspection PyDecorator
# noinspection PyDefaultArgument
# noinspection PyDictCreation
# noinspection PyDictDuplicateKeys
# noinspection PyDocstringTypes
# noinspection PyExceptClausesOrder
# noinspection PyExceptionInheritance
# noinspection PyFromFutureImport
# noinspection PyGlobalUndefined
# noinspection PyIncorrectDocstring
# noinspection PyInitNewSignature
# noinspection PyInterpreter
# noinspection PyListCreation
# noinspection PyMandatoryEncoding
# noinspection PyMethodFirstArgAssignment
# noinspection PyMethodMayBeStatic
# noinspection PyMethodOverriding
# noinspection PyMethodParameters
# noinspection PyMissingConstructor
# noinspection PyMissingOrEmptyDocstring
# noinspection PyNestedDecorators
# noinspection PynonAsciiChar
# noinspection PyNoneFunctionAssignment
# noinspection PyOldStyleClasses
# noinspection PyPackageRequirements
# noinspection PyPep8
# noinspection PyPep8Naming
# noinspection PyPropertyAccess
# noinspection PyPropertyDefinition
# noinspection PyProtectedMember
# noinspection PyRaisingNewStyleClass
# noinspection PyRedeclaration
# noinspection PyRedundantParentheses
# noinspection PySetFunctionToLiteral
# noinspection PySimplifyBooleanCheck
# noinspection PySingleQuotedDocstring
# noinspection PyStatementEffect
# noinspection PyStringException
# noinspection PyStringFormat
# noinspection PySuperArguments
# noinspection PyTestParametrized
# noinspection PyTrailingSemicolon
# noinspection PyTupleAssignmentBalance
# noinspection PyTupleItemAssignment
# noinspection PyTypeChecker
# noinspection PyUnboundLocalVariable
# noinspection PyUnnecessaryBackslash
# noinspection PyUnreachableCode
# noinspection PyUnresolvedReferences
# noinspection PyUnusedLocal
# noinspection ReturnValueFromInit</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Axel_chapter">25. Axel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有时候，yum/dnf/wget下载国外软件。一开始速度很快，之后速度降了下去。这个时候用多线程下载可以加速下载。</p>
</div>
<div class="sect2">
<h3 id="_安装_4">25.1. 安装</h3>
<div class="sect3">
<h4 id="_arch_linux">25.1.1. Arch Linux</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sudo pacman -S axel</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_centos8">25.1.2. CentOS8</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget https://github.com/axel-download-accelerator/axel/releases/download/v2.17.8/axel-2.17.8.tar.gz -O axel-2.17.8.tar.gz
tar xf axel-2.17.8.tar.gz
cd axel-2.17.8

dnf install -y make gcc openssl-devel autoconf

./configure --prefix=/usr/local/axel-2.17.8
make &amp;&amp; make install

ln -s /usr/local/axel-2.17.8/bin/axel /usr/local/bin/axel</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_使用">25.2. 使用</h3>
<div class="listingblock">
<div class="title">下载GtiLab</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">axel -n 4 https://packages.gitlab.com/gitlab/gitlab-ce/el/8/x86_64/gitlab-ce-12.10.2-ce.0.el8.x86_64.rpm</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_chapter">26. Let’s Encrypt</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let’s Encrypt 由Google、Apple等大公司支持的免费 HTTPS 证书。所有主流浏览器都支持LE证书。</p>
</div>
<div class="paragraph">
<p>LE证书的可以通过网站验证或DNS验证方式申请，有效期为三个月。三个月后，可以通过系统计划任务自动续签。</p>
</div>
<div class="sect2">
<h3 id="_安装certbot">26.1. 安装certbot</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip3 install certbot

python_bin_dir=$(pip3 show certbot | grep 'Location:' | cut -d ' ' -f 2)/../../../bin
python_bin_dir=$(realpath ${python_bin_dir})
ln -s ${python_bin_dir}/certbot /usr/local/bin/certbot</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_签发https证书之dns签发通配符域名证书">26.2. 签发HTTPS证书之DNS签发通配符域名证书</h3>
<div class="sect3">
<h4 id="_签发通配符域名https证书一">26.2.1. 签发通配符域名HTTPS证书（一）</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">certbot certonly  -d *.xxx.com --manual --preferred-challenges dns --server https://acme-v02.api.letsencrypt.org/directory</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">操作过程</div>
<div class="content">
<pre>    Saving debug log to /var/log/letsencrypt/letsencrypt.log
    Plugins selected: Authenticator manual, Installer None
    Enter email address (used for urgent renewal and security notices) (Enter 'c' to
    cancel): webmaster@xxx.com

    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    Please read the Terms of Service at
    https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must
    agree in order to register with the ACME server at
    https://acme-v02.api.letsencrypt.org/directory
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    (A)gree/(C)ancel: A

    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    Would you be willing to share your email address with the Electronic Frontier
    Foundation, a founding partner of the Let's Encrypt project and the non-profit
    organization that develops Certbot? We'd like to send you email about our work
    encrypting the web, EFF news, campaigns, and ways to support digital freedom.
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    (Y)es/(N)o: Y
    Obtaining a new certificate
    Performing the following challenges:
    dns-01 challenge for xxx.com

    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    NOTE: The IP of this machine will be publicly logged as having requested this
    certificate. If you're running certbot in manual mode on a machine that is not
    your server, please ensure you're okay with that.

    Are you OK with your IP being logged?
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    (Y)es/(N)o: Y

    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    Please deploy a DNS TXT record under the name
    _acme-challenge.xxx.com with the following value:

    1EfqEsqE3pbZqiJmxpHvEkM0XdUhvqW5w4lWb46zMjM

    Before continuing, verify the record is deployed.
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    Press Enter to Continue</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置域名解析">26.2.2. 设置域名解析</h4>
<div class="paragraph">
<p>登录域名管理面板，新增 <code>TXT</code> 类型的域名解析记录，主机记录名称： <code>_acme-challenge</code></p>
</div>
<div class="paragraph">
<p>如下图所示：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/add_dns_setting.png" alt="add dns setting">
</div>
</div>
<div class="paragraph">
<p>效果如下：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dns_settings.png" alt="dns settings">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_检查域名解析">26.2.3. 检查域名解析</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dig _acme-challenge.xxx.com TXT</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">终端输出</div>
<div class="content">
<pre>; &lt;&lt;&gt;&gt; DiG 9.16.2 &lt;&lt;&gt;&gt; _acme-challenge.xxx.com TXT
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 64914
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;_acme-challenge.xxx.com.	IN	TXT

;; ANSWER SECTION:
_acme-challenge.xxx.com. 596 IN	TXT	"1EfqEsqE3pbZqiJmxpHvEkM0XdUhvqW5w4lWb46zMjM"

;; Query time: 10 msec
;; SERVER: 223.5.5.5#53(223.5.5.5)
;; WHEN: 六 5月 02 14:59:39 CST 2020
;; MSG SIZE  rcvd: 103</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_签发通配符域名https证书二">26.2.4. 签发通配符域名HTTPS证书（二）</h4>
<div class="paragraph">
<p>域名解析完成后，在 <code>Press Enter to Continue</code> 处按 <kbd>Enter</kbd> 继续操作&#8230;&#8203;&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">继续操作过程</div>
<div class="content">
<pre>    Before continuing, verify the record is deployed.
    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
    Press Enter to Continue
    Waiting for verification...
    Cleaning up challenges

    IMPORTANT NOTES:
    - Congratulations! Your certificate and chain have been saved at:
    /etc/letsencrypt/live/xxx.com/fullchain.pem
    Your key file has been saved at:
    /etc/letsencrypt/live/xxx.com/privkey.pem
    Your cert will expire on 2020-07-31. To obtain a new or tweaked
    version of this certificate in the future, simply run certbot
    again. To non-interactively renew *all* of your certificates, run
    "certbot renew"
    - If you like Certbot, please consider supporting our work by:

    Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
    Donating to EFF:                    https://eff.org/donate-le</pre>
</div>
</div>
<div class="sect4">
<h5 id="_生成交换密钥">生成交换密钥</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">openssl dhparam -out /etc/letsencrypt/live/xxx.com/dhparam.pem 2048</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_签发https证书之标准方式签发单域名证书">26.3. 签发HTTPS证书之标准方式签发单域名证书</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
标准方式签发HTTPS证书，必须保证 <a href="http://www.xxx.com" class="bare">http://www.xxx.com</a> 能够访问
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_添加nginx站点">26.3.1. 添加Nginx站点</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/nginx/conf.d/www.xxx.com.conf
server {
    listen 80;
    server_name www.xxx.com;
    root /data/web/www.xxx.com;

    location / {
        return 301 https://www.xxx.com;
    }

    location ^~ /.well-known/acme-challenge/ {
       default_type "text/plain";
    }

    location = /.well-known/acme-challenge/ {
       return 404;
    }
}
EOF

nginx -s reload</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_签发单域名https证书">26.3.2. 签发单域名HTTPS证书</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">certbot certonly --email webmaster@xxx.com -w /date/web/www.xxx.com -d www.xxx.com</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">参数解释</dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1">/data/web/www.xxx.com</dt>
<dd>
<p><em>www.xxx.com.conf</em> 中的 <code>root</code></p>
</dd>
<dt class="hdlist1">www.xxx.com</dt>
<dd>
<p><em>www.xxx.com.conf</em> 的 <code>server_name</code></p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">操作过程</div>
<div class="content">
<pre>Saving debug log to /var/log/letsencrypt/letsencrypt.log

How would you like to authenticate with the ACME CA?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: Runs an HTTP server locally which serves the necessary validation files under
the /.well-known/acme-challenge/ request path. Suitable if there is no HTTP
server already running. HTTP challenge only (wildcards not supported).
(standalone)
2: Saves the necessary validation files to a .well-known/acme-challenge/
directory within the nominated webroot path. A seperate HTTP server must be
running and serving files from the webroot path. HTTP challenge only (wildcards
not supported). (webroot)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Please read the Terms of Service at
https://letsencrypt.org/documents/LE-SA-v1.3-September-21-2022.pdf. You must
agree in order to register with the ACME server. Do you agree?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o: Y

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Would you be willing, once your first certificate is successfully issued, to
share your email address with the Electronic Frontier Foundation, a founding
partner of the Let's Encrypt project and the non-profit organization that
develops Certbot? We'd like to send you email about our work encrypting the web,
EFF news, campaigns, and ways to support digital freedom.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
(Y)es/(N)o: Y
Account registered.
Requesting a certificate for www.xxx.com

Successfully received certificate.
Certificate is saved at: /etc/letsencrypt/live/www.xxx.com/fullchain.pem
Key is saved at:         /etc/letsencrypt/live/www.xxx.com/privkey.pem
This certificate expires on 2023-05-17.
These files will be updated when the certificate renews.

NEXT STEPS:
- The certificate will need to be renewed before it expires. Certbot can automatically renew the certificate in the background, but you may need to take steps to enable that functionality. See https://certbot.org/renewal-setup for instructions.

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
If you like Certbot, please consider supporting our work by:
 * Donating to ISRG / Let's Encrypt:   https://letsencrypt.org/donate
 * Donating to EFF:                    https://eff.org/donate-le
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_生成交换密钥_2">26.3.3. 生成交换密钥</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">openssl dhparam -out /etc/letsencrypt/live/www.xxx.com/dhparam.pem 2048</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_添加https站点">26.4. 添加HTTPS站点</h3>
<div class="sect3">
<h4 id="_创建配置文件">26.4.1. 创建配置文件</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/nginx/conf.d/xxx.com_ssl.conf
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name *.xxx.com;
    root /data/web/xxx.com;

    # certs sent to the client in SERVER HELLO are concatenated in ssl_certificate
    ssl_certificate /etc/letsencrypt/live/xxx.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/xxx.com/privkey.pem;
    ssl_session_timeout 1d;
    ssl_session_cache shared:SSL:50m;
    ssl_session_tickets off;

    # Diffie-Hellman parameter for DHE ciphersuites, recommended 2048 bits
    ssl_dhparam /etc/letsencrypt/live/xxx.com/dhparam.pem;

    # intermediate configuration. tweak to your needs.
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers 'ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA:ECDHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA:ECDHE-ECDSA-DES-CBC3-SHA:ECDHE-RSA-DES-CBC3-SHA:EDH-RSA-DES-CBC3-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:DES-CBC3-SHA:!DSS';
    ssl_prefer_server_ciphers on;

    # HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)
    add_header Strict-Transport-Security max-age=15768000;

    # OCSP Stapling ---
    # fetch OCSP records from URL in ssl_certificate and cache them
    ssl_stapling on;
    ssl_stapling_verify on;
    # nginx: Specifies a file with trusted CA certificates in the PEM format used to verify client certificates and OCSP responses if ssl_stapling is enabled.
    # certbot: If you’re using OCSP stapling with Nginx &gt;= 1.3.7, chain.pem should be provided as the ssl_trusted_certificate to validate OCSP responses.
    ssl_trusted_certificate /etc/letsencrypt/live/xxx.com/chain.pem;


    location ~ ^/\.git/? {
        return 404;
    }
}
EOF</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">单域名的站点配置</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>只需要将上文的 <code>*.xxx.com</code> 替换为 <code>www.xxx.com</code></p>
</li>
<li>
<p><code>/etc/letsencrypt/live/xxx.com/</code> 替换为 <code>/etc/letsencrypt/live/www.xxx.com/</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_重载配置">26.4.2. 重载配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nginx -s reload</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ssl安全级别测试">26.4.3. SSL安全级别测试</h4>
<div class="paragraph">
<p><a href="https://www.ssllabs.com/ssltest/" class="bare" target="blank">https://www.ssllabs.com/ssltest/</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_自动续签">26.5. 自动续签</h3>
<div class="sect3">
<h4 id="_创建续签系统服务">26.5.1. 创建续签系统服务</h4>
<div class="listingblock">
<div class="title">通配符域名</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/systemd/system/letsencrypt.service
[Unit]
Description=Let's Encrypt renewal

[Service]
Type=oneshot
# ExecStart=/usr/local/bin/certbot renew

# 自动修改阿里云域名解析，完成证书续签
ExecStart=/usr/local/bin/certbot renew --manual --preferred-challenges=dns --manual-auth-hook '/data/LetsEncryptAliDnsTool/app.py --auth' --manual-cleanup-hook '/data/LetsEncryptAliDnsTool/app.py --cleanup'

ExecStartPost=/usr/sbin/nginx -s reload

[Install]
WantedBy=multi-user.target
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">单域名</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/systemd/system/letsencrypt.service
[Unit]
Description=Let's Encrypt renewal

[Service]
Type=oneshot
ExecStart=/usr/local/bin/certbot renew
ExecStartPost=/usr/sbin/nginx -s reload

[Install]
WantedBy=multi-user.target
EOF</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_创建续签定时器">26.5.2. 创建续签定时器</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/systemd/system/letsencrypt.timer
[Unit]
Description=Monthly renewal of Let's Encrypt's certificates

[Timer]
OnCalendar=daily
Persistent=true

[Install]
WantedBy=timers.target
EOF</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_重载系统服务">26.5.3. 重载系统服务</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl daemon-reload</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_设置开机启动">26.5.4. 设置开机启动</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable letsencrypt.service
systemctl enable letsencrypt.timer</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_启动定时器">26.5.5. 启动定时器</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start letsencrypt.timer</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_查看定时器">26.5.6. 查看定时器</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl list-timers letsencrypt.timer</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_GPG_chapter">27. GPG</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_生成文件签名">27.1. 生成文件签名</h3>
<div class="listingblock">
<div class="content">
<pre>$ gpg --list-signatures
/home/fifilyu/.gnupg/pubring.kbx
--------------------------------
pub   rsa2048 2017-12-14 [SC]
      CD6B852E003F586F3FD6AA6CF5AF9B93E7C36AED
uid           [ 绝对 ] Zhong Jing Wu Lian (release key) &lt;security@mwteck.com&gt;
sig 3        F5AF9B93E7C36AED 2017-12-14  Zhong Jing Wu Lian (release key) &lt;security@mwteck.com&gt;
sub   rsa2048 2017-12-14 [E]
sig          F5AF9B93E7C36AED 2017-12-14  Zhong Jing Wu Lian (release key) &lt;security@mwteck.com&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sha1sum config.properties &gt;config.properties.sha1sum
gpg --armor --digest-algo sha1 --detach-sign --local-user F5AF9B93E7C36AED config.properties.sha1sum
gpg --verify config.properties.sha1sum.asc</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_OpenSSL_chapter">28. OpenSSL</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_常用命令_5">28.1. 常用命令</h3>
<div class="listingblock">
<div class="title">Hmac摘要，输出十六进制字符串</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo -n "abc" | openssl dgst -sha224 -hmac "password"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Hmac摘要，输出Base64字符串</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo -n "abc" | openssl dgst -sha224 -hmac "123456" -binary | base64 -w 0</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>base64 -w 0</code> 表示不换行
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
可选算法 sha1/sha224/sha256/sha384/sha512
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Polipo_chapter">29. Polipo</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_5">29.1. 安装配置</h3>
<div class="sect3">
<h4 id="_centos8_2">29.1.1. CentOS8</h4>
<div class="sect4">
<h5 id="_安装依赖_4">安装依赖</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget http://ftp.gnu.org/gnu/texinfo/texinfo-6.7.tar.xz -O texinfo-6.7.tar.xz
tar xf texinfo-6.7.tar.xz
cd texinfo-6.7
./configure --prefix=/usr/local/texinfo-6.7
make &amp;&amp; make install
ln -s /usr/local/texinfo-6.7/bin/makeinfo /usr/local/bin/</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_安装_polipo">安装 Polipo</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget https://github.com/jech/polipo/archive/polipo-1.1.1.tar.gz -O polipo-1.1.1.tar.gz
tar xf polipo-1.1.1.tar.gz
cd polipo-polipo-1.1.1
make all
make install</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_配置文件_polipo">配置文件 Polipo</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /etc/polipo/ /tmp/polipo-cache/

cat &lt;&lt; EOF &gt; /etc/polipo/config1
# Sample configuration file for Polipo. -*-sh-*-

# You should not need to use a configuration file; all configuration
# variables have reasonable defaults.  If you want to use one, you
# can copy this to /etc/polipo/config or to ~/.polipo and modify.

# This file only contains some of the configuration variables; see the
# list given by "polipo -v" and the manual for more.


### Basic configuration
### *******************

# Uncomment one of these if you want to allow remote clients to
# connect:

# proxyAddress = "::0"        # both IPv4 and IPv6
proxyAddress = "0.0.0.0"    # IPv4 only

# If you do that, you'll want to restrict the set of hosts allowed to
# connect:

# allowedClients = 127.0.0.1, 134.157.168.57
# allowedClients = 127.0.0.1, 134.157.168.0/24

# Uncomment this if you want your Polipo to identify itself by
# something else than the host name:

# proxyName = "polipo.example.org"

# Uncomment this if there's only one user using this instance of Polipo:

# cacheIsShared = false

# Uncomment this if you want to use a parent proxy:

# parentProxy = "squid.example.org:3128"

# Uncomment this if you want to use a parent SOCKS proxy:

socksParentProxy = "127.0.0.1:1080"
socksProxyType = socks5

# Uncomment this if you want to scrub private information from the log:

# scrubLogs = true


### Memory
### ******

# Uncomment this if you want Polipo to use a ridiculously small amount
# of memory (a hundred C-64 worth or so):

# chunkHighMark = 819200
# objectHighMark = 128

# Uncomment this if you've got plenty of memory:

# chunkHighMark = 50331648
# objectHighMark = 16384


### On-disk data
### ************

# Uncomment this if you want to disable the on-disk cache:

diskCacheRoot = "/tmp/polipo-cache"

# Uncomment this if you want to put the on-disk cache in a
# non-standard location:

# diskCacheRoot = "~/.polipo-cache/"

# Uncomment this if you want to disable the local web server:

# localDocumentRoot = ""

# Uncomment this if you want to enable the pages under /polipo/index?
# and /polipo/servers?.  This is a serious privacy leak if your proxy
# is shared.

# disableIndexing = false
# disableServersList = false


### Domain Name System
### ******************

# Uncomment this if you want to contact IPv4 hosts only (and make DNS
# queries somewhat faster):

# dnsQueryIPv6 = no

# Uncomment this if you want Polipo to prefer IPv4 to IPv6 for
# double-stack hosts:

# dnsQueryIPv6 = reluctantly

# Uncomment this to disable Polipo's DNS resolver and use the system's
# default resolver instead.  If you do that, Polipo will freeze during
# every DNS query:

# dnsUseGethostbyname = yes


### HTTP
### ****

# Uncomment this if you want to enable detection of proxy loops.
# This will cause your hostname (or whatever you put into proxyName
# above) to be included in every request:

# disableVia=false

# Uncomment this if you want to slightly reduce the amount of
# information that you leak about yourself:

# censoredHeaders = from, accept-language
# censorReferer = maybe

# Uncomment this if you're paranoid.  This will break a lot of sites,
# though:

# censoredHeaders = set-cookie, cookie, cookie2, from, accept-language
# censorReferer = true

# Uncomment this if you want to use Poor Man's Multiplexing; increase
# the sizes if you're on a fast line.  They should each amount to a few
# seconds' worth of transfer; if pmmSize is small, you'll want
# pmmFirstSize to be larger.

# Note that PMM is somewhat unreliable.

# pmmFirstSize = 16384
# pmmSize = 8192

# Uncomment this if your user-agent does something reasonable with
# Warning headers (most don't):

# relaxTransparency = maybe

# Uncomment this if you never want to revalidate instances for which
# data is available (this is not a good idea):

# relaxTransparency = yes

# Uncomment this if you have no network:

# proxyOffline = yes

# Uncomment this if you want to avoid revalidating instances with a
# Vary header (this is not a good idea):

# mindlesslyCacheVary = true

# Uncomment this if you want to add a no-transform directive to all
# outgoing requests.

# alwaysAddNoTransform = true
EOF</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_创建系统服务_2">创建系统服务</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /usr/lib/systemd/system/polipo.service
[Unit]
Description=polipo - a caching web proxy
After=network.target

[Service]
Type=simple
User=nobody
ExecStart=/usr/local/bin/polipo

[Install]
WantedBy=multi-user.target
EOF</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_启动服务_2">启动服务</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable polipo
systemctl start polipo
systemctl status polipo

ss -antpl|grep 8123</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Proxychains_chapter">30. Proxychains</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_6">30.1. 安装配置</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y gcc make

wget https://github.com/haad/proxychains/archive/4.3.0.tar.gz -O 4.3.0.tar.gz
tar xf 4.3.0.tar.gz
cd proxychains-4.3.0


./configure --prefix=/usr/local/proxychains-4.3.0
make &amp;&amp; make install
cp src/proxychains.conf /usr/local/proxychains-4.3.0/etc

sed -E -i 's/socks4\s+127.0.0.1 9050/socks5 127.0.0.1 1080/' /usr/local/proxychains-4.3.0/etc/proxychains.conf
sed -i 's/#quiet_mode/quiet_mode/g' /usr/local/proxychains-4.3.0/etc/proxychains.conf

echo 'alias p="/usr/local/proxychains-4.3.0/bin/proxychains4"' &gt;&gt; ~/.bashrc
# 不重启终端生效环境配置
source ~/.bashrc

# 测试访问
p curl -I www.youtube.com</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ImageMagick_chapter">31. ImageMagick</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_批量图片转pdf">31.1. 批量图片转PDF</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">[fifilyu@t430-arch ~]$ tree /home/fifilyu/Pictures/hetong/发票合同/2015/发票
/home/fifilyu/Pictures/hetong/发票合同/2015/发票
├── 20-20000
│   └── IMG_20171115_120634.jpg
├── 38
│   └── IMG_20171115_122128.jpg
├── 39
│   └── IMG_20171115_120247.jpg
├── 41-20000
│   └── IMG_20171115_120450.jpg
├── 47
│   └── IMG_20171115_123224.jpg
├── 48
│   └── IMG_20171115_122517.jpg
├── 49
│   └── IMG_20171115_123443.jpg
├── 50
│   ├── IMG_20171115_122619.jpg
│   ├── IMG_20171115_122629.jpg
│   ├── IMG_20171115_122637.jpg
│   ├── IMG_20171115_122645.jpg
│   └── IMG_20171115_122657.jpg
├── 52
│   └── IMG_20171115_122835.jpg
├── 53
│   └── IMG_20171115_122310.jpg
├── 54
│   └── IMG_20171115_122411.jpg
├── 55
│   └── IMG_20171115_122026.jpg
├── 56
│   └── IMG_20171115_122218.jpg
├── 定州-5500
│   └── IMG_20171115_123055.jpg
├── 韩代-6500
│   └── IMG_20171115_123341.jpg
└── 人保-45900
    ├── IMG_20171115_121009.jpg
    └── IMG_20171115_121337.jpg</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">需求</dt>
<dd>
<p>每个目录都是一份合同（一页或多页）的扫描图片，生成的PDF必须保证同一份合同的图片是连续的。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>生成 PDF 的脚本内容：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo '#!/bin/sh' &gt; make_pdf.sh
echo 'convert \' &gt;&gt; make_pdf.sh
find /home/fifilyu/Pictures/hetong/发票合同/2015/发票 -name '*.jpg' -o -name "*.png" -o -name "*.jpeg"|awk '{print "\""$1"\" \\"}' &gt;&gt; make_pdf.sh
echo 'out.pdf' &gt;&gt; make_pdf.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出最终 PDF 文件：<code>sh make_pdf.sh</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<code>convert</code> 命令在批量处理图片时，耗费大量内存。处理300张图片需要25G~30G左右的内存。
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Rsync_chapter">32. Rsync</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_使用实例">32.1. 使用实例</h3>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Dante_chapter">33. Dante</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dante 是一个SOCKS服务端和客户端。这里，用来作为服务端。</p>
</div>
<div class="sect2">
<h3 id="_安装配置_7">33.1. 安装配置</h3>
<div class="paragraph">
<p>官方下载页面： <a href="https://www.inet.no/dante/sslfiles/binaries.html" class="bare">https://www.inet.no/dante/sslfiles/binaries.html</a></p>
</div>
<div class="sect3">
<h4 id="_安装_5">33.1.1. 安装</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p ~/downloads
cd ~/downloads

wget -c https://www.inet.no/dante/sslfiles/dante-1.4.2/tgz-prod.dante-1.4.2-rhel72-amd64-64bit-gcc.tar.gz
tar xf tgz-prod.dante-1.4.2-rhel72-amd64-64bit-gcc.tar.gz

cp -r usr/ /

# 测试
sockd --help</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置_4">33.1.2. 配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">useradd -r -s /bin/false  sockd

cat &lt;&lt; EOF &gt; /etc/sockd.conf
# \$Id: sockd.conf,v 1.52.10.2 2014/09/03 14:49:13 michaels Exp \$
#
# A sample sockd.conf
#
#
# The config file is divided into three parts;
#    1) server settings
#    2) rules
#    3) routes
#
# The recommended order is:
#   Server settings:
#               logoutput
#               internal
#               external
#               socksmethod
#               clientmethod
#               users
#               compatibility
#               extension
#               timeout
#               srchost
#
#  Rules:
#        client block/pass
#                from to
#                libwrap
#                log
#
#     block/pass
#                from to
#                socksmethod
#                command
#                libwrap
#                log
#                protocol
#                proxyprotocol
#
#  Routes:

# the server will log both via syslog, to stdout and to /var/log/sockd.log
#logoutput: syslog stdout /var/log/sockd.log
#logoutput: stderr
logoutput: /var/log/sockd.log

# The server will bind to the address 10.1.1.1, port 1080 and will only
# accept connections going to that address.
#internal: 10.1.1.1 port = 1080
# Alternatively, the interface name can be used instead of the address.
#internal: eth0 port = 1080
internal: 0.0.0.0 port = 1080

# all outgoing connections from the server will use the IP address
# 195.168.1.1
#external: 192.168.1.1
external: eth0

# list over acceptable authentication methods, order of preference.
# An authentication method not set here will never be selected.
#
# If the socksmethod field is not set in a rule, the global
# socksmethod is filled in for that rule.
#

# methods for socks-rules.
#socksmethod: username none #rfc931

# methods for client-rules.
# The default of "none" permits anonymous access.
clientmethod: none

#or if you want to allow rfc931 (ident) too
#socksmethod: username rfc931 none

#or for PAM authentication
#socksmethod: pam

# The default of "none" permits anonymous access.
socksmethod: none

#
# User identities, an important section.
#

# when doing something that can require privilege, it will use the
# userid "sockd".
user.privileged: sockd

# when running as usual, it will use the unprivileged userid of "sockd".
user.unprivileged: sockd

# If you are not using libwrap, no need for the below line, so leave
# it commented.
# If you compiled with libwrap support, what userid should it use
# when executing your libwrap commands?  "libwrap".
#user.libwrap: libwrap


#
# Some options to help clients with compatibility:
#

# when a client connection comes in the socks server will try to use
# the same port as the client is using, when the socks server
# goes out on the clients behalf (external: IP address).
# If this option is set, Dante will try to do it for reserved ports as well.
# This will usually require user.privileged to be set to "root".
#compatibility: sameport

# If you are using the Inferno Nettverk bind extension and have trouble
# running servers via the server, you might try setting this.
#compatibility: reuseaddr

#
# The Dante server supports some extensions to the socks protocol.
# These require that the socks client implements the same extension and
# can be enabled using the "extension" keyword.
#
# enable the bind extension.
#extension: bind


#
# Misc options.
#

# how many seconds can pass from when a client connects til it has
# sent us it's request?  Adjust according to your network performance
# and methods supported.
#timeout.negotiate: 30   # on a lan, this should be enough.

# how many seconds can the client and it's peer idle without sending
# any data before we dump it?  Unless you disable tcp keep-alive for
# some reason, it's probably best to set this to 0, which is
# "forever".
#timeout.io: 0 # or perhaps 86400, for a day.

# do you want to accept connections from addresses without
# dns info?  what about addresses having a mismatch in dns info?
#srchost: nounknown nomismatch

#
# The actual rules.  There are two kinds and they work at different levels.
#
# The rules prefixed with "client" are checked first and say who is allowed
# and who is not allowed to speak/connect to the server.  I.e the
# ip range containing possibly valid clients.
# It is especially important that these only use IP addresses, not hostnames,
# for security reasons.
#
# The rules that do not have a "client" prefix are checked later, when the
# client has sent its request and are used to evaluate the actual
# request.
#
# The "to:" in the "client" context gives the address the connection
# is accepted on, i.e the address the socks server is listening on, or
# just "0.0.0.0/0" for any address the server is listening on.
#
# The "to:" in the non-"client" context gives the destination of the clients
# socks request.
#
# "from:" is the source address in both contexts.
#


#
# The "client" rules.  All our clients come from the net 10.0.0.0/8.
#

# Allow our clients, also provides an example of the port range command.
#client pass {
#        from: 10.0.0.0/8 port 1-65535 to: 0.0.0.0/0
#        clientmethod: rfc931 # match all idented users that also are in passwordfile
#}

# This is identical to above, but allows clients without a rfc931 (ident)
# too.  In practice this means the socks server will try to get a rfc931
# reply first (the above rule), if that fails, it tries this rule.
#client pass {
#        from: 10.0.0.0/8 port 1-65535 to: 0.0.0.0/0
#}

client pass {
    from: 0.0.0.0/0 to: 0.0.0.0/0
}


# drop everyone else as soon as we can and log the connect, they are not
# on our net and have no business connecting to us.  This is the default
# but if you give the rule yourself, you can specify details.
#client block {
#        from: 0.0.0.0/0 to: 0.0.0.0/0
#        log: connect error
#}


# the rules controlling what clients are allowed what requests
#

# you probably don't want people connecting to loopback addresses,
# who knows what could happen then.
#socks block {
#        from: 0.0.0.0/0 to: lo0
#        log: connect error
#}

# the people at the 172.16.0.0/12 are bad, no one should talk to them.
# log the connect request and also provide an example on how to
# interact with libwrap.
#socks block {
#        from: 0.0.0.0/0 to: 172.16.0.0/12
#        libwrap: spawn finger @%a
#        log: connect error
#}

# unless you need it, you could block any bind requests.
#socks block {
#        from: 0.0.0.0/0 to: 0.0.0.0/0
#        command: bind
#        log: connect error
#}

# or you might want to allow it, for instance "active" ftp uses it.
# Note that a "bindreply" command must also be allowed, it
# should usually by from "0.0.0.0/0", i.e if a client of yours
# has permission to bind, it will also have permission to accept
# the reply from anywhere.
#socks pass {
#        from: 10.0.0.0/8 to: 0.0.0.0/0
#        command: bind
#        log: connect error
#}

# some connections expect some sort of "reply", this might be
# the reply to a bind request or it may be the reply to a
# udppacket, since udp is packet based.
# Note that nothing is done to verify that it's a "genuine" reply,
# that is in general not possible anyway.  The below will allow
# all "replies" in to your clients at the 10.0.0.0/8 net.
#socks pass {
#        from: 0.0.0.0/0 to: 10.0.0.0/8
#        command: bindreply udpreply
#        log: connect error
#}


# pass any http connects to the example.com domain if they
# authenticate with username.
# This matches "example.com" itself and everything ending in ".example.com".
#socks pass {
#        from: 10.0.0.0/8 to: .example.com port = http
#        log: connect error
#        clientmethod: username
#}


# block any other http connects to the example.com domain.
#socks block {
#        from: 0.0.0.0/0 to: .example.com port = http
#        log: connect error
#}

# everyone from our internal network, 10.0.0.0/8 is allowed to use
# tcp and udp for everything else.
#socks pass {
#        from: 10.0.0.0/8 to: 0.0.0.0/0
#        protocol: tcp udp
#}

socks pass {
    from: 0.0.0.0/0 to: 0.0.0.0/0
}

# last line, block everyone else.  This is the default but if you provide
# one  yourself you can specify your own logging/actions
#socks block {
#        from: 0.0.0.0/0 to: 0.0.0.0/0
#        log: connect error
#}

# route all http connects via an upstream socks server, aka "server-chaining".
#route {
# from: 10.0.0.0/8 to: 0.0.0.0/0 port = http via: socks.example.net port = socks
#}
EOF</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_运行_2">33.1.3. 运行</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sockd -f /etc/sockd.conf -D</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_frp_chapter">34. frp</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_8">34.1. 安装配置</h3>
<div class="sect3">
<h4 id="_初始配置">34.1.1. 初始配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget -c https://github.com/fatedier/frp/releases/download/v0.31.1/frp_0.31.1_linux_amd64.tar.gz
tar xf frp_0.31.1_linux_amd64.tar.gz
mv frp_0.31.1_linux_amd64 /usr/local
ln -s /usr/local/frp_0.31.1_linux_amd64 /usr/local/frp

ln -s /usr/local/frp/frpc /usr/bin/frpc
ln -s /usr/local/frp/frps /usr/bin/frps

mkdir /etc/frp

useradd -M -s /sbin/nologin frp</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_服务端">34.1.2. 服务端</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt;  /etc/frp/frps.ini
[common]
bind_addr = 0.0.0.0
bind_port = 4000

privilege_token = geek

max_pool_count = 5

vhost_http_port = 4080
vhost_https_port = 4443

dashboard_port = 4500
dashboard_user = admin
dashboard_pwd = geek
EOF


cp /usr/local/frp/systemd/frps.service /usr/lib/systemd/system/frps.service

systemctl enable frps
systemctl start frps
# 查看日志信息
systemctl  status frps</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_客户端">34.1.3. 客户端</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt;  /etc/frp/frpc.ini
[common]
server_addr = 47.103.57.228
server_port = 4000

admin_addr = 127.0.0.1
admin_port = 4000

privilege_token = geek

pool_count = 5

[kafka_redas_core]
type = tcp
local_ip = 127.0.0.1
local_port = 9092
remote_port = 4292
EOF

cp /usr/local/frp/systemd/frpc.service /usr/lib/systemd/system/frpc.service

systemctl enable frpc
systemctl start frpc
# 查看日志信息
systemctl  status frpc</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_npm_chapter">35. npm</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_9">35.1. 安装配置</h3>
<div class="sect3">
<h4 id="_初始配置_2">35.1.1. 初始配置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">npm config set registry https://registry.npm.taobao.org

cd /data/workspace/admin-vue-web
npm install
npm run build</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lftp_chapter">36. lftp</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_10">36.1. 安装配置</h3>
<div class="sect3">
<h4 id="_初始配置_3">36.1.1. 初始配置</h4>
<div class="paragraph">
<p>编辑 <code>/etc/lftp.conf</code>，加入下面内容：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>set ssl:verify-certificate no</pre>
</div>
</div>
<div class="paragraph">
<p>或直接在lftp命令提示符下输入 <code>：set ssl:verify-certificate no</code>，然后 <kbd>Enter</kbd>。</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gradle_chapter">37. gradle</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_11">37.1. 安装配置</h3>
<div class="sect3">
<h4 id="_全局源">37.1.1. 全局源</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; ~/.gradle/init.gradle
allprojects{
    repositories {
        def ALIYUN_REPOSITORY_URL = 'http://maven.aliyun.com/nexus/content/groups/public'
        def ALIYUN_JCENTER_URL = 'http://maven.aliyun.com/nexus/content/repositories/jcenter'
        all { ArtifactRepository repo -&gt;
            if(repo instanceof MavenArtifactRepository){
                def url = repo.url.toString()
                if (url.startsWith('https://repo1.maven.org/maven2')) {
                    project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_REPOSITORY_URL."
                    remove repo
                }
                if (url.startsWith('https://jcenter.bintray.com/')) {
                    project.logger.lifecycle "Repository ${repo.url} replaced by $ALIYUN_JCENTER_URL."
                    remove repo
                }
            }
        }
        maven {
            url ALIYUN_REPOSITORY_URL
            url ALIYUN_JCENTER_URL
        }
    }
}
EOF</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_使用方法">37.2. 使用方法</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">gradle build</dt>
<dd>
<p>构建</p>
</dd>
<dt class="hdlist1">gradle bootRun</dt>
<dd>
<p>启动SpringBoot应用</p>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_uWSGI_chapter">38. uWSGI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>基于 CentOS 7</strong></p>
</div>
<div class="sect2">
<h3 id="_uwsgi">38.1. uWSGI</h3>
<div class="sect3">
<h4 id="_centos6">38.1.1. CentOS6</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y epel</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_uwsgi_2">uWSGI</h5>
<div class="sect5">
<h6 id="_yum">YUM</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y uwsgi

cd /data/project/foo

uwsgi --uwsgi-socket /tmp/foo.sock \
    --uid nginx \
    --gid nginx \
    --manage-script-name \
    --mount /=main:app \
    --plugin python \
    --processes 4 \
    --threads 2 \
    --master</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>--uwsgi-socket /tmp/foo.sock</code> 可以替换为 <code>--http-socket :9090</code>。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_python3">Python3</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip3 install -i https://pypi.douban.com/simple/ uwsgi

cd /data/project/foo

/usr/local/python-3.6.2/bin/uwsgi \
    --uid nginx \
    --gid nginx \
    --uwsgi-socket /tmp/foo.sock  \
    --manage-script-name \
    --mount /=main:app \
    --processes 4 \
    --threads 2 \
    --master</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>--uwsgi-socket /tmp/foo.sock</code> 可以替换为 <code>--http-socket :9090</code>。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_管理_uwsgi">管理 uWSGI</h5>
<div class="listingblock">
<div class="title">保存配置</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt; EOF &gt; /data/workspace/ttd-api-mock-server/configs/app-uwsgi.ini
[uwsgi]
uwsgi-socket = /tmp/tams.sock
pidfile = /tmp/tams.pid
stats=/tmp/tams.status
chdir = /data/workspace/ttd-api-mock-server
wsgi-file = main.py
processes = 4
threads = 2
uid = nginx
gid = nginx
manage-script-name = true
mount = /=main:app
master = true
daemonize = true
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动&amp;停止&amp;重载&amp;查看状态</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/local/python3/bin/uwsgi /data/workspace/ttd-api-mock-server/configs/app-uwsgi.ini

/usr/local/python3/bin/uwsgi --stop /tmp/tams.pid

/usr/local/python3/bin/uwsgi --reload /tmp/tams.pid

/usr/local/python3/bin/uwsgi --connect-and-read /tmp/tams.status</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_nginx_2">Nginx</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y nginx

cat &lt; EOF &gt; /etc/nginx/conf.d/default.conf
server {
    listen       80 default_server;
    server_name  _;

    root         /usr/share/nginx/html/;

    location / {
        try_files $uri @tams;
    }

    location @tams {
        include uwsgi_params;
        uwsgi_pass unix:/tmp/foo.sock;
    }
}
EOF</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ElasticStack_chapter">39. ElasticStack</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_centos8elk环境配置">39.1. CentOS8+ELK环境配置</h3>
<div class="paragraph">
<p><strong>CentOS 8</strong></p>
</div>
<div class="sect3">
<h4 id="_安装java">39.1.1. 安装Java</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y java-11-openjdk java-11-openjdk-devel java-11-openjdk-headless</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_增加yum源">39.1.2. 增加YUM源</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch

cat &lt;&lt; EOF &gt; /etc/yum.repos.d/elasticsearch.repo
[elasticsearch]
name=Elasticsearch repository for 7.x packages
baseurl=https://artifacts.elastic.co/packages/7.x/yum
gpgcheck=1
gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch
enabled=0
autorefresh=1
type=rpm-md
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看elasticsearch源中的包列表：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">$ dnf --disablerepo="*" --enablerepo="elasticsearch" list available
Available Packages
apm-server.x86_64                            7.7.1-1                       elasticsearch
app-search.noarch                            7.6.2-1                       elasticsearch
auditbeat.x86_64                             7.7.1-1                       elasticsearch
elasticsearch.aarch64                        7.7.1-1                       elasticsearch
elasticsearch.x86_64                         7.7.1-1                       elasticsearch
enterprise-search.noarch                     7.7.1-1                       elasticsearch
filebeat.x86_64                              7.7.1-1                       elasticsearch
heartbeat-elastic.x86_64                     7.7.1-1                       elasticsearch
journalbeat.x86_64                           7.7.1-1                       elasticsearch
kibana.x86_64                                7.7.1-1                       elasticsearch
logstash.noarch                              1:7.7.1-1                     elasticsearch
metricbeat.x86_64                            7.7.1-1                       elasticsearch
packetbeat.x86_64                            7.7.1-1                       elasticsearch</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_elasticsearch">39.1.3. Elasticsearch</h4>
<div class="sect4">
<h5 id="_安装_6">安装</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf --disablerepo="*" --enablerepo="elasticsearch" install -y elasticsearch</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_配置_5">配置</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sed -i '17s/#cluster.name: my-application/cluster.name: myapp/' /etc/elasticsearch/elasticsearch.yml

sed -i '23s/#node.name: node-1/node.name: node-1/' /etc/elasticsearch/elasticsearch.yml

sed -i '55s/#network.host: 192.168.0.1/network.host: 0.0.0.0/' /etc/elasticsearch/elasticsearch.yml

sed -i '68s/#discovery.seed_hosts: .*/discovery.seed_hosts: ["0.0.0.0\/0"]/' /etc/elasticsearch/elasticsearch.yml

sed -i '72s/#cluster.initial_master_nodes: .*/cluster.initial_master_nodes: ["node-1"]/' /etc/elasticsearch/elasticsearch.yml</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>使用阿里云的ECS服务器配置Elasticsearch时，需要明确指定本机内网IP地址。否则，会出现9200端口已经启动，但无法创建或查询index。</p>
</div>
<div class="paragraph">
<p>ECS配置示例：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>network.host: 172.24.109.12</p>
</li>
<li>
<p>discovery.seed_hosts: ["172.24.109.12"]</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_开机启动">开机启动</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable elasticsearch</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_启动服务_3">启动服务</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start elasticsearch</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kibana">39.1.4. Kibana</h4>
<div class="sect4">
<h5 id="_安装_7">安装</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf --disablerepo="*" --enablerepo="elasticsearch" install -y kibana</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_配置_6">配置</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sed -i '7s/#server.host: "localhost"/server.host: "0.0.0.0"/' /etc/kibana/kibana.yml
sed -i '28s/#elasticsearch.hosts: .*/elasticsearch.hosts: ["http:\/\/0.0.0.0:9200"]/' /etc/kibana/kibana.yml
sed -i '115s/#i18n.locale: "en"/i18n.locale: "en"/' /etc/kibana/kibana.yml</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果Elasticsearch的 <code>"network.host"</code> 参数值为具体的IP地址，比如 <code>"172.24.109.12"</code>。</p>
</div>
<div class="paragraph">
<p>那么，Kibana中的 <code>"elasticsearch.hosts"</code> 同样需要设置为 <code>"172.24.109.12"</code>，而不能使用 <code>"0.0.0.0"</code>。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_开机启动_2">开机启动</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable kibana</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_启动服务_4">启动服务</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start kibana</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_最后_2">最后</h5>
<div class="paragraph">
<p>如果系统IP为 172.24.109.12，则访问 <a href="http://172.24.109.12:5601/" class="bare">http://172.24.109.12:5601/</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_logstash">39.1.5. Logstash</h4>
<div class="paragraph">
<p><span class="red">“如何将Nginx的Web日志导入Elasticsearch？”</span></p>
</div>
<div class="sect4">
<h5 id="_日志处理管道">日志处理管道</h5>
<div class="paragraph">
<p>日志记录增加到Elasticsearch时，需要使用管道实时清洗、处理日志格式。</p>
</div>
<div class="listingblock">
<div class="title">Nginx日志格式</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="text" class="language-text hljs">log_format  main  '$host $remote_addr - $remote_user [$time_local] "$request" '
                    '$status $body_bytes_sent "$http_referer" '
                    '"$http_user_agent" "$http_x_forwarded_for"';</code></pre>
</div>
</div>
<div class="paragraph">
<p>执行以下命令，在Elasticsearch中增加管道：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X PUT http://0.0.0.0:9200/_ingest/pipeline/web_log -d '
{
    "description": "",
    "processors": [
        {
            "dissect": {
                "field": "message",
                "pattern": "%{domain} %{server_port} %{client_ip} - - [%{web_timestamp}] \"%{method} %{uri} HTTP/%{version}\" %{status} %{response_time} %{body_bytes} \"%{referer}\" \"%{user_agent}\" \"%{x_forwarded_for}\" %{server_ip}"
            }
        },
        {
            "grok": {
                "field": "uri",
                "on_failure": [
                    {
                "set": {
                    "field": "ext",
                    "value": ""
                }
                    },
                    {
                "set": {
                    "field": "url_base",
                    "value": "{{uri}}"
                }
                    }
                ],
                "patterns": [
                    "%{GREEDYDATA:url_base}\\.%{WORD:ext}"
                ]
            }
        },
        {
            "geoip": {
                "field": "client_ip",
                "target_field": "client_ip_geo"
            }
        },
        {
            "geoip": {
                "field": "server_ip",
                "target_field": "server_ip_geo"
            }
        },
        {
            "user_agent": {
                "field": "user_agent"
            }
        },
        {
            "date": {
                "field": "web_timestamp",
                "target_field": "@timestamp",
                "formats": [
                    "dd/MMM/yyyy:HH:mm:ss Z"
                ],
                "timezone" : "Asia/Shanghai"
            }
        },
        {
            "convert": {
                "field": "server_port",
                "type": "integer"
            }
        },
        {
            "convert": {
                "field": "status",
                "type": "integer"
            }
        },
        {
            "convert": {
                "field": "response_time",
                "type": "float"
            }
        },
        {
            "convert": {
                "field": "body_bytes",
                "type": "integer"
            }
        },
        {
            "set": {
                "field": "hour_of_day",
                "value": 12
            }
        },
        {
            "grok": {
                "field": "web_timestamp",
                "patterns": [
                    "\\d+/\\w+/\\d+:%{NUMBER:hour_of_day:int}:\\d+:\\d+ \\+\\d+"
                ]
            }
        }
    ]
}
'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_准备日志文件">准备日志文件</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">日志文件存放路径</dt>
<dd>
<p>~/es_log/nginx_logs</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@dell7 nginx_logs]# ls
access.log-20200501  access.log-20200512  access.log-20200523  access.log-20200603
access.log-20200502  access.log-20200513  access.log-20200524  access.log-20200604
access.log-20200503  access.log-20200514  access.log-20200525  access.log-20200605
access.log-20200504  access.log-20200515  access.log-20200526  access.log-20200606
access.log-20200505  access.log-20200516  access.log-20200527  access.log-20200607
access.log-20200506  access.log-20200517  access.log-20200528  access.log-20200608
access.log-20200507  access.log-20200518  access.log-20200529  access.log-20200609
access.log-20200508  access.log-20200519  access.log-20200530  access.log-20200610
access.log-20200509  access.log-20200520  access.log-20200531
access.log-20200510  access.log-20200521  access.log-20200601
access.log-20200511  access.log-20200522  access.log-20200602</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_配置文件_3">配置文件</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p ~/es_log

cat &lt;&lt; EOF &gt; ~/es_log/logstash.conf
input{
  file {
    # https://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html#plugins-inputs-file-delimiter
    # 默认以"\n"分割，文件必须至少一个换行符
    path =&gt; "${HOME}/es_log/nginx_logs/access.log*"
    start_position =&gt; "end"
    stat_interval =&gt; "1 second"
  }
}
output{
    elasticsearch {
            #这里可以是数组，可以是多个节点的地址，会自动启用负载均衡
            hosts =&gt; ["0.0.0.0:9200"]
            index =&gt; "foo_com"
            pipeline =&gt; "web_log"
    }
    #file  {
    #    path =&gt; "/var/log/logstash.log"
    #    codec =&gt; json
    #}
}
EOF</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果Elasticsearch的 <code>"network.host"</code> 参数值为具体的IP地址，比如 <code>"172.24.109.12"</code>。</p>
</div>
<div class="paragraph">
<p>那么，Logstash配置中的 <code>output.elasticsearch.hosts</code> 需要设置为 <code>["172.24.109.12:9200"]</code>。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_导入nginx日志到elasticsearch">导入Nginx日志到Elasticsearch</h5>
<div class="paragraph">
<p>导入数据到ES：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/share/logstash/bin/logstash -f ~/es_log/logstash.conf</code></pre>
</div>
</div>
<div class="paragraph">
<p>每次运行的结果会记录到文件：</p>
</div>
<div class="paragraph">
<p>/usr/share/logstash/data/plugins/inputs/file/.sincedb_100caf6f694120ba2483577719e4a564</p>
</div>
<div class="paragraph">
<p>文件内容为：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="text" class="language-text hljs">270004749 0 2049 584450300 1592393767.626652 /root/es_log/nginx_logs/access.log-20200501
272281186 0 2049 471367497 1592394059.861428 /root/es_log/nginx_logs/access.log-20200502</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果想重新导入，删除 .sincedb 文件即可。</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_过时centos7elk环境配置">39.2. （过时）CentOS7+ELK环境配置</h3>
<div class="sect3">
<h4 id="_配置yum源">39.2.1. 配置Yum源</h4>
<div class="paragraph">
<p>增加源：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch

cat &lt;&lt; EOF &gt; /etc/yum.repos.d/elasticsearch.repo
[elasticsearch]
name=Elasticsearch repository for 7.x packages
baseurl=https://artifacts.elastic.co/packages/7.x/yum
gpgcheck=1
gpgkey=https://artifacts.elastic.co/GPG-KEY-elasticsearch
enabled=0
autorefresh=1
type=rpm-md
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看包列表：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@localhost ~]# yum --disablerepo="*" --enablerepo="elasticsearch" list available
Loaded plugins: fastestmirror
Loading mirror speeds from cached hostfile
elasticsearch                                                                                                                          | 1.3 kB  00:00:00
elasticsearch/primary                                                                                                                  |  88 kB  00:00:04
elasticsearch                                                                                                                                         243/243
Available Packages
apm-server.i686                                                                 7.5.1-1                                                          elasticsearch
apm-server.x86_64                                                               7.5.1-1                                                          elasticsearch
app-search.noarch                                                               7.5.1-1                                                          elasticsearch
auditbeat.i686                                                                  7.5.1-1                                                          elasticsearch
auditbeat.x86_64                                                                7.5.1-1                                                          elasticsearch
elasticsearch.x86_64                                                            7.5.1-1                                                          elasticsearch
filebeat.i686                                                                   7.5.1-1                                                          elasticsearch
filebeat.x86_64                                                                 7.5.1-1                                                          elasticsearch
heartbeat-elastic.i686                                                          7.5.1-1                                                          elasticsearch
heartbeat-elastic.x86_64                                                        7.5.1-1                                                          elasticsearch
journalbeat.i686                                                                7.5.1-1                                                          elasticsearch
journalbeat.x86_64                                                              7.5.1-1                                                          elasticsearch
kibana.x86_64                                                                   7.5.1-1                                                          elasticsearch
logstash.noarch                                                                 1:7.5.1-1                                                        elasticsearch
metricbeat.i686                                                                 7.5.1-1                                                          elasticsearch
metricbeat.x86_64                                                               7.5.1-1                                                          elasticsearch
packetbeat.i686                                                                 7.5.1-1                                                          elasticsearch
packetbeat.x86_64                                                               7.5.1-1                                                          elasticsearch</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装elasticsearch">39.2.2. 安装ElasticSearch</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum --disablerepo="*" --enablerepo="elasticsearch" install -y elasticsearch

sed -i '55s/#network.host: 192.168.0.1/network.host: 0.0.0.0/' /etc/elasticsearch/elasticsearch.yml
sed -i '68s/#discovery.seed_hosts: .*/discovery.seed_hosts: ["0.0.0.0\/0"]/' /etc/elasticsearch/elasticsearch.yml

systemctl daemon-reload
systemctl enable elasticsearch.service
systemctl start elasticsearch</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装kibana">39.2.3. 安装Kibana</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum --disablerepo="*" --enablerepo="elasticsearch" install -y kibana

sed -i '7s/#server.host: "localhost"/server.host: "0.0.0.0"/' /etc/kibana/kibana.yml
iptables -F
service  iptables save
systemctl enable kibana
systemctl start kibana

访问 http://192.168.2.8:5601/</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装logstash">39.2.4. 安装Logstash</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum --disablerepo="*" --enablerepo="elasticsearch" install -y logstash</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_docker方式安装elasticsearch">39.2.5. Docker方式安装ElasticSearch</h4>
<div class="paragraph">
<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html">Install Elasticsearch(官方文档)</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "vm.max_map_count=262144" &gt;&gt; /etc/sysctl.conf
sysctl -p</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>必须设置，否则无法启动 <code>Elasticsearch</code> 容器。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">docker-compose.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="yml" class="language-yml hljs">version: '2.2'
services:
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:6.3.0
    container_name: elasticsearch
    environment:
      - TZ=Asia/Shanghai
      - LANG=en_US.UTF-8
      - cluster.name=docker-cluster
      - bootstrap.memory_lock=true
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    ulimits:
      memlock:
        soft: -1
        hard: -1
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - esdata1:/usr/share/elasticsearch/data
    ports:
        - 9200:9200
    networks:
      - esnet
  elasticsearch2:
    image: docker.elastic.co/elasticsearch/elasticsearch:6.3.0
    container_name: elasticsearch2
    environment:
      - TZ=Asia/Shanghai
      - LANG=en_US.UTF-8
      - cluster.name=docker-cluster
      - bootstrap.memory_lock=true
      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
      - "discovery.zen.ping.unicast.hosts=elasticsearch"
    ulimits:
      memlock:
        soft: -1
        hard: -1
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - esdata2:/usr/share/elasticsearch/data
    networks:
      - esnet

volumes:
  esdata1:
    driver: local
  esdata2:
    driver: local

networks:
  esnet:</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /data/workspace/docker/es
cp docker-compose.yml /data/workspace/docker/es
cd /data/workspace/docker/es
docker-compose up</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置_7">39.2.6. 配置</h4>
<div class="paragraph">
<p>配置文件路径： <code>/etc/elasticsearch/elasticsearch.yml</code></p>
</div>
<div class="listingblock">
<div class="title">监听网络IP</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">network.host: 192.168.0.4</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">允许的客户端</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">discovery.seed_hosts: ["192.168.0.0/24"]`</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>network.host</code> 参数不支持 <code>0.0.0.0</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Elasticsearch 在老旧硬件上需要关闭机器学习模块，</p>
</div>
<div class="paragraph">
<p>在配置文件中增加参数： <code>xpack.ml.enabled: false</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_elasticstack使用教程">39.3. ElasticStack使用教程</h3>
<div class="paragraph">
<p>我们以 <code>wecompany</code> 公司的员工信息管理为例来学习 <code>Elasticsearch</code> 中的基本操作。</p>
</div>
<div class="sect3">
<h4 id="_索引文档">39.3.1. 索引文档</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">向名称为 <code>wecompany</code> 的索引中添加类型为 <code>employee</code> 的3个员工信息的文档</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X PUT 'http://localhost:9200/wecompany/employee/1?pretty' -d '
{
    "first_name" : "John",
    "last_name" :  "Smith",
    "age" :        25,
    "about" :      "I love to go rock climbing",
    "interests": [ "sports", "music" ]
}
'

curl -H "Content-Type: application/json" -X PUT 'http://localhost:9200/wecompany/employee/2?pretty' -d '
{
    "first_name" :  "Jane",
    "last_name" :   "Smith",
    "age" :         32,
    "about" :       "I like to collect rock albums",
    "interests":  [ "music" ]
}
'

curl -H "Content-Type: application/json" -X PUT 'http://localhost:9200/wecompany/employee/3?pretty' -d '
{
    "first_name" :  "Douglas",
    "last_name" :   "Fir",
    "age" :         35,
    "about":        "I like to build cabinets",
    "interests":  [ "forestry" ]
}
'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_搜索">39.3.2. 搜索</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">获取ID为1的文档</dt>
<dd>
<p><code>curl -X GET 'http://localhost:9200/wecompany/employee/1?pretty'</code></p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "_index" : "wecompany",
  "_type" : "employee",
  "_id" : "1",
  "_version" : 1,
  "found" : true,
  "_source" : {
    "first_name" : "John",
    "last_name" : "Smith",
    "age" : 25,
    "about" : "I love to go rock climbing",
    "interests" : [
      "sports",
      "music"
    ]
  }
}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">搜索姓氏为 <code>Smith</code> 的员工信息</dt>
<dd>
<p><code>curl -X GET 'http://localhost:9200/wecompany/employee/_search?q=last_name:Smith&amp;pretty'</code></p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "took" : 204,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : 2,
    "max_score" : 0.2876821,
    "hits" : [
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "2",
        "_score" : 0.2876821,
        "_source" : {
          "first_name" : "Jane",
          "last_name" : "Smith",
          "age" : 32,
          "about" : "I like to collect rock albums",
          "interests" : [
            "music"
          ]
        }
      },
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "1",
        "_score" : 0.2876821,
        "_source" : {
          "first_name" : "John",
          "last_name" : "Smith",
          "age" : 25,
          "about" : "I love to go rock climbing",
          "interests" : [
            "sports",
            "music"
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">使用查询表达式搜索姓氏为Smith的员工信息</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X GET 'http://localhost:9200/wecompany/employee/_search?pretty' -d '
{
    "query" :  {
        "match" : {
            "last_name" : "Smith"
        }
    }
}
'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>返回结果同上</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">姓氏为Smith且年龄大于30的复杂条件搜索员工信息</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X GET 'http://localhost:9200/wecompany/employee/_search?pretty' -d '
{
    "query": {
        "bool": {
            "must": {
                "match": {
                    "last_name": "smith"
                }
            },
            "filter": {
                "range": {
                    "age": {
                        "gt": 30
                    }
                }
            }
        }
    }
}
'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "took" : 39,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : 1,
    "max_score" : 0.2876821,
    "hits" : [
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "2",
        "_score" : 0.2876821,
        "_source" : {
          "first_name" : "Jane",
          "last_name" : "Smith",
          "age" : 32,
          "about" : "I like to collect rock albums",
          "interests" : [
            "music"
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">全文搜索喜欢攀岩（rock climbing）的员工信息</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X GET 'http://localhost:9200/wecompany/employee/_search?pretty' -d '
{
    "query" :  {
        "match" : {
            "about" : "rock climbing"
        }
    }
}
'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "took" : 10,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : 2,
    "max_score" : 0.5753642,
    "hits" : [
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "1",
        "_score" : 0.5753642,
        "_source" : {
          "first_name" : "John",
          "last_name" : "Smith",
          "age" : 25,
          "about" : "I love to go rock climbing",
          "interests" : [
            "sports",
            "music"
          ]
        }
      },
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "2",
        "_score" : 0.2876821,
        "_source" : {
          "first_name" : "Jane",
          "last_name" : "Smith",
          "age" : 32,
          "about" : "I like to collect rock albums",
          "interests" : [
            "music"
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>此外，将上述请求中的 <code>match</code> 换成 <code>match_phrase</code> 可以精确匹配短语 <code>rock climbing</code> 的结果。在 <code>query</code> 同级添加 <code>highlight</code> 参数可以在结果中用 <code>&lt;em&gt;&lt;/em&gt;</code> 标签标注匹配的关键词:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
"query" :{ ... }
    "highlight" : {
            "fields" : {
                "about" : {}
            }
        }
}</pre>
</div>
</div>
<div class="sect4">
<h5 id="_短语搜索">短语搜索</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">GET /megacorp/employee/_search
{
  "query": {
    "match_phrase": {
      "about": "rock climbing"
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  ...
  "hits": {
    "total": 1,
    "max_score": 0.23013961,
    "hits": [
      {
        ...
        "_score": 0.23013961,
        "_source": {
          "first_name": "John",
          "last_name": "Smith",
          "age": 25,
          "about": "I love to go rock climbing",
          "interests": [
            "sports",
            "music"
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_高亮我们的搜索">高亮我们的搜索</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">GET /megacorp/employee/_search
{
  "query": {
    "match_phrase": {
      "about": "rock climbing"
    }
  },
  "highlight": {
    "fields": {
      "about": {}
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  ...
  "hits": {
    "total": 1,
    "max_score": 0.23013961,
    "hits": [
      {
        ...
        "_score": 0.23013961,
        "_source": {
          "first_name": "John",
          "last_name": "Smith",
          "age": 25,
          "about": "I love to go rock climbing",
          "interests": [
            "sports",
            "music"
          ]
        },
        "highlight": {
          "about": [
            "I love to go &lt;em&gt;rock&lt;/em&gt; &lt;em&gt;climbing&lt;/em&gt;"
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_聚合">39.3.3. 聚合</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">查询聚合结果</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X GET 'http://localhost:9200/wecompany/employee/_search?pretty' -d '
{
    "aggs": {
        "all_interests": {
            "terms": { "field": "interests.keyword" }
        }
    }
}
'</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "took" : 72,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : 3,
    "max_score" : 1.0,
    "hits" : [
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "2",
        "_score" : 1.0,
        "_source" : {
          "first_name" : "Jane",
          "last_name" : "Smith",
          "age" : 32,
          "about" : "I like to collect rock albums",
          "interests" : [
            "music"
          ]
        }
      },
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "1",
        "_score" : 1.0,
        "_source" : {
          "first_name" : "John",
          "last_name" : "Smith",
          "age" : 25,
          "about" : "I love to go rock climbing",
          "interests" : [
            "sports",
            "music"
          ]
        }
      },
      {
        "_index" : "wecompany",
        "_type" : "employee",
        "_id" : "3",
        "_score" : 1.0,
        "_source" : {
          "first_name" : "Douglas",
          "last_name" : "Fir",
          "age" : 35,
          "about" : "I like to build cabinets",
          "interests" : [
            "forestry"
          ]
        }
      }
    ]
  },
  "aggregations" : {
    "all_interests" : {
      "doc_count_error_upper_bound" : 0,
      "sum_other_doc_count" : 0,
      "buckets" : [
        {
          "key" : "music",
          "doc_count" : 2
        },
        {
          "key" : "forestry",
          "doc_count" : 1
        },
        {
          "key" : "sports",
          "doc_count" : 1
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>我们可以看到两个职员对音乐有兴趣,一个喜欢林学,一个喜欢运动。这些数据并没有被预先计算好,它们是实时的从匹配查询语句的文档中动态计算生成的。如果我们想知道所有姓"Smith"的人最大的共同点(兴趣爱好),我们只需要增加合适的语句既可:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">GET /megacorp/employee/_search
{
  "query": {
    "match": {
      "last_name": "smith"
    }
  },
  "aggs": {
    "all_interests": {
      "terms": {
        "field": "interests.keyword"
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>all_interests</code> 聚合已经变成只包含和查询语句相匹配的文档了:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="josn" class="language-josn hljs">{
  ...
  "hits": {
    ...
  },
  "aggregations": {
    "all_interests": {
      "buckets": [
        {
          "key": "music",
          "doc_count": 2
        {
          "key": "sports",
          "doc_count": 1
        }
      ]
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>聚合也允许分级汇总。例如,让我们统计每种兴趣下职员的平均年龄:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">GET /megacorp/employee/_search
{
  "aggs": {
    "all_interests": {
      "terms": {
        "field": "interests.keyword"
      },
      "aggs": {
        "avg_age": {
          "avg": {
            "field": "age"
          }
        }
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>虽然这次返回的聚合结果有些复杂,但任然很容易理解:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  ...
  "hits": {
    ...
  },
  "all_interests": {
    "buckets": [
      {
        "key": "music",
        "doc_count": 2,
        "avg_age": {
          "value": 28.5
        }
      },
      {
        "key": "forestry",
        "doc_count": 1,
        "avg_age": {
          "value": 35
        }
      },
      {
        "key": "sports",
        "doc_count": 1,
        "avg_age": {
          "value": 25
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>该聚合结果比之前的聚合结果要更加丰富。我们依然得到了兴趣以及数量(指具有该兴趣的员工人数)的列表,但是现在每个兴趣额外拥有 <code>avg_age</code> 字段来显示具有该兴趣员工的平均年龄。</p>
</div>
</div>
<div class="sect3">
<h4 id="_更新文档">39.3.4. 更新文档</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">更新ID为2的文档，只需再次PUT即可</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X PUT 'http://localhost:9200/wecompany/employee/2?pretty' -d '
{
    "first_name" :  "Jane",
    "last_name" :   "Smith",
    "age" :         33,
    "about" :       "I like to collect rock albums",
    "interests":  [ "music" ]
}
'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_删除文档">39.3.5. 删除文档</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">curl -H "Content-Type: application/json" -X DELETE 'http://localhost:9200/wecompany/employee/1?pretty'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_结构化查询">39.3.6. 结构化查询</h4>
<div class="sect4">
<h5 id="_最重要的查询过滤语句">最重要的查询过滤语句</h5>
<div class="sect5">
<h6 id="_term_查询">term 查询</h6>
<div class="paragraph">
<p>term 主要用于精确匹配哪些值,比如数字,日期,布尔值或 not_analyzed的字符串(未经分析的文本数据类型):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{ "term": { "age": 26}}
{ "term": { "date": "2014-09-01" }}
{ "term": { "public": true }}
{ "term": { "tag": "full_text"}}</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_terms_查询">terms 查询</h6>
<div class="paragraph">
<p><code>terms</code> 跟 <code>terms</code> 过滤有点类似,但 <code>terms</code> 允许指定多个匹配条件。 如果某个字段指定了多个值,那么文档需要一起去做匹配:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "terms": {
    "tag": [
      "search",
      "full_text",
      "nosql"
    ]
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_range_过滤">range 过滤</h6>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "range": {
    "age": {
      "gte": 20,
      "lt": 30
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>范围操作符包含:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">gt</dt>
<dd>
<p>大于</p>
</dd>
<dt class="hdlist1">gte</dt>
<dd>
<p>大于等于</p>
</dd>
<dt class="hdlist1">lt</dt>
<dd>
<p>小于</p>
</dd>
<dt class="hdlist1">lte</dt>
<dd>
<p>小于等于</p>
</dd>
</dl>
</div>
</div>
<div class="sect5">
<h6 id="_exists_和_missing_过滤">exists 和 missing 过滤</h6>
<div class="paragraph">
<p><code>exists</code> 和 <code>missing</code> 过滤SQL语句中的过滤可以用于查找文档中是否包含指定字段或没有某个字段,类似于 <code>IS_NULL</code> 条件</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "exists": {
    "field": "title"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>这两个过滤只是针对已经查出一批数据来,但是想区分出某个字段是否存在的时候使用。</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_dsl查询实例">39.3.7. DSL查询实例</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "query": {
    "match": {
      "tweet": "elasticsearch"
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "bool": {
    "must": {
      "match": {
        "tweet": "elasticsearch"
      }
    },
    "must_not": {
      "match": {
        "name": "mary"
      }
    },
    "should": {
      "match": {
        "tweet": "full text"
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
  "bool": {
    "must": {
      "match": {
        "email": "business opportunity"
      }
    },
    "should": [
      {
        "match": {
          "starred": true
        }
      },
      {
        "bool": {
          "must": {
            "folder": "inbox"
          },
          "must_not": {
            "spam": true
          }
        }
      }
    ],
    "minimum_should_match": 1
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_从mysql同步数据到elasticsearch">39.4. 从MySQL同步数据到ElasticSearch</h3>
<div class="paragraph">
<p>参考文档：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-jdbc.html">Jdbc input plugin</a></p>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html">Elasticsearch output plugin</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">/usr/share/logstash/bin/logstash-plugin install logstash-input-jdbc

wget -O /usr/share/logstash/lib/mysql-connector-java-8.0.18.jar https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.18/mysql-connector-java-8.0.18.jar

[ ! -d "/data/redas_meta_sync" ] &amp;&amp; mkdir /data/redas_meta_sync/logs
chown -R logstash:logstash /usr/share/logstash/data /data/redas_meta_sync

cat &lt;&lt; EOF &gt;  /data/redas_meta_sync/logstash_mysql_es_.conf
input{
	jdbc {
		# 驱动方式
		jdbc_driver_library =&gt; "/usr/share/logstash/lib/mysql-connector-java-8.0.18.jar"
		# 驱动类名
		jdbc_driver_class =&gt; "com.mysql.cj.jdbc.Driver"
		# mysql 数据库链接,blog为数据库名 &amp;useSSL=false 这个是为了防止不支持ssl连接的问题
		jdbc_connection_string =&gt; "jdbc:mysql://localhost:3306/redas?serverTimezone=Asia/Shanghai&amp;useUnicode=yes&amp;characterEncoding=UTF-8"
		# 连接数据库用户名
		jdbc_user =&gt; "redas"
		# 连接数据库密码
		jdbc_password =&gt; "geek"
		# 是否启用分页
		jdbc_paging_enabled =&gt; "true"
		jdbc_page_size =&gt; "50000"
		# 设置监听间隔  各字段含义（由左至右）分、时、天、月、年，全部为*默认含&gt;义为每分钟都更新
		schedule =&gt; "*/1 * * * * "
		# 直接写sql语句用这个
		statement =&gt; "select `id`, `content` from `recr_page_storage` where id &gt; :sql_last_value order by id"
		# 是否需要记录某个column 的值,如果 record_last_run 为真,可以自定义我们需要 track 的 column 名称，此时该参数就要为 true. 否则默认 track 的是 timestamp 的值
		use_column_value =&gt; true
		# 是否记录上次执行结果, 如果为真,将会把上次执行到的 tracking_column 字段的值记录下来,保存到 last_run_metadata_path 指定的文件中
		record_last_run =&gt; true
		# 如果 use_column_value 为真,需配置此参数. track 的数据库 column 名,该 column 必须是递增的.比如：ID.
		tracking_column_type =&gt; "numeric"
		tracking_column =&gt; "id"
		# 保存上一次运行&gt;的信息(tracking_column)
		last_run_metadata_path =&gt; "/data/redas_meta_sync/last_run.txt"
		# 是否清除 last_run_metadata_path 的记录,如果为真那么每次都相当于从头开始查询所有的数据库记录
		clean_run =&gt; false
	}
}
filter {
      json {
        source =&gt; "content"
        remove_field =&gt; "content"
      }
}
output{
	elasticsearch {
		#这里可以是数组，可以是多个节点的地址，会自动启用负载均衡
		hosts =&gt; ["127.0.0.1:9200"]
		index =&gt; "redas_test"
		# 将表Iid作为ES的主键，防止数据重复
		document_id =&gt; "%{id}"
	}
	file {
		path =&gt; "/data/redas_meta_sync/logs/%{+YYYY-MM-dd}.log"
		codec =&gt; json_lines
	}
}
EOF

cat &lt;&lt; EOF &gt; /usr/lib/systemd/system/redas_meta_sync.service
[Unit]
Description=Redas Position Infomation Auto-Sync to ElasticSearch
After=network.target remote-fs.target nss-lookup.target mysqld.service elasticsearch.service

[Service]
Type=simple
User=logstash
Group=logstash
WorkingDirectory=/data/redas_meta_sync
ExecStart=/usr/share/logstash/bin/logstash -f /data/redas_meta_sync/logstash_mysql_es_.conf -l /data/redas_meta_sync/logs --path.settings /etc/logstash
StandardOutput=null
StandardError=null

[Install]
WantedBy=multi-user.target
EOF

systemctl enable redas_meta_sync
systemctl start redas_meta_sync</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_elasticsearch在线迁移">39.5. ElasticSearch在线迁移</h3>
<div class="paragraph">
<p>参考文档：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-elasticsearch.html">Elasticsearch input plugin</a></p>
</li>
<li>
<p><a href="https://www.elastic.co/guide/en/logstash/current/plugins-outputs-elasticsearch.html">Elasticsearch output plugin</a></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; transfer_es.conf
input {
	elasticsearch {
		hosts =&gt; ["http://192.168.2.4:9200"]
		index =&gt; "*"
		docinfo =&gt; true
	}
}
output {
	elasticsearch {
		hosts =&gt; ["http://127.0.0.1:9200"]
		index =&gt; "%{[@metadata][_index]}"
	}
}
EOF

/usr/share/logstash/bin/logstash -f transfer_es.conf</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_youtube_dl_chapter">40. youtube-dl</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_使用实例_2">40.1. 使用实例</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">youtube-dl --sub-lang en --write-sub --sub-format srt https://www.youtube.com/watch?v=ptVqRCRPN9I
youtube-dl --limit-rate 10M --ignore-errors --convert-subs srt -f 137+140 --sub-lang en --write-sub 'https://www.youtube.com/watch?v=ptVqRCRPN9I'
youtube-dl --ratelimit 1M --ignore-errors --convert-subs srt -f 137+140 --sub-lang en --write-sub 'https://www.youtube.com/watch?v=ptVqRCRPN9I'
youtube-dl -r 20k --ignore-errors --convert-subs srt -f 137+140 --sub-lang en --write-sub 'https://www.youtube.com/watch?v=ptVqRCRPN9I'
youtube-dl -r 20k --ignore-errors --convert-subs srt -f 137+140 --sub-lang en --write-sub 'https://www.youtube.com/watch?v=ptVqRCRPN9I'
youtube-dl -r 1m --ignore-errors --convert-subs srt -f 137+140 --sub-lang en --write-sub 'https://www.youtube.com/watch?v=ptVqRCRPN9I'
youtube-dl -r 1M --ignore-errors --convert-subs srt -f 137+140 --sub-lang en --write-sub 'https://www.youtube.com/watch?v=ptVqRCRPN9I'
youtube-dl -k  --ignore-errors --convert-subs srt --write-auto-sub --batch-file sub.list
youtube-dl -k  --ignore-errors --convert-subs srt --write-auto-sub -w --batch-file sub.list
youtube-dl -s -k  --ignore-errors --convert-subs srt --write-auto-sub -w --batch-file sub.list
youtube-dl --skip-download -k  --ignore-errors --convert-subs srt --write-auto-sub--batch-file sub.list
youtube-dl --skip-download -k  --ignore-errors --convert-subs srt --write-auto-sub --batch-file sub.list
youtube-dl -k -r 10m --ignore-errors --write-auto-sub --convert-subs srt -f 137+140 'https://www.youtube.com/user/theofficialpeppa/videos'
youtube-dl  --write-auto-sub --convert-subs srt -f 18 'https://www.youtube.com/watch?v=ZczS3DbCDwU'
youtube-dl -F 'https://www.youtube.com/user/theofficialpeppa/videos'
youtube-dl -F 'https://www.youtube.com/watch?v=ZczS3DbCDwU'
youtube-dl  --write-auto-sub --convert-subs srt -f 135+140 'https://www.youtube.com/watch?v=ZczS3DbCDwU'
youtube-dl  --write-auto-sub --convert-subs srt -f 135+140 'https://www.youtube.com/watch?v=ZczS3DbCDwU'
youtube-dl -k --ignore-errors --convert-subs srt -f 137+140 -j --sub-lang en --write-sub 'https://www.youtube.com/user/rachelsenglish/videos'
youtube-dl -F 'https://www.youtube.com/watch?v=qKs6L92qoKo'
youtube-dl -f 22  'https://www.youtube.com/watch?v=qKs6L92qoKo'
youtube-dl -F 'https://www.youtube.com/watch?v=OC6AFSZLtnk&amp;list=PLsVSF-hJhvBKHs3gYB90seTLUwZW0qZUN&amp;index=7'
youtube-dl  -F 'https://www.youtube.com/watch?v=iBKOVdhR22c&amp;list=PLsVSF-hJhvBKHs3gYB90seTLUwZW0qZUN&amp;index=6'
youtube-dl -F 'https://www.youtube.com/watch?v=OC6AFSZLtnk'
youtube-dl -L 'https://www.youtube.com/watch?v=OC6AFSZLtnk'
youtube-dl -F 'https://www.youtube.com/watch?v=OC6AFSZLtnk'
youtube-dl -U
youtube-dl -F 'https://www.youtube.com/watch?v=OC6AFSZLtnk'
youtube-dl -f137+140 'https://www.youtube.com/watch?v=OC6AFSZLtnk'
youtube-dl -F 'https://www.youtube.com/watch?v=lrDlTEbHw3g'
youtube-dl -f 137+140 'https://www.youtube.com/watch?v=lrDlTEbHw3g'
youtube-dl -U  to update
youtube-dl -f 137+140 'https://www.youtube.com/watch?v=lrDlTEbHw3g'</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_maven_chapter">41. maven</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_12">41.1. 安装配置</h3>
<div class="sect3">
<h4 id="_全局源_2">41.1.1. 全局源</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; ~/.m2/settings.xml
&lt;settings&gt;
  &lt;mirrors&gt;
    &lt;mirror&gt;
      &lt;id&gt;aliyun&lt;/id&gt;
      &lt;name&gt;Aliyun Central&lt;/name&gt;
        &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;/mirror&gt;
  &lt;/mirrors&gt;
&lt;/settings&gt;
EOF</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_使用方法_2">41.2. 使用方法</h3>
<div class="sect3">
<h4 id="_build_lifecycle">41.2.1. Build Lifecycle</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">mvn clean</dt>
<dd>
<p>清除</p>
</dd>
<dt class="hdlist1">mvn compile</dt>
<dd>
<p>编译，compile the source code of the project</p>
</dd>
<dt class="hdlist1">mvn validate</dt>
<dd>
<p>验证mvn配置，validate the project is correct and all necessary information is available</p>
</dd>
<dt class="hdlist1">mvn test</dt>
<dd>
<p>运行单元测试，test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed</p>
</dd>
<dt class="hdlist1">mvn verify</dt>
<dd>
<p>验证编译后的程序，run any checks on results of integration tests to ensure quality criteria are met</p>
</dd>
<dt class="hdlist1">mvn install</dt>
<dd>
<p>安装应用到maven目录，install the package into the local repository, for use as a dependency in other projects locally</p>
</dd>
<dt class="hdlist1">mvn deploy</dt>
<dd>
<p>编译，done in the build environment, copies the final package to the remote repository for sharing with other developers and projects.</p>
</dd>
<dt class="hdlist1">mvn package</dt>
<dd>
<p>打包，take the compiled code and package it in its distributable format, such as a JAR.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a href="https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html" class="bare">https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html</a></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">mvn compile war:war</dt>
<dd>
<p>Build a WAR file.</p>
</dd>
<dt class="hdlist1">mvn war:exploded</dt>
<dd>
<p>Create an exploded webapp in a specified directory.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a href="https://maven.apache.org/plugins/maven-war-plugin/plugin-info.html" class="bare">https://maven.apache.org/plugins/maven-war-plugin/plugin-info.html</a></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">启动springboot</dt>
<dd>
<p>mvn spring-boot:run</p>
</dd>
<dt class="hdlist1">使用Java启动jar包</dt>
<dd>
<p>java -jar target/accessing-data-jpa-0.0.1-SNAPSHOT.jar</p>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_MongoDB_chapter">42. MongoDB</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_13">42.1. 安装配置</h3>
<div class="paragraph">
<p><strong>基于 CentOS8</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">官方安装文档</dt>
<dd>
<p><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-red-hat/">Install MongoDB Community Edition on Red Hat or CentOS</a></p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_安装_8">42.1.1. 安装</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &gt; /etc/yum.repos.d/mongodb-org-4.2.repo &lt;&lt; EOF
[mongodb-org-4.2]
name=MongoDB Repository
baseurl=https://repo.mongodb.org/yum/redhat/\$releasever/mongodb-org/4.2/x86_64/
gpgcheck=1
enabled=1
gpgkey=https://www.mongodb.org/static/pgp/server-4.2.asc
EOF

dnf install -y mongodb-org</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_文件目录结构">文件目录结构</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">配置文件</dt>
<dd>
<p>/etc/mongod.conf （YML格式）</p>
</dd>
</dl>
</div>
<div class="olist loweralpha">
<div class="title">配置文件说明</div>
<ol class="loweralpha" type="a">
<li>
<p><code>storage.dbPath</code>： 指定数据目录，默认 <code>/var/lib/mongo</code></p>
</li>
<li>
<p><code>systemLog.path</code>： 指定日志目录，默认 <code>/var/log/mongodb</code></p>
</li>
<li>
<p><code>net.port</code>： 指定监听端口，默认 <code>27017</code></p>
</li>
<li>
<p><code>net.bindIp</code>： 指定监听IP，默认 <code>127.0.0.1</code></p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
默认情况下，只有 <code>mongod</code> 用户有数据目录和日志目录的读写权限。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置_8">42.1.2. 配置</h4>
<div class="sect4">
<h5 id="_禁用selinux重启生效">禁用SELINUX（重启生效）</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo SELINUX=disabled&gt;/etc/selinux/config
echo SELINUXTYPE=targeted&gt;&gt;/etc/selinux/config</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_设置_ulimit">设置 <code>ulimit</code></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "*               soft   nofile            65535" &gt;&gt; /etc/security/limits.conf
echo "*               hard   nofile            65535" &gt;&gt; /etc/security/limits.conf</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_其它优化">其它优化</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'never' &gt; /sys/kernel/mm/transparent_hugepage/enabled</code></pre>
</div>
</div>
<div class="paragraph">
<p>这个设置需要每次开机时设置，需要自行处理。</p>
</div>
</div>
<div class="sect4">
<h5 id="_启用权限验证">启用权限验证</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo 'security:' &gt;&gt; /etc/mongod.conf
echo '  authorization: enabled' &gt;&gt; /etc/mongod.conf</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_开机启动_3">开机启动</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>开机启动 <code>systemctl enable mongod</code></p>
</li>
<li>
<p>禁用启动 <code>systemctl disable mongod</code></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_服务管理">服务管理</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>启动服务 <code>systemctl start mongod</code></p>
</li>
<li>
<p>查看状态 <code>systemctl status mongod</code></p>
</li>
<li>
<p>重启服务 <code>systemctl restart mongod</code></p>
</li>
<li>
<p>停止服务 <code>systemctl stop mongod</code></p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_验证服务">验证服务</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>查看端口 <code>ss -antpl|grep 27017</code></p>
</li>
<li>
<p>查看启动日志 <code>grep 'waiting for connections' /var/log/mongodb/mongod.log</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs"># grep 'waiting for connections' /var/log/mongodb/mongod.log
2019-10-24T20:41:22.920+0800 I  NETWORK  [initandlisten] waiting for connections on port 27017</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_创建用户_2">42.1.3. 创建用户</h4>
<div class="sect4">
<h5 id="_创建root帐号">创建root帐号</h5>
<div class="paragraph">
<p>进入控制台：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs"># mongo
MongoDB shell version v4.2.8
connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&amp;gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("62e222b7-8022-443c-b355-53d1a0dcdea0") }
MongoDB server version: 4.2.8
&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>切换到 admin 数据库：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">&gt; use admin</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="text" class="language-text hljs">&gt; db.createUser(
  {
    user: "root",
    pwd: "thcl",
    roles: [ "root"]
  }
)</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>切换到 admin 数据库，然后可以用 <code>db.dropUser("root")</code> 命令删除用户。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_创建普通用户">创建普通用户</h5>
<div class="paragraph">
<p>用刚才设置的root密码登录：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs"># mongo -uroot -pthcl
MongoDB shell version v4.2.8
connecting to: mongodb://127.0.0.1:27017/?compressors=disabled&amp;gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("a7541379-f92f-4d68-9060-36d2f9e7839b") }
MongoDB server version: 4.2.8
---
Enable MongoDB's free cloud-based monitoring service, which will then receive and display
metrics about your deployment (disk utilization, CPU, operation statistics, etc).

The monitoring data will be available on a MongoDB website with a unique URL accessible to you
and anyone you share the URL with. MongoDB may use this information to make product
improvements and to suggest MongoDB products and deployment options to you.

To enable free monitoring, run the following command: db.enableFreeMonitoring()
To permanently disable this reminder, run the following command: db.disableFreeMonitoring()
---

&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>切换到 thcl 数据库，如果不存在则自动创建：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">&gt; use thcl</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="text" class="language-text hljs">&gt; db.createUser(
  {
    user: "thcl",
    pwd: "thcl",
    roles: [ { role: "readWrite", db: "thcl" } ]
  }
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>测试新用户登录：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs"># mongo -uthcl -pthcl thcl
MongoDB shell version v4.2.8
connecting to: mongodb://127.0.0.1:27017/thcl?compressors=disabled&amp;gssapiServiceName=mongodb
Implicit session: session { "id" : UUID("509c1c6f-55c6-406e-ab13-3e8deb76bd66") }
MongoDB server version: 4.2.8
&gt; db
thcl
&gt;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_LinuxWifiDriver_chapter">43. Linux Wifi Driver</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_tl_wdn5200h">43.1. TL_WDN5200H</h3>
<div class="sect3">
<h4 id="_centos8_安装驱动">43.1.1. CentOS8 安装驱动</h4>
<div class="listingblock">
<div class="title">安装工具</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y mlocate vim pciutils usbutils</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">配置中文支持</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y glibc-locale-source
localedef -c -f UTF-8 -i zh_CN zh_CN.UTF-8</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">安装wifi驱动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y git make gcc kernel-devel elfutils-libelf-devel bc usb_modeswitch

git clone https://github.com/brektrou/rtl8821CU
cd rtl8821CU
make -j4
make install</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">手动加载驱动</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">modprobe 8821cu</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">设置开机加载rtl8821cu USB Wifi驱动（必须关闭SELINUX）</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo SELINUX=disabled&gt;/etc/selinux/config
echo SELINUXTYPE=targeted&gt;&gt;/etc/selinux/config

cat &lt;&lt;EOF &gt; /etc/sysconfig/modules/rtl8821cu.modules
#！/bin/sh
modinfo /usr/lib/modules/\$(uname -r)/kernel/drivers/net/wireless/realtek/rtl8821cu/8821cu.ko 8821cu &gt; /dev/null 2&gt;&amp;1

if [ \$? -eq 0 ]; then
    /sbin/modprobe 8821cu
fi
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查找USB网卡</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">lsusb|grep Realtek|grep 1a2b</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">切换USB网卡模式：存储模式&#8594;网卡模式</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">usb_modeswitch -KW -v  0bda -p 1a2b</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">安装NetworkManager wifi插件</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y NetworkManager-wifi</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看网络连接状态</div>
<div class="content">
<pre># nmcli connection show
NAME    UUID                                  TYPE      DEVICE
enp2s0  85631024-b228-4294-bccc-85238ebf288d  ethernet  --</pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看网卡状态</div>
<div class="content">
<pre># nmcli dev status
DEVICE       TYPE      STATE        CONNECTION
wlp0s18f2u2  wifi      unmanaged    gc
enp2s0       ethernet  unavailable  --
lo           loopback  unmanaged    --</pre>
</div>
</div>
<div class="listingblock">
<div class="title">接管网卡管理</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli device set wlp0s29u1u8 managed yes</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看wifi信号列表</div>
<div class="content">
<pre># nmcli dev wifi list
IN-USE  SSID                 MODE   CHAN  RATE        SIGNAL  BARS  SECURITY
        成都极客营           Infra  6     270 Mbit/s  100     ▂▄▆█  WPA1 WPA2
        成都极客营2          Infra  11    130 Mbit/s  100     ▂▄▆█  WPA1 WPA2
        成都极客营_5G        Infra  153   540 Mbit/s  100     ▂▄▆█  WPA1 WPA2
        成都极客营2_5G       Infra  157   270 Mbit/s  99      ▂▄▆█  WPA1 WPA2
        ChinaNet-hkKn        Infra  13    130 Mbit/s  87      ▂▄▆█  WPA1 WPA2
        --                   Infra  6     270 Mbit/s  60      ▂▄▆_  WPA2
        ChinaNet-YDsX        Infra  9     130 Mbit/s  57      ▂▄▆_  WPA1 WPA2
        ChinaNet-9iv9        Infra  2     130 Mbit/s  54      ▂▄__  WPA1 WPA2
        --                   Infra  6     270 Mbit/s  50      ▂▄__  WPA2
        M                    Infra  6     270 Mbit/s  49      ▂▄__  WPA2
        42B626-TS3100series  Infra  13    65 Mbit/s   49      ▂▄__  WPA2
        ChinaNet-hkKn-5G     Infra  36    270 Mbit/s  44      ▂▄__  WPA1 WPA2</pre>
</div>
</div>
<div class="listingblock">
<div class="title">连接wifi，DHCP动态分配IP地址</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli dev wifi connect 成都极客营_5G password geek8888</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">开机自动连接wifi，并使用静态IP</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli connection \
    add type wifi \
    con-name gc \
    autoconnect yes \
    ssid 成都极客营_5G \
    wifi-sec.key-mgmt wpa-psk \
    wifi-sec.psk geek8888 \
    ifname wlp0s18f2u2 \
    ip4 192.168.0.4/24 \
    gw4 192.168.0.1 \
    ipv4.dns "223.5.5.5 223.6.6.6"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">add type</dt>
<dd>
<p>指定网络连接类型</p>
</dd>
<dt class="hdlist1">con-name</dt>
<dd>
<p>网络连接名称</p>
</dd>
<dt class="hdlist1">autoconnect yes</dt>
<dd>
<p>开机自动连接wifi</p>
</dd>
<dt class="hdlist1">ssid</dt>
<dd>
<p>wifi网络名称</p>
</dd>
<dt class="hdlist1">wifi-sec.key-mgmt</dt>
<dd>
<p>wifi加密类型</p>
</dd>
<dt class="hdlist1">wifi-sec.psk</dt>
<dd>
<p>wifi密码</p>
</dd>
<dt class="hdlist1">ifname</dt>
<dd>
<p>网卡名称</p>
</dd>
<dt class="hdlist1">ip4</dt>
<dd>
<p>静态IP地址</p>
</dd>
<dt class="hdlist1">gw4</dt>
<dd>
<p>网关地址</p>
</dd>
<dt class="hdlist1">ipv4.dns</dt>
<dd>
<p>DNS列表，使用空格分隔</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">手动启用wifi连接</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli con up gc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">开机自动连接wifi</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">nmcli device set wlp0s18f2u2 autoconnect yes</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Kafka_chapter">44. Kafka</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_14">44.1. 安装配置</h3>
<div class="sect3">
<h4 id="_linux">44.1.1. Linux</h4>
<div class="sect4">
<h5 id="_安装_9">安装</h5>
<div class="listingblock">
<div class="title">下载解压</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir ~/downloads
cd ~/downloads
rm -rf kafka_2.12-2.3.1 kafka_2.12-2.3.1.tgz /usr/local/kafka_2.12-2.3.1
wget -c http://mirrors.tuna.tsinghua.edu.cn/apache/kafka/2.3.1/kafka_2.12-2.3.1.tgz
tar xf kafka_2.12-2.3.1.tgz
mv kafka_2.12-2.3.1 /usr/local/kafka_2.12-2.3.1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动 ZooKeeper</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">bin/zookeeper-server-start.sh config/zookeeper.properties</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动 Kafka</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">bin/kafka-server-start.sh config/server.properties</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_topic">Topic</h5>
<div class="listingblock">
<div class="title">创建 Topic</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">bin/kafka-topics.sh --create --bootstrap-server 192.168.2.2:9092 --replication-factor 1 --partitions 1 --topic test</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看 Topic 列表</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">bin/kafka-topics.sh --list --bootstrap-server 192.168.2.2:9092</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_测试_2">测试</h5>
<div class="listingblock">
<div class="title">启动生产者发送消息</div>
<div class="content">
<pre># bin/kafka-console-producer.sh --broker-list 192.168.2.2:9092 --topic test
This is a message
This is another message</pre>
</div>
</div>
<div class="listingblock">
<div class="title">启动消费者接收消息</div>
<div class="content">
<pre># bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning
This is a message
This is another message</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_windows">44.1.2. Windows</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bat" class="language-bat hljs">bin\windows\zookeeper-server-start.bat config\zookeeper.properties

bin\windows\kafka-server-start.bat config\server.properties

bin\windows\kafka-topics.bat --create --bootstrap-server localhost:9092 --replication-factor 1 --partitions 1 --topic test

bin\windows\kafka-topics.bat --list --bootstrap-server localhost:9092

bin\windows\kafka-console-producer.bat --broker-list localhost:9092 --topic test

bin\windows\kafka-console-consumer.bat --bootstrap-server 192.168.2.2:9092 --topic test --from-beginning</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置_9">44.1.3. 配置</h4>
<div class="paragraph">
<p>开启对外端口监听，编辑文件 <code>config/server.properties</code> 修改以下参数：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">advertised.listeners=PLAINTEXT://0.0.0.0:9092</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Pure-FTPd_chapter">45. Pure-FTPd</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_15">45.1. 安装配置</h3>
<div class="sect3">
<h4 id="_centos6_安装">45.1.1. CentOS6 安装</h4>
<div class="listingblock">
<div class="title">安装EPEL源</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y epel-release</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">安装Pure-FTPd</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y pure-ftpd</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">chkconfig pure-ftpd on</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">生成配置文件</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/pure-ftpd/pure-ftpd.conf
AllowAnonymousFXP no
AllowUserFXP no
AltLog w3c:/var/log/pureftpd.log
AnonymousCanCreateDirs no
AnonymousCantUpload yes
AnonymousOnly no
AntiWarez yes
AutoRename no
BrokenClientsCompatibility yes
ChrootEveryone yes
CreateHomeDir no
CustomerProof no
Daemonize yes
DisplayDotFiles yes
DontResolve yes
IPV4Only yes
LimitRecursion 10000 8
MaxClientsNumber 200
MaxClientsPerIP 8
MaxDiskUsage 99
MaxIdleTime 15
MaxLoad 4
MinUID 45
PureDB /etc/pure-ftpd/pureftpd.pdb
NoAnonymous yes
NoChmod no
ProhibitDotFilesRead no
ProhibitDotFilesWrite no
SyslogFacility ftp
Umask 077:077
VerboseLog no
PassivePortRange 52000 52050
#加密通信
#0代表明文，默认值
#2代表控制链接加密但数据链接不加密
#3代表所有链接都加密
TLS 2
EOF</code></pre>
</div>
</div>
<div class="paragraph">
<p>参考：https://download.pureftpd.org/pub/pure-ftpd/doc/README.TLS</p>
</div>
<div class="listingblock">
<div class="title">生成密钥</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">mkdir -p /etc/ssl/private
openssl dhparam -out /etc/ssl/private/pure-ftpd-dhparams.pem 2048
chmod 600 /etc/ssl/private/*.pem

mkdir -p /etc/pki/pure-ftpd/
openssl req -x509 -nodes -days 7300 -newkey rsa:2048 -keyout /etc/pki/pure-ftpd/pure-ftpd.pem -out /etc/pki/pure-ftpd/pure-ftpd.pem
chmod 600 /etc/pki/pure-ftpd/pure-ftpd.pem</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">新增FTP用户</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y pwgen

# 生成FTP随机密码
ftp_password=`pwgen -s 20`
echo $ftp_password&gt; pw.txt
echo $ftp_password&gt;&gt; pw.txt
cat pw.txt

pure-pw userdel admin
pure-pw useradd admin -u nginx -g nginx -d /data/ -m &lt; pw.txt
rm -f pw.txt
pure-pw mkdb
pure-pw show admin</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">测试</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y lftp

lftp  -u admin,XKeJVhlCXfHdQmessy4f localhost &lt;&lt;EOF
set ftp:ssl-force true
set ftp:ssl-protect-data true
set ssl:verify-certificate no
mkdir test
ls
rmdir test
ls
quit
EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">删除用户</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pure-pw userdel myftp
pure-pw mkdb
pure-pw list</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Shadowsocks_chapter">46. Shadowsocks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_16">46.1. 安装配置</h3>
<div class="sect3">
<h4 id="_centos7">46.1.1. CentOS7</h4>
<div class="sect4">
<h5 id="_升级内核以支持_tcp_bbr">升级内核以支持 <code>TCP BBR</code></h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
yum install -y https://www.elrepo.org/elrepo-release-7.0-4.el7.elrepo.noarch.rpm
yum --enablerepo=elrepo-kernel install -y kernel-ml

lastest_kernel=`grep "menuentry 'CentOS Linux" /boot/grub2/grub.cfg|awk -F "'" '{print $2}'|head -n 1`
grub2-set-default "$lastest_kernel"

rm -f /boot/grub2/grub.cfg.bak
cp /boot/grub2/grub.cfg /boot/grub2/grub.cfg.bak
grub2-mkconfig -o /boot/grub2/grub.cfg</code></pre>
</div>
</div>
<div class="paragraph">
<p>然后，重启系统。</p>
</div>
</div>
<div class="sect4">
<h5 id="_开启_tcp_bbr_塞控制算法">开启 <code>TCP BBR</code> 塞控制算法</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>开机后执行 <code>uname -r</code> 确认内核版本 &gt;= 4.9</p>
</li>
<li>
<p>加载内核模块</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">modprobe tcp_bbr
echo "tcp_bbr" | tee --append /etc/modules-load.d/modules.conf</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>确认加载</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre># lsmod | grep bbr
tcp_bbr                20480  31</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>设置网络参数</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "net.core.default_qdisc=fq" &gt;&gt; /etc/sysctl.conf
echo "net.ipv4.tcp_congestion_control=bbr" &gt;&gt; /etc/sysctl.conf
sysctl -p</code></pre>
</div>
</div>
<div class="paragraph">
<p>查看网络参数。如果结果都有 bbr，则证明你的内核已开启 BBR</p>
</div>
<div class="listingblock">
<div class="content">
<pre># sysctl net.ipv4.tcp_available_congestion_control
net.ipv4.tcp_available_congestion_control = reno cubic bbr

# sysctl net.ipv4.tcp_congestion_control
net.ipv4.tcp_congestion_control = bbr</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_安装_shadowsocks">46.1.2. 安装 <code>Shadowsocks</code></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>更新OpenSSL证书 <code>/etc/pki/tls/certs/ca-bundle.crt</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum update -y openssl</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>安装依赖</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">yum install -y python-pip python python-setuptools python-devel libffi-devel openssl-devel gcc
pip install --upgrade pip
pip install --upgrade ordereddict backport-ipaddress setuptools urllib3
pip install pyopenssl ndg-httpsclient pyasn</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>安装 <code>Shadowsocks</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip install shadowsocks</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置_shadowsocks">46.1.3. 配置 <code>Shadowsocks</code></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>生成配置文件</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/shadowsocks.json
{
    "server":"0.0.0.0",
    "server_port":端口,
    "password":"随机密码",
    "timeout":300,
    "method":"aes-256-cfb",
    "fast_open":false,
    "workers":3
}
EOF</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>生成service文件</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt;EOF &gt; /usr/lib/systemd/system/shadowsocks.service
[Unit]
Description=Shadowsocks Service
After=network.target

[Service]
Type=simple
User=nobody
PIDFile=/tmp/shadowsocks.pid
ExecStart=/usr/bin/ssserver -c /etc/shadowsocks.json --log-file /var/log/shadowsocks.log --pid-file /tmp/shadowsocks.pid -d start

[Install]
WantedBy=multi-user.target
EOF</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>设置文件权限</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">touch /var/log/shadowsocks.log
chown nobody /var/log/shadowsocks.log</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>开机启动</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl enable shadowsocks
systemctl start shadowsocks
systemctl status shadowsocks</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>增加 firewalld 防火墙设置</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">firewall-cmd --zone=public --add-port=端口/tcp --permanent
firewall-cmd --reload</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>确认 firewalld 防火墙设置</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">firewall-cmd --list-all</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_centos7_一键安装脚本">CentOS7 一键安装脚本</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">#!/bin/sh

mkdir ~/.ssh

echo 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDLGJVJI1Cqr59VH1NVQgPs08n7e/HRc2Q8AUpOWGoJpVzIgjO+ipjqwnxh3eiBd806eXIIa5OFwRm0fYfMFxBOdo3l5qGtBe82PwTotdtpcacP5Dkrn+HZ1kG+cf0BNSF5oXbTCTrqY12/T8h4035BXyRw7+MuVPiCUhydYs3RgsODA47ZR3owgjvPsayUd5MrD8gidGqv1zdyW9nQXnXB7m9Sn9Mg8rk6qBxQUbtMN9ez0BFrUGhXCkW562zhJjP5j4RLVfvL2N1bWT9EoFTCjk55pv58j+PTNEGUmu8PrU8mtgf6zQO871whTD8/H6brzaMwuB5Rd5OYkVir0BXj fifilyu@archlinux' &gt;&gt; ~/.ssh/authorized_keys

chmod 600 ~/.ssh/authorized_keys

yum install -y epel-release

yum install -y pwgen vim
ss_server_port=8080

# SS密码
ss_pwd=`pwgen -n 20|head -n 1`
echo "SS密码：$ss_pwd"

# 1. 第一阶段，安装最新版内核以支持tcp_bbr

rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org
yum install -y https://www.elrepo.org/elrepo-release-7.0-4.el7.elrepo.noarch.rpm
yum --enablerepo=elrepo-kernel install -y kernel-ml

lastest_kernel=`grep "menuentry 'CentOS Linux" /boot/grub2/grub.cfg|awk -F "'" '{print $2}'|head -n 1`

grub2-set-default "$lastest_kernel"

rm -f /boot/grub2/grub.cfg.bak
cp /boot/grub2/grub.cfg /boot/grub2/grub.cfg.bak
grub2-mkconfig -o /boot/grub2/grub.cfg

#reboot

# 2. 第二阶段，设置并启用tcp_bbr模块及其参数
# 开机后 uname -r 看看是不是内核 &gt;= 4.9。
uname -r

# 加载内核模块
modprobe tcp_bbr
echo "tcp_bbr" | tee --append /etc/modules-load.d/modules.conf
# 确认加载
lsmod | grep bbr

# 设置网络参数
echo "net.core.default_qdisc=fq" &gt;&gt; /etc/sysctl.conf
echo "net.ipv4.tcp_congestion_control=bbr" &gt;&gt; /etc/sysctl.conf
# 生效配置
sysctl -p

# 检验参数。如果结果都有 bbr，则证明你的内核已开启 BBR。
sysctl net.ipv4.tcp_available_congestion_control
sysctl net.ipv4.tcp_congestion_control

# 3. 第三阶段，安装ss服务

# 更新OpenSSL证书 /etc/pki/tls/certs/ca-bundle.crt
yum update -y openssl

# 安装ss依赖
yum install -y python-pip python python-setuptools python-devel libffi-devel openssl-devel gcc
pip install --upgrade pip
pip install --upgrade ordereddict backport-ipaddress setuptools urllib3
pip install pyopenssl ndg-httpsclient pyasn
pip install shadowsocks

# 配置文件
cat &lt;&lt; EOF &gt; /etc/shadowsocks.json
{
    "server":"0.0.0.0",
    "server_port":$ss_server_port,
    "password":"$ss_pwd",
    "timeout":300,
    "method":"aes-256-cfb",
    "fast_open":false,
    "workers":3
}
EOF

# 服务文件
cat &lt;&lt;EOF &gt; /usr/lib/systemd/system/shadowsocks.service
[Unit]
Description=Shadowsocks Service
After=network.target

[Service]
Type=simple
User=nobody
PIDFile=/tmp/shadowsocks.pid
ExecStart=/usr/bin/ssserver -c /etc/shadowsocks.json --log-file /var/log/shadowsocks.log --pid-file /tmp/shadowsocks.pid -d start

[Install]
WantedBy=multi-user.target
EOF

# 设置文件权限
touch /var/log/shadowsocks.log
chown nobody /var/log/shadowsocks.log

# 设置开机启动
systemctl enable shadowsocks
systemctl start shadowsocks
systemctl status shadowsocks

# （可选）增加 firewalld 防火墙设置
firewall-cmd --zone=public --add-port=$ss_server_port/tcp --permanent
firewall-cmd --reload

# 查看确认
firewall-cmd --list-all

# 最后，重启系统生效。</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_WSL_chapter">47. WSL</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_修复wsl文件权限问题">47.1. 修复WSL文件权限问题</h3>
<div class="paragraph">
<p>参考：</p>
</div>
<div class="paragraph">
<p><a href="https://www.turek.dev/post/fix-wsl-file-permissions/">Fix Windows Subsystem for Linux (WSL) File Permissions</a></p>
</div>
<div class="paragraph">
<p><a href="https://devblogs.microsoft.com/commandline/chmod-chown-wsl-improvements/">Chmod/Chown WSL Improvements</a></p>
</div>
<div class="paragraph">
<p>安装 <code>WSL</code> 后，使用 <code>ls</code> 查看文件权限全部是 <code>777</code>，还伴随着其它权限问题。</p>
</div>
<div class="sect3">
<h4 id="_解决方法_2">47.1.1. 解决方法</h4>
<div class="listingblock">
<div class="title">修复WSL挂载问题</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; /etc/wsl.conf
[automount]
enabled = true
options = "metadata,umask=22,fmask=11"
EOF</code></pre>
</div>
</div>
<div class="olist arabic">
<div class="title">参数解释</div>
<ol class="arabic">
<li>
<p><code>automount</code> 节点修改自动挂载到 <code>/mnt</code> 下的驱动设置</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>enabled</code> 关键字可能不是必须的。不过，自动挂载时这个参数默认启用。</p>
</li>
<li>
<p><code>options</code> 设置稍微有趣一些</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><strong>metadata</strong>: Linux permissions are added as additional <code>metadata</code> to the file. This means a file can have Linux *and *Windows read/write/execute permission bits.</p>
</li>
<li>
<p><strong>umask:</strong> 限制所有文件和目录权限的掩码</p>
</li>
<li>
<p><strong>fmask:</strong> 限制所有文件权限的掩码</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>重启WSL，Windows硬盘上的文件和文件夹权限已经能够正常显示。</p>
</div>
<div class="paragraph">
<p>不过，新建文件或目录权限还是777权限。需要做以下设置：</p>
</div>
<div class="listingblock">
<div class="title">修复WSL中默认权限问题</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt;&gt; ~/.bashrc
if grep -q Microsoft /proc/version; then
    if [ "\$(umask)" == '0000' ]; then
        umask 0022
    fi
fi
EOF</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
增加此配置后，有些文件 权限必须ls一次才会正常。建议弃用此配置。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>然后，执行 <code>source ~/.bashrc</code> 或者 重启WSL。</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Aliyun_chapter">48. Aliyun</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_cli工具">48.1. CLI工具</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">阿里云CLI文档</dt>
<dd>
<p><a href="https://help.aliyun.com/document_detail/121541.html" class="bare">https://help.aliyun.com/document_detail/121541.html</a></p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_安装_10">48.1.1. 安装</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cd ~/Downloads
wget -O aliyun-cli-linux-latest-amd64.tgz https://aliyuncli.alicdn.com/aliyun-cli-linux-latest-amd64.tgz
tar xf aliyun-cli-linux-latest-amd64.tgz
mv aliyun /usr/local/bin

aliyun help</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_配置凭证">48.1.2. 配置凭证</h4>
<div class="dlist">
<div class="title">启用 AccessKey</div>
<dl>
<dt class="hdlist1">在控制台启用 AccessKey</dt>
<dd>
<p><a href="https://usercenter.console.aliyun.com/#/manage/ak" class="bare">https://usercenter.console.aliyun.com/#/manage/ak</a></p>
</dd>
<dt class="hdlist1">常见的通用选项如下，其适用于任一凭证类型</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>--profile（必选）：指定配置名称。如果指定的配置存在，则修改配置。若不存在，则创建配置。</p>
</li>
<li>
<p>--region（必选）：指定默认区域的RegionId。阿里云支持的RegionId，请参见 <a href="https://help.aliyun.com/document_detail/40654.html">地域和可用区</a>。</p>
</li>
<li>
<p>--language：指定阿里云CLI显示的语言，默认为英语。</p>
</li>
<li>
<p>--mode：指定配置的凭证类型，默认为AK。</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">非交互式配置默认的AccessKey凭证</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun configure set \
    --profile default \
    --mode AK \
    --region ap-northeast-1 \
    --access-key-id AccessKeyId字符串 \
    --access-key-secret AccessKeySecret字符串</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>ap-northeast-1</code> 为日本东京
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">交互式配置默认的AccessKey凭证</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun configure --profile default</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看配置列表</div>
<div class="content">
<pre>[mk@archlinux ~]$ aliyun configure list
Profile   | Credential         | Valid   | Region           | Language
--------- | ------------------ | ------- | ---------------- | --------
default * | AK:***MWZ          | Valid   | cd               | zh</pre>
</div>
</div>
<div class="listingblock">
<div class="title">查看帮助信息</div>
<div class="content">
<pre>[mk@archlinux ~]$ aliyun help
阿里云CLI命令行工具 3.0.32

Usage:
  aliyun &lt;product&gt; &lt;operation&gt; [--parameter1 value1 --parameter2 value2 ...]

Flags:
  --mode              使用 `--mode {AK|StsToken|RamRoleArn|EcsRamRole|RsaKeyPair|RamRoleArnWithRoleName}` 指定认证方式
  --profile,-p        使用 `--profile &lt;profileName&gt;` 指定操作的配置集
  --language          使用 `--language [en|zh]` 来指定语言
  --region            使用 `--region &lt;regionId&gt;` 来指定访问大区
......

Sample:
  aliyun ecs DescribeRegions

Products:
......
  cdn           CDN
  csb           云服务总线 CSB
  dds           云数据库 MongoDB 版
  dm            邮件推送
  domain        域名
  domain-intl   域名
  drds          分布式关系型数据库服务 DRDS
  eci           Elastic Container Instances
  ecs           云服务器 ECS
  edas          企业级分布式应用服务EDAS
  elasticsearch elasticsearch
......

Use `aliyun --help` for more information.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ecs">48.1.3. ECS</h4>
<div class="listingblock">
<div class="title">查询可选区域</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs DescribeRegions</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">输出结果</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
	"RequestId": "076E9C9E-FE75-4136-BB4A-6E6A2212F2B3",
	"Regions": {
		"Region": [
			{
				"RegionId": "cn-qingdao",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "华北 1"
			},
			{
				"RegionId": "cn-beijing",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "华北 2"
			},
			{
				"RegionId": "cn-zhangjiakou",
				"RegionEndpoint": "ecs.cn-zhangjiakou.aliyuncs.com",
				"LocalName": "华北 3"
			},
			{
				"RegionId": "cn-huhehaote",
				"RegionEndpoint": "ecs.cn-huhehaote.aliyuncs.com",
				"LocalName": "华北 5"
			},
			{
				"RegionId": "cn-hangzhou",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "华东 1"
			},
			{
				"RegionId": "cn-shanghai",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "华东 2"
			},
			{
				"RegionId": "cn-shenzhen",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "华南 1"
			},
			{
				"RegionId": "cn-heyuan",
				"RegionEndpoint": "ecs.cn-heyuan.aliyuncs.com",
				"LocalName": "华南2（河源）"
			},
			{
				"RegionId": "cn-chengdu",
				"RegionEndpoint": "ecs.cn-chengdu.aliyuncs.com",
				"LocalName": "西南1（成都）"
			},
			{
				"RegionId": "cn-hongkong",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "香港"
			},
			{
				"RegionId": "ap-northeast-1",
				"RegionEndpoint": "ecs.ap-northeast-1.aliyuncs.com",
				"LocalName": "亚太东北 1 (东京)"
			},
			{
				"RegionId": "ap-southeast-1",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "亚太东南 1 (新加坡)"
			},
			{
				"RegionId": "ap-southeast-2",
				"RegionEndpoint": "ecs.ap-southeast-2.aliyuncs.com",
				"LocalName": "亚太东南 2 (悉尼)"
			},
			{
				"RegionId": "ap-southeast-3",
				"RegionEndpoint": "ecs.ap-southeast-3.aliyuncs.com",
				"LocalName": "亚太东南 3 (吉隆坡)"
			},
			{
				"RegionId": "ap-southeast-5",
				"RegionEndpoint": "ecs.ap-southeast-5.aliyuncs.com",
				"LocalName": "亚太东南 5 (雅加达)"
			},
			{
				"RegionId": "ap-south-1",
				"RegionEndpoint": "ecs.ap-south-1.aliyuncs.com",
				"LocalName": "亚太南部 1 (孟买)"
			},
			{
				"RegionId": "us-east-1",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "美国东部 1 (弗吉尼亚)"
			},
			{
				"RegionId": "us-west-1",
				"RegionEndpoint": "ecs.aliyuncs.com",
				"LocalName": "美国西部 1 (硅谷)"
			},
			{
				"RegionId": "eu-west-1",
				"RegionEndpoint": "ecs.eu-west-1.aliyuncs.com",
				"LocalName": "英国 (伦敦)"
			},
			{
				"RegionId": "me-east-1",
				"RegionEndpoint": "ecs.me-east-1.aliyuncs.com",
				"LocalName": "中东东部 1 (迪拜)"
			},
			{
				"RegionId": "eu-central-1",
				"RegionEndpoint": "ecs.eu-central-1.aliyuncs.com",
				"LocalName": "欧洲中部 1 (法兰克福)"
			}
		]
	}
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查询可选的CentOS7镜像列表</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs DescribeImages --RegionId ap-northeast-1 --OSType linux --ImageOwnerAlias system --Architecture x86_64 --PageNumber 1 --PageSize 100|grep "\"ImageId\": \"centos_7"</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">输出结果</div>
<div class="content">
<pre>				"ImageId": "centos_7_7_x64_20G_alibase_20191225.vhd",    &lt;- 选择这个最新的
				"ImageId": "centos_7_06_64_20G_alibase_20190711.vhd",
				"ImageId": "centos_7_05_64_20G_alibase_20181210.vhd",
				"ImageId": "centos_7_04_64_20G_alibase_201701015.vhd",
				"ImageId": "centos_7_03_64_20G_alibase_20170818.vhd",
				"ImageId": "centos_7_02_64_20G_alibase_20170818.vhd",</pre>
</div>
</div>
<div class="listingblock">
<div class="title">查询安全组</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs DescribeSecurityGroups --RegionId ap-northeast-1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">输出结果</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
	"PageNumber": 1,
	"TotalCount": 1,
	"PageSize": 10,
	"RegionId": "ap-northeast-1",
	"RequestId": "2109C24F-0E7C-4389-9FD4-D87B08743464",
	"SecurityGroups": {
		"SecurityGroup": [
			{
				"CreationTime": "2017-10-25T13:07:04Z",
				"Tags": {
					"Tag": []
				},
				"SecurityGroupId": "sg-6wegwuj68ios9g96a2jc",
				"SecurityGroupName": "sg-6wegwuj68ios9g96a2jc",
				"Description": "System created security group.",
				"ResourceGroupId": "",
				"SecurityGroupType": "normal",
				"VpcId": "vpc-6wed35p0sjdxc6j1v6vvd"
			}
		]
	}
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
如果没有安全组可以在控制台网页创建或使用CreateSecurityGroup命令
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">查询实例规格</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs DescribeInstanceTypes</code></pre>
</div>
</div>
<div class="paragraph">
<p>阿里云接口返回内容太大，很可能超时无返回。</p>
</div>
<div class="paragraph">
<p>在ECS页面可以找到最便宜的规格：ecs.t6-c4m1.large</p>
</div>
<div class="listingblock">
<div class="title">查询密钥对</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs DescribeKeyPairs</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">输出结果</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
	"PageNumber": 1,
	"TotalCount": 1,
	"KeyPairs": {
		"KeyPair": [
			{
				"CreationTime": "2017-10-25T13:04Z",
				"ResourceGroupId": "",
				"KeyPairFingerPrint": "47228f3070af0acfc4cab083a4b80d2f",
				"KeyPairName": "fifilyu"
			}
		]
	},
	"PageSize": 10,
	"RequestId": "AA030D68-AD65-4BC8-8461-9CBBA60C8076"
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">查询交换机信息</div>
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs DescribeVpcs</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
	"PageNumber": 1,
	"Vpcs": {
		"Vpc": [
			{
				"CreationTime": "2017-10-25T13:06:51Z",
				"VpcName": "",
				"CidrBlock": "172.24.0.0/16",
				"Status": "Available",
				"Description": "System created default VPC.",
				"VSwitchIds": {
					"VSwitchId": [
						"vsw-6wen30e1w0ibib1agn5jh",
						"vsw-6web5fosievcuw0ooa4ro"
					]
				},
				"IsDefault": true,
				"UserCidrs": {
					"UserCidr": []
				},
				"RegionId": "ap-northeast-1",
				"VRouterId": "vrt-6weqrbdxu8jewhorl0nve",
				"VpcId": "vpc-6wed35p0sjdxc6j1v6vvd"
			}
		]
	},
	"TotalCount": 1,
	"PageSize": 10,
	"RequestId": "78B7D596-CA41-4311-8D58-03D320B86CFA"
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_创建ecs">创建ECS</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs CreateInstance \
    --DryRun=True \
    --RegionId=ap-northeast-1 \
    --ImageId=centos_7_7_x64_20G_alibase_20191225.vhd \
    --SecurityGroupId=sg-6wegwuj68ios9g96a2jc \
    --InstanceName=centos7_20200218n1 \
    --HostName=geek0218n1 \
    --InternetChargeType=PayByTraffic \
    --AutoRenew=false \
    --InternetMaxBandwidthOut=5 \
    --InstanceChargeType=PostPaid \
    --InstanceType=ecs.t6-c4m1.large \
    --KeyPairName=fifilyu \
    --SecurityEnhancementStrategy=active \
    --IoOptimized=optimized \
    --VSwitchId=vsw-6wen30e1w0ibib1agn5jh</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
InternetChargeType=PayByBandwidth
</td>
<td class="hdlist2">
<p>按固定带宽计费</p>
</td>
</tr>
<tr>
<td class="hdlist1">
InternetChargeType=PayByTraffic
</td>
<td class="hdlist2">
<p>按流量付费</p>
</td>
</tr>
<tr>
<td class="hdlist1">
AutoRenew=false
</td>
<td class="hdlist2">
<p>不自动续费</p>
</td>
</tr>
<tr>
<td class="hdlist1">
InternetMaxBandwidthOut=5
</td>
<td class="hdlist2">
<p>最大出网带宽，单位为Mbit/s</p>
</td>
</tr>
<tr>
<td class="hdlist1">
InstanceChargeType=PrePaid
</td>
<td class="hdlist2">
<p>包年包月</p>
</td>
</tr>
<tr>
<td class="hdlist1">
InstanceChargeType=PostPaid
</td>
<td class="hdlist2">
<p>按量计费</p>
</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>接口返回如下信息，则表示成功。移除测试参数 <code>DryRun</code> 即可创建ECS</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ERROR: SDK.ServerError
ErrorCode: DryRunOperation
Recommend:
RequestId: 7CCCB886-1D4F-452E-BCA3-3C9C358D1B2A
Message: Request validation has been passed with DryRun flag set.</pre>
</div>
</div>
<div class="paragraph">
<p>创建ECS接口返回信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
	"InstanceId": "i-6wedke5p0mk9pnk5gwxd",
	"RequestId": "5EA85718-F724-42BE-BEB5-12531DC14544"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>分配公网IP地址：<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs AllocatePublicIpAddress --InstanceId i-6wedke5p0mk9pnk5gwxd</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="json" class="language-json hljs">{
	"RequestId": "B271BB0E-801E-4B7C-8BCC-38EF7FDB2D39",
	"IpAddress": "47.74.5.91"
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_实例管理">实例管理</h5>
<div class="paragraph">
<p>启动ECS实例：<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs StartInstance --InstanceId i-6wedke5p0mk9pnk5gwxd</code></pre>
</div>
</div>
<div class="paragraph">
<p>停止ECS实例：<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs StopInstance --InstanceId i-6wedke5p0mk9pnk5gwxd</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_删除ecs实例">删除ECS实例</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun ecs DeleteInstance --InstanceId i-6wedke5p0mk9pnk5gwxd</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_域名解析">48.1.4. 域名解析</h4>
<div class="sect4">
<h5 id="_获取解析记录列表">获取解析记录列表</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun alidns DescribeDomainRecords --DomainName xxx.com</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_获取解析记录信息">获取解析记录信息</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun alidns DescribeDomainRecordInfo --help</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_添加解析记录">添加解析记录</h5>
<div class="literalblock">
<div class="content">
<pre>--DomainName   String  Required
--RR           String  Required
--Type         String  Required
--Value        String  Required
--AccessKeyId  String  Optional
--Lang         String  Optional
--Line         String  Optional
--Priority     Long    Optional
--TTL          Long    Optional
--UserClientIp String  Optional</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun alidns AddDomainRecord --DomainName xxx.com -RR _acme-challenge --TTL 600 --Type TXT --Value test</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_删除解析记录">删除解析记录</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun alidns DeleteDomainRecord --RecordId</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_修改解析记录">修改解析记录</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun alidns UpdateDomainRecord --help</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_获取子域名解析记录列表">获取子域名解析记录列表</h5>
<div class="paragraph">
<p>可用来判断域名解析是否存在</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">aliyun alidns DescribeSubDomainRecords --SubDomain _acme-challenge.xxx.com</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo '1='$1 &gt;&gt; /root/test.log
echo '2='$2 &gt;&gt; /root/test.log

domain = os.environ['CERTBOT_DOMAIN']
echo 'domain='$domain &gt;&gt; /root/test.log
value = os.environ['CERTBOT_VALIDATION']
echo 'value='$value &gt;&gt; /root/test.log

if [ "$1" = "--auth" ]; then
    echo "添加记录" &gt;&gt; /root/test.log
	#aliyun alidns UpdateDomainRecord --RecordId 19632471762415616 --RR _acme-challenge --Type TXT --Value test
else
    echo "删除记录" &gt;&gt; /root/test.log
fi</code></pre>
</div>
</div>
<div class="paragraph">
<p>aliyun alidns UpdateDomainRecord --RecordId 19632471762415616 --RR _acme-challenge --Type TXT --Value test</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_RabbitMQ_chapter">49. RabbitMQ</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装配置_17">49.1. 安装配置</h3>
<div class="sect3">
<h4 id="_centos_8">49.1.1. CentOS 8</h4>
<div class="paragraph">
<p>参考： <a href="https://www.rabbitmq.com/install-rpm.html" class="bare">https://www.rabbitmq.com/install-rpm.html</a></p>
</div>
<div class="sect4">
<h5 id="_安装rabbitmq">安装RabbitMQ</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">dnf install -y epel-release
dnf install -y erlang

rpm --import https://packagecloud.io/rabbitmq/rabbitmq-server/gpgkey
rpm --import https://packagecloud.io/gpg.key

curl -s https://packagecloud.io/install/repositories/rabbitmq/rabbitmq-server/script.rpm.sh | bash

dnf install -y rabbitmq-server

systemctl  enable rabbitmq-server</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_参数优化">参数优化</h5>
<div class="ulist">
<ul>
<li>
<p>设置用户级别文件描述符限制：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "*               soft   nofile            65535" &gt;&gt; /etc/security/limits.conf
echo "*               hard   nofile            65535" &gt;&gt; /etc/security/limits.conf</code></pre>
</div>
</div>
<div class="paragraph">
<p>验证设置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@iZbp1c9kh902xmn0dupa11Z ~]# ulimit -n
65535</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
如果 <code>ulimit -n</code> 结果不一致，建议重启系统。
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>设置系统级别文件描述符限制：</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">echo "fs.file-max = 100000" &gt;&gt; /etc/sysctl.conf
sysctl -p</code></pre>
</div>
</div>
<div class="paragraph">
<p>验证设置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@iZbp1c9kh902xmn0dupa11Z ~]# sysctl fs.file-max
fs.file-max = 100000</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_启动rabbitmq服务">启动RabbitMQ服务</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">systemctl start rabbitmq-server</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_查看rabbitmq服务状态">查看RabbitMQ服务状态</h5>
<div class="listingblock">
<div class="content">
<pre>[root@iZbp1c9kh902xmn0dupa11Z ~]# rabbitmqctl status
Status of node rabbit@iZbp1c9kh902xmn0dupa11Z ...
Runtime

OS PID: 3375
OS: Linux
Uptime (seconds): 509
RabbitMQ version: 3.8.2
Node name: rabbit@iZbp1c9kh902xmn0dupa11Z
Erlang configuration: Erlang/OTP 22 [erts-10.4.4] [source] [64-bit] [smp:2:2] [ds:2:2:10] [async-threads:64] [hipe]
Erlang processes: 253 used, 1048576 limit
Scheduler run queue: 1
Cluster heartbeat timeout (net_ticktime): 60

Plugins

Enabled plugin file: /etc/rabbitmq/enabled_plugins
Enabled plugins:


Data directory

Node data directory: /var/lib/rabbitmq/mnesia/rabbit@iZbp1c9kh902xmn0dupa11Z

Config files


Log file(s)

 * /var/log/rabbitmq/rabbit@iZbp1c9kh902xmn0dupa11Z.log
 * /var/log/rabbitmq/rabbit@iZbp1c9kh902xmn0dupa11Z_upgrade.log

Alarms

(none)

Memory

Calculation strategy: rss
Memory high watermark setting: 0.4 of available memory, computed to: 1.5073 gb
other_proc: 0.0286 gb (31.61 %)
code: 0.0263 gb (29.15 %)
other_system: 0.0118 gb (13.03 %)
reserved_unallocated: 0.0106 gb (11.72 %)
allocated_unused: 0.0087 gb (9.63 %)
other_ets: 0.0027 gb (3.0 %)
atom: 0.0012 gb (1.35 %)
metrics: 0.0002 gb (0.22 %)
binary: 0.0001 gb (0.11 %)
mnesia: 0.0001 gb (0.09 %)
quorum_ets: 0.0 gb (0.05 %)
msg_index: 0.0 gb (0.03 %)
plugins: 0.0 gb (0.01 %)
connection_channels: 0.0 gb (0.0 %)
connection_other: 0.0 gb (0.0 %)
connection_readers: 0.0 gb (0.0 %)
connection_writers: 0.0 gb (0.0 %)
mgmt_db: 0.0 gb (0.0 %)
queue_procs: 0.0 gb (0.0 %)
queue_slave_procs: 0.0 gb (0.0 %)
quorum_queue_procs: 0.0 gb (0.0 %)

File Descriptors

Total: 2, limit: 32671
Sockets: 0, limit: 29401

Free Disk Space

Low free disk space watermark: 0.05 gb
Free disk space: 39.7456 gb

Totals

Connection count: 0
Queue count: 0
Virtual host count: 1

Listeners

Interface: [::], port: 25672, protocol: clustering, purpose: inter-node and CLI tool communication
Interface: [::], port: 5672, protocol: amqp, purpose: AMQP 0-9-1 and AMQP 1.0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">验证文件描述符设置</div>
<div class="content">
<pre>[root@iZbp1c9kh902xmn0dupa11Z ~]# rabbitmqctl status|grep limit
Erlang processes: 253 used, 1048576 limit
Total: 2, limit: 32671
Sockets: 0, limit: 29401</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_基本配置">基本配置</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rabbitmqctl delete_user guest</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_日志">日志</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">journalctl --system | grep rabbitmq</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@iZbp1c9kh902xmn0dupa11Z ~]# journalctl --system | grep rabbitmq
Mar 09 14:54:03 iZbp1c9kh902xmn0dupa11Z groupadd[2811]: group added to /etc/group: name=rabbitmq, GID=985
Mar 09 14:54:03 iZbp1c9kh902xmn0dupa11Z groupadd[2811]: group added to /etc/gshadow: name=rabbitmq
Mar 09 14:54:03 iZbp1c9kh902xmn0dupa11Z groupadd[2811]: new group: name=rabbitmq, GID=985
Mar 09 14:54:03 iZbp1c9kh902xmn0dupa11Z useradd[2818]: new user: name=rabbitmq, UID=989, GID=985, home=/var/lib/rabbitmq, shell=/sbin/nologin
Mar 09 14:54:04 iZbp1c9kh902xmn0dupa11Z systemd-tmpfiles[2909]: [/usr/lib/tmpfiles.d/rabbitmq-server.conf:1] Line references path below legacy directory /var/run/, updating /var/run/rabbitmq → /run/rabbitmq; please update the tmpfiles.d/ drop-in file accordingly.
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   ##  ##      RabbitMQ 3.8.2
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   ##  ##
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   ##########  Copyright (c) 2007-2019 Pivotal Software, Inc.
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   ######  ##
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   ##########  Licensed under the MPL 1.1. Website: https://rabbitmq.com
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   Doc guides: https://rabbitmq.com/documentation.html
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   Support:    https://rabbitmq.com/contact.html
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   Tutorials:  https://rabbitmq.com/getstarted.html
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   Monitoring: https://rabbitmq.com/monitoring.html
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   Logs: /var/log/rabbitmq/rabbit@iZbp1c9kh902xmn0dupa11Z.log
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:         /var/log/rabbitmq/rabbit@iZbp1c9kh902xmn0dupa11Z_upgrade.log
Mar 09 14:54:28 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   Config file(s): (none)
Mar 09 14:54:29 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:   Starting broker...systemd unit for activation check: "rabbitmq-server.service"
Mar 09 14:54:29 iZbp1c9kh902xmn0dupa11Z rabbitmq-server[3375]:  completed with 0 plugins.
Mar 09 14:56:58 iZbp1c9kh902xmn0dupa11Z dnf[3818]: rabbitmq_rabbitmq-server                         72  B/s | 833  B     00:11
Mar 09 14:57:10 iZbp1c9kh902xmn0dupa11Z dnf[3818]: rabbitmq_rabbitmq-server-source                  64  B/s | 819  B     00:12
Mar 09 15:00:41 iZbp1c9kh902xmn0dupa11Z runuser[4038]: pam_unix(runuser:session): session opened for user rabbitmq by root(uid=0)
Mar 09 15:00:41 iZbp1c9kh902xmn0dupa11Z runuser[4038]: pam_unix(runuser:session): session closed for user rabbitmq
Mar 09 15:01:29 iZbp1c9kh902xmn0dupa11Z systemd-tmpfiles[4198]: [/usr/lib/tmpfiles.d/rabbitmq-server.conf:1] Line references path below legacy directory /var/run/, updating /var/run/rabbitmq → /run/rabbitmq; please update the tmpfiles.d/ drop-in file accordingly.</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_管理工具">管理工具</h5>
<div class="paragraph">
<p>参考： <a href="https://www.rabbitmq.com/management.html" class="bare">https://www.rabbitmq.com/management.html</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rabbitmq-plugins enable rabbitmq_management</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@iZbp1c9kh902xmn0dupa11Z ~]# rabbitmq-plugins enable rabbitmq_management
Enabling plugins on node rabbit@iZbp1c9kh902xmn0dupa11Z:
rabbitmq_management
The following plugins have been configured:
  rabbitmq_management
  rabbitmq_management_agent
  rabbitmq_mqtt
  rabbitmq_web_dispatch
Applying plugin configuration to rabbit@iZbp1c9kh902xmn0dupa11Z...
The following plugins have been enabled:
  rabbitmq_management
  rabbitmq_management_agent
  rabbitmq_web_dispatch

started 3 plugins.</pre>
</div>
</div>
<div class="paragraph">
<p>创建管理员用户：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>rabbitmqctl add_user thcl oN3soB7xasaizieG0pop
rabbitmqctl set_user_tags thcl administrator
rabbitmqctl set_permissions -p / thcl thcl ".*" ".*"</pre>
</div>
</div>
<div class="paragraph">
<p>管理界面访问地址： <a href="http://localhost:15672/" class="bare">http://localhost:15672/</a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_支持mqtt">49.2. 支持MQTT</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">参考</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.rabbitmq.com/mqtt.html" class="bare">https://www.rabbitmq.com/mqtt.html</a></p>
</li>
<li>
<p><a href="https://www.rabbitmq.com/rabbitmqctl.8.html" class="bare">https://www.rabbitmq.com/rabbitmqctl.8.html</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rabbitmq-plugins enable rabbitmq_mqtt</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[root@iZbp1c9kh902xmn0dupa11Z ~]# rabbitmq-plugins enable rabbitmq_mqtt
Enabling plugins on node rabbit@iZbp1c9kh902xmn0dupa11Z:
rabbitmq_mqtt
The following plugins have been configured:
  rabbitmq_mqtt
Applying plugin configuration to rabbit@iZbp1c9kh902xmn0dupa11Z...
The following plugins have been enabled:
  rabbitmq_mqtt

started 1 plugins.</pre>
</div>
</div>
<div class="sect3">
<h4 id="_新增虚拟主机">49.2.1. 新增虚拟主机</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rabbitmqctl add_vhost device</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_为mqtt连接创建新用户">49.2.2. 为MQTT连接创建新用户</h4>
<div class="paragraph">
<p>用户只能写，不能配置，不能读。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rabbitmqctl add_user device oojah5ohZoamayae5eeg
rabbitmqctl set_permissions -p device device "^$" ".*" "^$"
rabbitmqctl set_user_tags device none</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Frida_chapter">50. Frida</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装_11">50.1. 安装</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">pip3 install frida frida-tools</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果安装过程出现网络错误，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">[root@75ca21b76384 ~]# pip310 --trusted-host pypi.python.org install frida-tools
Looking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple
...
...
  running build_ext
  looking for prebuilt extension in home directory, i.e. /root/frida-12.11.17-py3.8-linux-x86_64.egg
  prebuilt extension not found in home directory, will try downloading it
  querying pypi for available prebuilds
  error: &lt;urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1108)&gt;
  ----------------------------------------
  ERROR: Failed building wheel for frida</code></pre>
</div>
</div>
<div class="paragraph">
<p>可以手动下载 <code>frida-12.11.17-py3.8-linux-x86_64.egg</code> 到当前目录，然后再安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">wget https://mirrors.aliyun.com/pypi/packages/f9/b5/98077736bdce758adb73a54d46bbd1ac08ca0951e6db986a9b087e8d91eb/frida-12.11.17-py3.8-linux-x86_64.egg -O frida-12.11.17-py3.8-linux-x86_64.egg

pip3 install frida==12.11.17 frida-tools</code></pre>
</div>
</div>
<div class="paragraph">
<p>P.S. 安装 frida 时很慢是因为 frida 安装包会从 <code>pypi.python.org</code> 远程下载 <code>frida-x.y.z-py3.8-linux-x86_64.egg</code> 包很慢，考虑手动下载到当前目录？</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Rust_chapter">51. Rust</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_安装rust">51.1. 安装Rust</h3>
<div class="sect3">
<h4 id="_arch_linux_2">51.1.1. Arch Linux</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">sudo pacman -S rustup

# 启用 TUNA 源
export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup
echo 'export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup' &gt;&gt; ~/.bash_profile

rustup install stable

rustup default stable

rustup toolchain list

rustup update</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rustup">51.2. rustup</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">官方文档</dt>
<dd>
<p><a href="https://rust-lang.github.io/rustup/">The rustup book</a></p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_rustup参数">51.2.1. rustup参数</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<code>pacman</code> 方式安装的 <code>rustup</code> 不能使用 <code>rustup self update</code> 更新 <code>rustup</code>。只能通过 <code>pacman</code> 更新。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>rustup -h</code> 帮助信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">rustup 1.23.1 (2020-12-18)
The Rust toolchain installer

USAGE:
    rustup [FLAGS] [+toolchain] &lt;SUBCOMMAND&gt;

FLAGS:
    -v, --verbose    Enable verbose output
    -q, --quiet      Disable progress output
    -h, --help       Prints help information
    -V, --version    Prints version information

ARGS:
    &lt;+toolchain&gt;    release channel (e.g. +stable) or custom toolchain to set override

SUBCOMMANDS:
    show           Show the active and installed toolchains or profiles
    update         Update Rust toolchains and rustup
    check          Check for updates to Rust toolchains
    default        Set the default toolchain
    toolchain      Modify or query the installed toolchains
    target         Modify a toolchain's supported targets
    component      Modify a toolchain's installed components
    override       Modify directory toolchain overrides
    run            Run a command with an environment configured for a given toolchain
    which          Display which binary will be run for a given command
    doc            Open the documentation for the current toolchain
    man            View the man page for a given command
    self           Modify the rustup installation
    set            Alter rustup settings
    completions    Generate tab-completion scripts for your shell
    help           Prints this message or the help of the given subcommand(s)

DISCUSSION:
    rustup installs The Rust Programming Language from the official
    release channels, enabling you to easily switch between stable,
    beta, and nightly compilers and keep them updated. It makes
    cross-compiling simpler with binary builds of the standard library
    for common platforms.

    If you are new to Rust consider running `rustup doc --book` to
    learn Rust.</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>rustup toolchain  -h</code> 帮助信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">rustup-toolchain
Modify or query the installed toolchains

USAGE:
    rustup toolchain &lt;SUBCOMMAND&gt;

FLAGS:
    -h, --help    Prints help information

SUBCOMMANDS:
    list         List installed toolchains
    install      Install or update a given toolchain
    uninstall    Uninstall a toolchain
    link         Create a custom toolchain by symlinking to a directory
    help         Prints this message or the help of the given subcommand(s)

DISCUSSION:
    Many `rustup` commands deal with *toolchains*, a single
    installation of the Rust compiler. `rustup` supports multiple
    types of toolchains. The most basic track the official release
    channels: 'stable', 'beta' and 'nightly'; but `rustup` can also
    install toolchains from the official archives, for alternate host
    platforms, and from local builds.

    Standard release channel toolchain names have the following form:

        &lt;channel&gt;[-&lt;date&gt;][-&lt;host&gt;]

        &lt;channel&gt;       = stable|beta|nightly|&lt;major.minor&gt;|&lt;major.minor.patch&gt;
        &lt;date&gt;          = YYYY-MM-DD
        &lt;host&gt;          = &lt;target-triple&gt;

    'channel' is a named release channel, a major and minor version
    number such as `1.42`, or a fully specified version number, such
    as `1.42.0`. Channel names can be optionally appended with an
    archive date, as in `nightly-2014-12-18`, in which case the
    toolchain is downloaded from the archive for that date.

    The host may be specified as a target triple. This is most useful
    for installing a 32-bit compiler on a 64-bit platform, or for
    installing the [MSVC-based toolchain] on Windows. For example:

        $ rustup toolchain install stable-x86_64-pc-windows-msvc

    For convenience, omitted elements of the target triple will be
    inferred, so the above could be written:

        $ rustup toolchain install stable-msvc

    The `rustup default` command may be used to both install and set
    the desired toolchain as default in a single command:

        $ rustup default stable-msvc

    rustup can also manage symlinked local toolchain builds, which are
    often used for developing Rust itself. For more information see
    `rustup toolchain help link`.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rustup源设置">51.2.2. rustup源设置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup
echo 'export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup' &gt;&gt; ~/.bash_profile</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rustup实践">51.2.3. rustup实践</h4>
<div class="paragraph">
<p>用默认浏览器打开 <code>"The Rust Programming Language"</code> 文档：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rustup doc --book</code></pre>
</div>
</div>
<div class="paragraph">
<p>安装工具链：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rustup install stable</code></pre>
</div>
</div>
<div class="paragraph">
<p>或</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rustup toolchain install stable</code></pre>
</div>
</div>
<div class="paragraph">
<p>设置默认工具链：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rustup default stable</code></pre>
</div>
</div>
<div class="paragraph">
<p>查询当前安装的工具链：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rustup toolchain list</code></pre>
</div>
</div>
<div class="paragraph">
<p>移除指定的工具链：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rustup toolchain uninstall 1.48-x86_64-unknown-linux-gnu</code></pre>
</div>
</div>
<div class="paragraph">
<p>更新工具链：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">rustup update</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_faq_2">51.2.4. FAQ</h4>
<div class="sect4">
<h5 id="_rustup_doc_book_执行无响应"><code>rustup doc --book</code> 执行无响应</h5>
<div class="paragraph">
<p>执行 <code>rustup doc --book</code> 通过默认浏览器查看离线文档，命令返回值为0(正常)，浏览器未打开文档。</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ rustup doc --help
rustup-doc
Open the documentation for the current toolchain
......</pre>
</div>
</div>
<div class="paragraph">
<p>问题分析：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>用 <code>strace -o output.log -f rustup doc --book</code> 跟踪系统调用和信号，输出日志到文件 <code>output.log</code>；</p>
</li>
<li>
<p>分析日志最后报错信息 <code>killed by SIGSEGV (core dumped)</code>，向上跟踪看到 <code>baidunetdi:sh3</code> 字样，猜测是百度网盘应用被设置成了默认MIME的应用；</p>
<div class="literalblock">
<div class="content">
<pre>23318 statx(AT_FDCWD, "/home/lyuqiang/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/share/doc/rust/html/book/index.html", AT_STATX_SYNC_AS_STAT|AT_SYMLINK_NOFOLLOW|AT_NO_AUTOMOUNT, STATX_ALL, {stx_mask=STATX_ALL|STATX_MNT_ID, stx_attributes=0, stx_mode=S_IFREG|0644, stx_size=27034, ...}) = 0
23318 openat(AT_FDCWD, "/home/lyuqiang/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/share/doc/rust/html/book/index.html", O_RDONLY|O_NOATIME) = 8
23318 read(8, "&lt;!DOCTYPE HTML&gt;\n&lt;html lang=\"en\" "..., 4096) = 4096
23318 close(8)                          = 0
......
......
......
......
23315 openat(AT_FDCWD, "/usr/share/applications/baidunetdisk.desktop", O_RDONLY) = 8
23315 newfstatat(8, "", {st_mode=S_IFREG|0664, st_size=252, ...}, AT_EMPTY_PATH) = 0
23315 read(8, "[Desktop Entry]\nName=baidunetdis"..., 4096) = 252
23315 read(8, "", 4096)                 = 0
23315 close(8)                          = 0
23315 access("/usr/lib/baidunetdisk/baidunetdisk", X_OK) = 0
23315 getuid()                          = 1000
23315 newfstatat(AT_FDCWD, "/usr/lib/baidunetdisk/baidunetdisk", {st_mode=S_IFREG|0755, st_size=129796744, ...}, 0) = 0
23315 openat(AT_FDCWD, "/usr/share/locale/locale.alias", O_RDONLY) = 8
23315 newfstatat(8, "", {st_mode=S_IFREG|0644, st_size=2998, ...}, AT_EMPTY_PATH) = 0
23315 read(8, "# Locale name alias data base.\n#"..., 4096) = 2998
......
......
23473 prctl(PR_SET_NAME, "baidunetdi:sh3" &lt;unfinished ...&gt;
......
......
23443 +++ killed by SIGSEGV (core dumped) +++
23447 +++ killed by SIGSEGV (core dumped) +++
23449 +++ killed by SIGSEGV (core dumped) +++
23446 +++ killed by SIGSEGV (core dumped) +++
23451 +++ killed by SIGSEGV (core dumped) +++
23445 +++ killed by SIGSEGV (core dumped) +++</pre>
</div>
</div>
</li>
<li>
<p>确认 <code>text/html</code> 的MIME设置，确实 <code>baidunetdisk.desktop</code> 是默认设置；</p>
<div class="literalblock">
<div class="content">
<pre>$ gio mime text/html
用于“text/html”的默认应用程序：baidunetdisk.desktop
已注册的应用程序：
    google-chrome.desktop
    firefox.desktop
    calibre-ebook-edit.desktop
    org.gnome.Epiphany.desktop
    org.gnome.gedit.desktop
    code-oss.desktop
    aegisub.desktop
    vim.desktop
推荐的应用程序：
    google-chrome.desktop
    firefox.desktop
    calibre-ebook-edit.desktop
    org.gnome.Epiphany.desktop</pre>
</div>
</div>
</li>
<li>
<p>执行命令 <code>gio mime text/html google-chrome.desktop</code> 重置MIME设置；</p>
<div class="literalblock">
<div class="content">
<pre>$ gio mime text/html google-chrome.desktop
Set google-chrome.desktop as the default for text/html</pre>
</div>
</div>
</li>
<li>
<p>重新确认MIME设置；</p>
<div class="literalblock">
<div class="content">
<pre>$ gio mime text/html
用于“text/html”的默认应用程序：google-chrome.desktop
已注册的应用程序：
    google-chrome.desktop
    firefox.desktop
    calibre-ebook-edit.desktop
    org.gnome.Epiphany.desktop
    org.gnome.gedit.desktop
    code-oss.desktop
    aegisub.desktop
    vim.desktop
推荐的应用程序：
    google-chrome.desktop
    firefox.desktop
    calibre-ebook-edit.desktop
    org.gnome.Epiphany.desktop</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>OK，<code>rustup doc --book</code> 可以看离线文档了。</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cargo">51.3. Cargo</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">官方文档</dt>
<dd>
<p><a href="https://doc.rust-lang.org/cargo/">The Cargo Book</a></p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_cargo参数">51.3.1. Cargo参数</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="console" class="language-console hljs">$ cargo -h
Rust's package manager

USAGE:
    cargo [+toolchain] [OPTIONS] [SUBCOMMAND]

OPTIONS:
    -V, --version                  Print version info and exit
        --list                     List installed commands
        --explain &lt;CODE&gt;           Run `rustc --explain CODE`
    -v, --verbose                  Use verbose output (-vv very verbose/build.rs output)
    -q, --quiet                    No output printed to stdout
        --color &lt;WHEN&gt;             Coloring: auto, always, never
        --frozen                   Require Cargo.lock and cache are up to date
        --locked                   Require Cargo.lock is up to date
        --offline                  Run without accessing the network
        --config &lt;KEY=VALUE&gt;...    Override a configuration value (unstable)
    -Z &lt;FLAG&gt;...                   Unstable (nightly-only) flags to Cargo, see 'cargo -Z help' for details
    -h, --help                     Prints help information

Some common cargo commands are (see all commands with --list):
    build, b    Compile the current package
    check, c    Analyze the current package and report errors, but don't build object files
    clean       Remove the target directory
    doc         Build this package's and its dependencies' documentation
    new         Create a new cargo package
    init        Create a new cargo package in an existing directory
    run, r      Run a binary or example of the local package
    test, t     Run the tests
    bench       Run the benchmarks
    update      Update dependencies listed in Cargo.lock
    search      Search registry for crates
    publish     Package and upload this package to the registry
    install     Install a Rust binary. Default location is $HOME/.cargo/bin
    uninstall   Uninstall a Rust binary

See 'cargo help &lt;command&gt;' for more information on a specific command.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cargo源设置">51.3.2. Cargo源设置</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cat &lt;&lt; EOF &gt; ~/.cargo/config
[source.crates-io]
replace-with = 'tuna'

[source.tuna]
registry = "https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git"
EOF</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_cargo实践">51.3.3. Cargo实践</h4>
<div class="paragraph">
<p>用cargo基于Git仓库创建一个Rust项目：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cargo new --vcs=git hello_cargo
cd hello_cargo

ls .git*</code></pre>
</div>
</div>
<div class="paragraph">
<p>编译并运行，方法一：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cargo build
cargo build --release

./target/debug/hello_cargo</code></pre>
</div>
</div>
<div class="paragraph">
<p>编译并运行，方法二：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cargo run</code></pre>
</div>
</div>
<div class="paragraph">
<p>分析当前项目，报告错误信息（不编译）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">cargo check</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_GDBus_chapter">52. GDBus</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_查询systemd服务">52.1. 查询systemd服务</h3>
<div class="sect3">
<h4 id="_获取服务的路径">52.1.1. 获取服务的路径</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus call \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1 \
    --method org.freedesktop.systemd1.Manager.GetUnit \
    nginx.service</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>(objectpath '/org/freedesktop/systemd1/unit/nginx_2eservice',)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_查看服务的结构">52.1.2. 查看服务的结构</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus introspect \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1/unit/nginx_2eservice</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>node /org/freedesktop/systemd1/unit/nginx_2eservice {
    interface org.freedesktop.DBus.Peer {
        methods:
        Ping();
        GetMachineId(out s machine_uuid);
        signals:
        properties:
    };
    interface org.freedesktop.DBus.Introspectable {
        methods:
        Introspect(out s data);
        signals:
        properties:
    };
    interface org.freedesktop.DBus.Properties {
        methods:
        Get(in  s interface,
            in  s property,
            out v value);
        GetAll(in  s interface,
                out a{sv} properties);
        Set(in  s interface,
            in  s property,
            in  v value);
        signals:
        PropertiesChanged(s interface,
                            a{sv} changed_properties,
                            as invalidated_properties);
        properties:
    };
    interface org.freedesktop.systemd1.Service {
        methods:
        signals:
        properties:
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s Type = 'forking';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s Restart = 'no';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s PIDFile = '/var/run/nginx.pid';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s NotifyAccess = 'none';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t RestartUSec = 100000;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t TimeoutStartUSec = 90000000;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t TimeoutStopUSec = 90000000;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t WatchdogUSec = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t WatchdogTimestamp = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t WatchdogTimestampMonotonic = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t StartLimitInterval = 10000000;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly u StartLimitBurst = 5;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s StartLimitAction = 'none';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s RebootArgument = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s FailureAction = 'none';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b PermissionsStartOnly = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b RootDirectoryStartOnly = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b RemainAfterExit = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b GuessMainPID = true;
        readonly u MainPID = 4004;
        readonly u ControlPID = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s BusName = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly u FileDescriptorStoreMax = 0;
        readonly s StatusText = '';
        readonly i StatusErrno = 0;
        readonly s Result = 'success';
        readonly t ExecMainStartTimestamp = 1659535912878815;
        readonly t ExecMainStartTimestampMonotonic = 38023850867183;
        readonly t ExecMainExitTimestamp = 0;
        readonly t ExecMainExitTimestampMonotonic = 0;
        readonly u ExecMainPID = 4004;
        readonly i ExecMainCode = 0;
        readonly i ExecMainStatus = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
        readonly a(sasbttttuii) ExecStartPre = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
        readonly a(sasbttttuii) ExecStart = [('/usr/sbin/nginx', ['/usr/sbin/nginx', '-c', '/etc/nginx/nginx.conf'], false, 0, 0, 0, 0, 0, 0, 0)];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
        readonly a(sasbttttuii) ExecStartPost = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
        readonly a(sasbttttuii) ExecReload = [('/bin/sh', ['/bin/sh', '-c', '/bin/kill -s HUP $(/bin/cat /var/run/nginx.pid)'], false, 1671120010187312, 49607948175679, 1671120010194762, 49607948183129, 5110, 1, 0)];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
        readonly a(sasbttttuii) ExecStop = [('/bin/sh', ['/bin/sh', '-c', '/bin/kill -s TERM $(/bin/cat /var/run/nginx.pid)'], false, 0, 0, 0, 0, 0, 0, 0)];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
        readonly a(sasbttttuii) ExecStopPost = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly s Slice = 'system.slice';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly s ControlGroup = '/system.slice/nginx.service';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t MemoryCurrent = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t TasksCurrent = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly b Delegate = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly b CPUAccounting = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t CPUShares = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t StartupCPUShares = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t CPUQuotaPerSecUSec = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly b BlockIOAccounting = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t BlockIOWeight = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t StartupBlockIOWeight = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly a(st) BlockIODeviceWeight = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly a(st) BlockIOReadBandwidth = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly a(st) BlockIOWriteBandwidth = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly b MemoryAccounting = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t MemoryLimit = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly s DevicePolicy = 'auto';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly a(ss) DeviceAllow = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly b TasksAccounting = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly t TasksMax = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Environment = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly a(sb) EnvironmentFiles = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as PassEnvironment = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly u UMask = 18;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitCPU = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitFSIZE = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitDATA = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitSTACK = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitCORE = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitRSS = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitNOFILE = 4096;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitAS = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitNPROC = 3881;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitMEMLOCK = 65536;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitLOCKS = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitSIGPENDING = 3881;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitMSGQUEUE = 819200;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitNICE = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitRTPRIO = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t LimitRTTIME = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s WorkingDirectory = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s RootDirectory = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i OOMScoreAdjust = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i Nice = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i IOScheduling = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i CPUSchedulingPolicy = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i CPUSchedulingPriority = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly ay CPUAffinity = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t TimerSlackNSec = 50000;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b CPUSchedulingResetOnFork = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b NonBlocking = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s StandardInput = 'null';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s StandardOutput = 'journal';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s StandardError = 'inherit';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s TTYPath = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b TTYReset = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b TTYVHangup = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b TTYVTDisallocate = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i SyslogPriority = 30;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s SyslogIdentifier = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b SyslogLevelPrefix = true;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s Capabilities = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i SecureBits = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t CapabilityBoundingSet = 18446744073709551615;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t AmbientCapabilities = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s User = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s Group = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as SupplementaryGroups = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s PAMName = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as ReadWriteDirectories = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as ReadOnlyDirectories = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as InaccessibleDirectories = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t MountFlags = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b PrivateTmp = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b PrivateNetwork = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b PrivateDevices = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s ProtectHome = 'no';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s ProtectSystem = 'no';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b SameProcessGroup = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s UtmpIdentifier = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly (bs) SELinuxContext = (false, '');
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly (bs) AppArmorProfile = (false, '');
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly (bs) SmackProcessLabel = (false, '');
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b IgnoreSIGPIPE = true;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b NoNewPrivileges = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly (bas) SystemCallFilter = (false, []);
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as SystemCallArchitectures = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i SystemCallErrorNumber = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s Personality = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly (bas) RestrictAddressFamilies = (false, []);
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly u RuntimeDirectoryMode = 493;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as RuntimeDirectory = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s KillMode = 'control-group';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly i KillSignal = 15;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b SendSIGKILL = true;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b SendSIGHUP = false;
    };
    interface org.freedesktop.systemd1.Unit {
        methods:
        @org.freedesktop.systemd1.Privileged("true")
        Start(in  s arg_0,
                out o arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        Stop(in  s arg_0,
                out o arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        Reload(in  s arg_0,
                out o arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        Restart(in  s arg_0,
                out o arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        TryRestart(in  s arg_0,
                    out o arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        ReloadOrRestart(in  s arg_0,
                        out o arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        ReloadOrTryRestart(in  s arg_0,
                            out o arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        Kill(in  s arg_0,
                in  i arg_1);
        @org.freedesktop.systemd1.Privileged("true")
        ResetFailed();
        @org.freedesktop.systemd1.Privileged("true")
        SetProperties(in  b arg_0,
                        in  a(sv) arg_1);
        signals:
        properties:
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s Id = 'nginx.service';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Names = ['nginx.service'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly s Following = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Requires = ['basic.target'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as RequiresOverridable = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Requisite = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as RequisiteOverridable = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Wants = ['network-online.target', 'system.slice'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as BindsTo = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as PartOf = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as RequiredBy = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as RequiredByOverridable = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as WantedBy = ['multi-user.target'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as BoundBy = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as ConsistsOf = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Conflicts = ['shutdown.target'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as ConflictedBy = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Before = ['shutdown.target', 'multi-user.target'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as After = ['nss-lookup.target', 'system.slice', 'basic.target', 'network-online.target', 'remote-fs.target', 'systemd-journald.socket'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as OnFailure = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Triggers = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as TriggeredBy = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as PropagatesReloadTo = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as ReloadPropagatedFrom = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as JoinsNamespaceOf = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as RequiresMountsFor = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as Documentation = ['http://nginx.org/en/docs/'];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s Description = 'nginx - high performance web server';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s LoadState = 'loaded';
        readonly s ActiveState = 'active';
        readonly s SubState = 'running';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s FragmentPath = '/usr/lib/systemd/system/nginx.service';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s SourcePath = '';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly as DropInPaths = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly s UnitFileState = 'enabled';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly s UnitFilePreset = 'disabled';
        readonly t InactiveExitTimestamp = 1659535911115630;
        readonly t InactiveExitTimestampMonotonic = 38023849103997;
        readonly t ActiveEnterTimestamp = 1659535912879687;
        readonly t ActiveEnterTimestampMonotonic = 38023850868055;
        readonly t ActiveExitTimestamp = 1659535911094161;
        readonly t ActiveExitTimestampMonotonic = 38023849082529;
        readonly t InactiveEnterTimestamp = 1659535911114628;
        readonly t InactiveEnterTimestampMonotonic = 38023849102996;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b CanStart = true;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b CanStop = true;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b CanReload = true;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b CanIsolate = false;
        readonly (uo) Job = (0, '/');
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b StopWhenUnneeded = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b RefuseManualStart = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b RefuseManualStop = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b AllowIsolate = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b DefaultDependencies = true;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s OnFailureJobMode = 'replace';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b IgnoreOnIsolate = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b IgnoreOnSnapshot = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b NeedDaemonReload = false;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly t JobTimeoutUSec = 0;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s JobTimeoutAction = 'none';
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly s JobTimeoutRebootArgument = '';
        readonly b ConditionResult = true;
        readonly b AssertResult = true;
        readonly t ConditionTimestamp = 1659535911115062;
        readonly t ConditionTimestampMonotonic = 38023849103430;
        readonly t AssertTimestamp = 1659535911115062;
        readonly t AssertTimestampMonotonic = 38023849103430;
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly a(sbbsi) Conditions = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
        readonly a(sbbsi) Asserts = [];
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly (ss) LoadError = ('', '');
        @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
        readonly b Transient = false;
    };
};</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_获取服务的属性">52.1.3. 获取服务的属性</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus call \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1/unit/nginx_2eservice \
    --method org.freedesktop.DBus.Properties.GetAll \
    org.freedesktop.systemd1.Unit</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>({
    'Id': &lt;'nginx.service'&gt;,
    'Names': &lt;['nginx.service']&gt;,
    'Following': &lt;''&gt;,
    'Requires': &lt;['basic.target']&gt;,
    'RequiresOverridable': &lt;@as []&gt;,
    'Requisite': &lt;@as []&gt;,
    'RequisiteOverridable': &lt;@as []&gt;,
    'Wants': &lt;['network-online.target', 'system.slice']&gt;,
    'BindsTo': &lt;@as []&gt;,
    'PartOf': &lt;@as []&gt;,
    'RequiredBy': &lt;@as []&gt;,
    'RequiredByOverridable': &lt;@as []&gt;,
    'WantedBy': &lt;['multi-user.target']&gt;,
    'BoundBy': &lt;@as []&gt;,
    'ConsistsOf': &lt;@as []&gt;,
    'Conflicts': &lt;['shutdown.target']&gt;,
    'ConflictedBy': &lt;@as []&gt;,
    'Before': &lt;['shutdown.target', 'multi-user.target']&gt;,
    'After': &lt;['nss-lookup.target', 'system.slice', 'basic.target', 'network-online.target', 'remote-fs.target', 'systemd-journald.socket']&gt;,
    'OnFailure': &lt;@as []&gt;,
    'Triggers': &lt;@as []&gt;,
    'TriggeredBy': &lt;@as []&gt;,
    'PropagatesReloadTo': &lt;@as []&gt;,
    'ReloadPropagatedFrom': &lt;@as []&gt;,
    'JoinsNamespaceOf': &lt;@as []&gt;,
    'RequiresMountsFor': &lt;@as []&gt;,
    'Documentation': &lt;['http://nginx.org/en/docs/']&gt;,
    'Description': &lt;'nginx - high performance web server'&gt;,
    'LoadState': &lt;'loaded'&gt;,
    'ActiveState': &lt;'active'&gt;,
    'SubState': &lt;'running'&gt;,
    'FragmentPath': &lt;'/usr/lib/systemd/system/nginx.service'&gt;,
    'SourcePath': &lt;''&gt;,
    'DropInPaths': &lt;@as []&gt;,
    'UnitFileState': &lt;'enabled'&gt;,
    'UnitFilePreset': &lt;'disabled'&gt;,
    'InactiveExitTimestamp': &lt;uint64 1659535911115630&gt;,
    'InactiveExitTimestampMonotonic': &lt;uint64 38023849103997&gt;,
    'ActiveEnterTimestamp': &lt;uint64 1659535912879687&gt;,
    'ActiveEnterTimestampMonotonic': &lt;uint64 38023850868055&gt;,
    'ActiveExitTimestamp': &lt;uint64 1659535911094161&gt;,
    'ActiveExitTimestampMonotonic': &lt;uint64 38023849082529&gt;,
    'InactiveEnterTimestamp': &lt;uint64 1659535911114628&gt;,
    'InactiveEnterTimestampMonotonic': &lt;uint64 38023849102996&gt;,
    'CanStart': &lt;true&gt;,
    'CanStop': &lt;true&gt;,
    'CanReload': &lt;true&gt;,
    'CanIsolate': &lt;false&gt;,
    'Job': &lt;(uint32 0, objectpath '/')&gt;,
    'StopWhenUnneeded': &lt;false&gt;,
    'RefuseManualStart': &lt;false&gt;,
    'RefuseManualStop': &lt;false&gt;,
    'AllowIsolate': &lt;false&gt;,
    'DefaultDependencies': &lt;true&gt;,
    'OnFailureJobMode': &lt;'replace'&gt;,
    'IgnoreOnIsolate': &lt;false&gt;,
    'IgnoreOnSnapshot': &lt;false&gt;,
    'NeedDaemonReload': &lt;false&gt;,
    'JobTimeoutUSec': &lt;uint64 0&gt;,
    'JobTimeoutAction': &lt;'none'&gt;,
    'JobTimeoutRebootArgument': &lt;''&gt;,
    'ConditionResult': &lt;true&gt;,
    'AssertResult': &lt;true&gt;,
    'ConditionTimestamp': &lt;uint64 1659535911115062&gt;,
    'ConditionTimestampMonotonic': &lt;uint64 38023849103430&gt;,
    'AssertTimestamp': &lt;uint64 1659535911115062&gt;,
    'AssertTimestampMonotonic': &lt;uint64 38023849103430&gt;,
    'Conditions': &lt;@a(sbbsi) []&gt;,
    'Asserts': &lt;@a(sbbsi) []&gt;,
    'LoadError': &lt;('', '')&gt;,
    'Transient': &lt;false&gt;
},)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_获取服务状态">52.1.4. 获取服务状态</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus call \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1/unit/nginx_2eservice \
    --method org.freedesktop.DBus.Properties.Get \
    org.freedesktop.systemd1.Unit ActiveState</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>(&lt;'active'&gt;,)</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_查询systemd定时器">52.2. 查询systemd定时器</h3>
<div class="sect3">
<h4 id="_获取定时器对象路径">52.2.1. 获取定时器对象路径</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus call \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1 \
    --method org.freedesktop.systemd1.Manager.GetUnit \
    systemd-tmpfiles-clean.timer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>(objectpath '/org/freedesktop/systemd1/unit/systemd_2dtmpfiles_2dclean_2etimer',)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_查看对象结构">52.2.2. 查看对象结构</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus introspect \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1/unit/systemd_2dtmpfiles_2dclean_2etimer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>node /org/freedesktop/systemd1/unit/systemd_2dtmpfiles_2dclean_2etimer {
  interface org.freedesktop.DBus.Peer {
    methods:
      Ping();
      GetMachineId(out s machine_uuid);
    signals:
    properties:
  };
  interface org.freedesktop.DBus.Introspectable {
    methods:
      Introspect(out s data);
    signals:
    properties:
  };
  interface org.freedesktop.DBus.Properties {
    methods:
      Get(in  s interface,
          in  s property,
          out v value);
      GetAll(in  s interface,
             out a{sv} properties);
      Set(in  s interface,
          in  s property,
          in  v value);
    signals:
      PropertiesChanged(s interface,
                        a{sv} changed_properties,
                        as invalidated_properties);
    properties:
  };
  interface org.freedesktop.systemd1.Timer {
    methods:
    signals:
    properties:
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Unit = 'systemd-tmpfiles-clean.service';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
      readonly a(stt) TimersMonotonic = [('OnUnitActiveUSec', 86400000000, 49682252232703), ('OnBootUSec', 900000000, 900000000)];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("invalidates")
      readonly a(sst) TimersCalendar = [];
      readonly t NextElapseUSecRealtime = 0;
      readonly t NextElapseUSecMonotonic = 49682252232703;
      readonly t LastTriggerUSec = 1671107914243400;
      readonly t LastTriggerUSecMonotonic = 49595852231768;
      readonly s Result = 'success';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t AccuracyUSec = 60000000;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t RandomizedDelayUSec = 0;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b Persistent = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b WakeSystem = false;
  };
  interface org.freedesktop.systemd1.Unit {
    methods:
      @org.freedesktop.systemd1.Privileged("true")
      Start(in  s arg_0,
            out o arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      Stop(in  s arg_0,
           out o arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      Reload(in  s arg_0,
             out o arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      Restart(in  s arg_0,
              out o arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      TryRestart(in  s arg_0,
                 out o arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      ReloadOrRestart(in  s arg_0,
                      out o arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      ReloadOrTryRestart(in  s arg_0,
                         out o arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      Kill(in  s arg_0,
           in  i arg_1);
      @org.freedesktop.systemd1.Privileged("true")
      ResetFailed();
      @org.freedesktop.systemd1.Privileged("true")
      SetProperties(in  b arg_0,
                    in  a(sv) arg_1);
    signals:
    properties:
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Id = 'systemd-tmpfiles-clean.timer';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Names = ['systemd-tmpfiles-clean.timer'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly s Following = '';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Requires = ['sysinit.target'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as RequiresOverridable = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Requisite = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as RequisiteOverridable = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Wants = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as BindsTo = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as PartOf = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as RequiredBy = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as RequiredByOverridable = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as WantedBy = ['timers.target'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as BoundBy = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as ConsistsOf = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Conflicts = ['shutdown.target'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as ConflictedBy = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Before = ['timers.target', 'shutdown.target', 'systemd-tmpfiles-clean.service'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as After = ['sysinit.target'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as OnFailure = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Triggers = ['systemd-tmpfiles-clean.service'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as TriggeredBy = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as PropagatesReloadTo = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as ReloadPropagatedFrom = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as JoinsNamespaceOf = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as RequiresMountsFor = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as Documentation = ['man:tmpfiles.d(5)', 'man:systemd-tmpfiles(8)'];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s Description = 'Daily Cleanup of Temporary Directories';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s LoadState = 'loaded';
      readonly s ActiveState = 'active';
      readonly s SubState = 'waiting';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s FragmentPath = '/usr/lib/systemd/system/systemd-tmpfiles-clean.timer';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s SourcePath = '';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly as DropInPaths = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly s UnitFileState = 'static';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly s UnitFilePreset = 'disabled';
      readonly t InactiveExitTimestamp = 1621512065994411;
      readonly t InactiveExitTimestampMonotonic = 3982778;
      readonly t ActiveEnterTimestamp = 1621512065994411;
      readonly t ActiveEnterTimestampMonotonic = 3982778;
      readonly t ActiveExitTimestamp = 0;
      readonly t ActiveExitTimestampMonotonic = 0;
      readonly t InactiveEnterTimestamp = 0;
      readonly t InactiveEnterTimestampMonotonic = 0;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b CanStart = true;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b CanStop = true;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b CanReload = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b CanIsolate = false;
      readonly (uo) Job = (0, '/');
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b StopWhenUnneeded = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b RefuseManualStart = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b RefuseManualStop = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b AllowIsolate = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b DefaultDependencies = true;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s OnFailureJobMode = 'replace';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b IgnoreOnIsolate = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b IgnoreOnSnapshot = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b NeedDaemonReload = false;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly t JobTimeoutUSec = 0;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s JobTimeoutAction = 'none';
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly s JobTimeoutRebootArgument = '';
      readonly b ConditionResult = true;
      readonly b AssertResult = true;
      readonly t ConditionTimestamp = 1621512065994401;
      readonly t ConditionTimestampMonotonic = 3982770;
      readonly t AssertTimestamp = 1621512065994403;
      readonly t AssertTimestampMonotonic = 3982770;
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly a(sbbsi) Conditions = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("false")
      readonly a(sbbsi) Asserts = [];
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly (ss) LoadError = ('', '');
      @org.freedesktop.DBus.Property.EmitsChangedSignal("const")
      readonly b Transient = false;
  };
};</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_获取对象的定时器相关属性">52.2.3. 获取对象的定时器相关属性</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus call \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1/unit/systemd_2dtmpfiles_2dclean_2etimer \
    --method org.freedesktop.DBus.Properties.GetAll \
    org.freedesktop.systemd1.Timer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>({
    'Unit': &lt;'systemd-tmpfiles-clean.service'&gt;,
    'TimersMonotonic': &lt;[
        ('OnUnitActiveUSec', uint64 86400000000, uint64 49682252232703),
        ('OnBootUSec', 900000000, 900000000)
    ]&gt;,
    'TimersCalendar': &lt;@a(sst) []&gt;,
    'NextElapseUSecRealtime': &lt;uint64 0&gt;,
    'NextElapseUSecMonotonic': &lt;uint64 49682252232703&gt;,
    'LastTriggerUSec': &lt;uint64 1671107914243400&gt;,
    'LastTriggerUSecMonotonic': &lt;uint64 49595852231768&gt;,
    'Result': &lt;'success'&gt;,
    'AccuracyUSec': &lt;uint64 60000000&gt;,
    'RandomizedDelayUSec': &lt;uint64 0&gt;,
    'Persistent': &lt;false&gt;,
    'WakeSystem': &lt;false&gt;
},)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_获取对象定时器上次运行结果">52.2.4. 获取对象定时器上次运行结果</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">gdbus call \
    --system \
    --dest org.freedesktop.systemd1 \
    --object-path /org/freedesktop/systemd1/unit/systemd_2dtmpfiles_2dclean_2etimer \
    --method org.freedesktop.DBus.Properties.Get \
    org.freedesktop.systemd1.Timer Result</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>(&lt;'success'&gt;,)</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_Misc_chapter">53. 杂项</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_chrome">53.1. Chrome</h3>
<div class="sect3">
<h4 id="_安装_proxy_switchyomega_扩展">53.1.1. 安装 Proxy SwitchyOmega 扩展</h4>
<div class="paragraph">
<p>安装 <code>Proxy SwitchyOmega</code> 之前，需要访问Google应用商店，让Chrome挂全局代理：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Linux</dt>
<dd>
<p>google-chrome-stable --proxy-server="socks5://192.168.1.5:1080"</p>
</dd>
<dt class="hdlist1">Windows</dt>
<dd>
<p><code>Google Chrome</code> 快捷方式的属性中，追加程序运行参数，得到 <code>"C:\xxxx\chrome.exe" --proxy-server="socks5://192.168.1.5:1080"</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>然后，安装扩展 <a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=zh-CN">Proxy SwitchyOmega</a></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_TheExtendedASCIITable_chapter">Appendix A: The Extended ASCII Table</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ascii_control_characters_character_code_0_31">A.1. ASCII control characters (character code 0-31)</h3>
<div class="paragraph">
<p>The first 32 characters in the ASCII-table are unprintable control codes and are used to control peripherals such as printers.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 35.7146%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">DEC</th>
<th class="tableblock halign-center valign-top">OCT</th>
<th class="tableblock halign-center valign-top">HEX</th>
<th class="tableblock halign-center valign-top">BIN</th>
<th class="tableblock halign-center valign-top">Symbol</th>
<th class="tableblock halign-center valign-top">HTML Number</th>
<th class="tableblock halign-center valign-top">HTML Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">NUL</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#000</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Null char</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">SOH</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#001</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start of Heading</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">002</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">02</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">STX</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#002</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start of Text</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">003</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">03</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ETX</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#003</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End of Text</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">004</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">04</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">EOT</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#004</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End of Transmission</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">005</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">05</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ENQ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#005</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enquiry</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">006</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">06</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ACK</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#006</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acknowledgment</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">007</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">07</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00000111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BEL</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#007</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bell</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">08</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#008</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Back Space</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">09</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">HT</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#009</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Horizontal Tab</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">012</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">LF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#010</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Line Feed</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">013</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">VT</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#011</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vertical Tab</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">014</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#012</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Form Feed</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">015</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CR</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#013</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carriage Return</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">016</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">SO</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#014</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shift Out / X-On</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">017</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00001111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">SI</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#015</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shift In / X-Off</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">020</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DLE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#016</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data Line Escape</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">021</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DC1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#017</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Control 1 (oft. XON)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">022</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DC2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#018</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Control 2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">023</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DC3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#019</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Control 3 (oft. XOFF)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">024</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DC4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#020</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Control 4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">025</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">NAK</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#021</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Negative Acknowledgement</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">026</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">SYN</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#022</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Synchronous Idle</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">027</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00010111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ETB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#023</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End of Transmit Block</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">030</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CAN</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#024</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">031</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">EM</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#025</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End of Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">032</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">SUB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#026</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Substitute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">033</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ESC</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#027</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Escape</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">034</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#028</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File Separator</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">035</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">GS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#029</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group Separator</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">036</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">RS</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#030</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Record Separator</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">037</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00011111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">US</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#031</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unit Separator</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_ascii_printable_characters_character_code_32_127">A.2. ASCII printable characters (character code 32-127)</h3>
<div class="paragraph">
<p>Codes 32-127 are common for all the different variations of the ASCII table, they are called printable characters, represent letters, digits, punctuation marks, and a few miscellaneous symbols. You will find almost every character on your keyboard. Character 127 represents the command DEL.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 35.7146%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">DEC</th>
<th class="tableblock halign-center valign-top">OCT</th>
<th class="tableblock halign-center valign-top">HEX</th>
<th class="tableblock halign-center valign-top">BIN</th>
<th class="tableblock halign-center valign-top">Symbol</th>
<th class="tableblock halign-center valign-top">HTML Number</th>
<th class="tableblock halign-center valign-top">HTML Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">040</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#32</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Space</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">041</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">!</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#33</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclamation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">042</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">"</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#34;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;quot;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double quotes (or speech marks)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">043</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">#</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#35</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">044</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#36</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dollar</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">045</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">%</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#37</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Procenttecken</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">046</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#38;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;amp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ampersand</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">047</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00100111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">'</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#39</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single quote</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">050</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#40</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open parenthesis (or open bracket)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">051</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#41</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Close parenthesis (or close bracket)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">052</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">*</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#42</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asterisk</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">053</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#43</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plus</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">054</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">,</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#44</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comma</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">055</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#45</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hyphen</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">056</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#46</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Period, dot or full stop</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">47</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">057</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00101111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">/</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#47</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slash or divide</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">060</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#48</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zero</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">061</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#49</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">062</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#50</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">51</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">063</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#51</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Three</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">064</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#52</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Four</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">065</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#53</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Five</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">54</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">066</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#54</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Six</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">55</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">067</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00110111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#55</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seven</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">070</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#56</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eight</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">57</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">071</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#57</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">072</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">:</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#58</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Colon</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">59</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">073</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#59</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Semicolon</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">60</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">074</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&lt;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#60;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;lt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Less than (or open angled bracket)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">61</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">075</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">=</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#61</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equals</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">62</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">076</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&gt;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#62;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greater than (or close angled bracket)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">63</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">077</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">00111111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#63</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">@</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#64</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">At symbol</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#65</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase A</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">66</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">102</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#66</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase B</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">67</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">103</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#67</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase C</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">68</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">104</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#68</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase D</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">69</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">105</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#69</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase E</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">106</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#70</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase F</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">71</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">107</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">47</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01000111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#71</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase G</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">72</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">H</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#72</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase H</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">73</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#73</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase I</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">74</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">112</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">J</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#74</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase J</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">75</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">113</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">K</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#75</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase K</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">76</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">114</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">L</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#76</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase L</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">77</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">115</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#77</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase M</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">78</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">116</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#78</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase N</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">79</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">117</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01001111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#79</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase O</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">80</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">120</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">P</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#80</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase P</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">81</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">121</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">51</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Q</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#81</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase Q</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">82</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">122</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#82</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase R</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">83</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">123</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#83</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase S</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">84</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">124</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">54</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">T</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#84</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase T</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">85</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">125</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">55</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#85</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase U</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">86</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">126</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">V</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#86</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase V</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">87</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">127</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">57</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01010111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">W</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#87</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase W</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">88</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">130</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#88</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase X</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">89</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">131</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">59</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#89</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase Y</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">90</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">132</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#90</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uppercase Z</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">91</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">133</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">[</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#91</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opening bracket</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">92</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">134</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#92</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Backslash</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">93</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">135</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">]</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#93</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closing bracket</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">94</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">136</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">^</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#94</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caret - circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">95</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">137</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01011111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">_</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#95</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underscore</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">96</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">140</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">60</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">`</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#96</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grave accent</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">97</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">141</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">61</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">a</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#97</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase a</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">98</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">142</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">62</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">b</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#98</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase b</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">99</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">143</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">63</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">c</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#99</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase c</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">144</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">d</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#100</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase d</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">145</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">e</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#101</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase e</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">102</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">146</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">66</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">f</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#102</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase f</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">103</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">147</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">67</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01100111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">g</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#103</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase g</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">104</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">150</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">68</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">h</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#104</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase h</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">105</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">151</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">69</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#105</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase i</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">106</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">152</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">j</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#106</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase j</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">107</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">153</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">k</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#107</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase k</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">108</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">154</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">l</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#108</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase l</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">109</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">155</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">m</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#109</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase m</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">156</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">n</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#110</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase n</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01101111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">o</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#111</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase o</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">112</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">160</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">70</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">p</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#112</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase p</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">113</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">161</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">71</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">q</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#113</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase q</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">114</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">162</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">72</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">r</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#114</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase r</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">115</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">163</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">73</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">s</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#115</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase s</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">116</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">164</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">74</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">t</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#116</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase t</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">117</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">165</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">75</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">u</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#117</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase u</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">118</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">166</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">76</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">v</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#118</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase v</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">119</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">167</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">77</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01110111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">w</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#119</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase w</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">120</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">170</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">78</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#120</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase x</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">121</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">171</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">79</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">y</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#121</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase y</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">122</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">172</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">z</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#122</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase z</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">123</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">173</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">{</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#123</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opening brace</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">124</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">174</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">|</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#124</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vertical bar</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">125</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">175</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">}</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#125</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Closing brace</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">126</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">176</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">~</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#126</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equivalency sign - tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">127</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">177</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">01111111</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#127</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_the_extended_ascii_codes_character_code_128_255">A.3. The extended ASCII codes (character code 128-255)</h3>
<div class="paragraph">
<p>There are several different variations of the 8-bit ASCII table. The table below is according to ISO 8859-1, also called ISO Latin-1. Codes 128-159 contain the Microsoft® Windows Latin-1 extended characters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 35.7146%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">DEC</th>
<th class="tableblock halign-center valign-top">OCT</th>
<th class="tableblock halign-center valign-top">HEX</th>
<th class="tableblock halign-center valign-top">BIN</th>
<th class="tableblock halign-center valign-top">Symbol</th>
<th class="tableblock halign-center valign-top">HTML Number</th>
<th class="tableblock halign-center valign-top">HTML Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">128</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">200</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">80</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">€</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#128;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;euro;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Euro sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">129</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">201</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">81</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">130</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">202</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">82</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">‚</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#130;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;sbquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single low-9 quotation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">131</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">203</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">83</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ƒ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#131;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;fnof;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter f with hook</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">132</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">204</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">84</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">„</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#132;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;bdquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double low-9 quotation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">133</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">205</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">85</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">…</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#133;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;hellip;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Horizontal ellipsis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">134</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">206</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">86</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">†</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#134;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;dagger;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dagger</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">135</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">207</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">87</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10000111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">‡</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#135;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Dagger;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double dagger</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">136</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">210</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">88</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ˆ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#136;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;circ;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifier letter circumflex accent</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">137</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">211</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">89</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">‰</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#137;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;permil;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Per mille sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">138</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">212</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Š</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#138;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Scaron;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter S with caron</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">139</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">213</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">‹</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#139;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;lsaquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single left-pointing angle quotation</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">140</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">214</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Œ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#140;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;OElig;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital ligature OE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">141</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">215</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">142</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">216</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ž</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#142;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin captial letter Z with caron</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">143</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">217</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10001111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">144</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">220</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">90</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">145</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">221</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">91</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">‘</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#145;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;lsquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left single quotation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">146</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">222</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">92</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">’</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#146;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;rsquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Right single quotation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">147</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">223</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">93</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">“</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#147;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ldquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left double quotation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">148</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">224</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">94</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">”</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#148;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;rdquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Right double quotation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">149</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">225</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">95</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">•</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#149;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;bull;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bullet</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">150</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">226</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">96</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">–</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#150;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ndash;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">En dash</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">151</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">227</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">97</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10010111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">—</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#151;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;mdash;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Em dash</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">152</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">230</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">98</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">˜</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#152;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;tilde;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Small tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">153</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">231</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">99</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">™</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#153;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;trade;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trade mark sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">154</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">232</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9A</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">š</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#154;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;scaron;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter S with caron</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">155</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">233</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9B</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">›</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#155;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;rsaquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single right-pointing angle quotation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">156</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">234</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9C</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">œ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#156;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;oelig;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small ligature oe</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">157</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">235</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9D</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&nbsp;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">158</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">236</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9E</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ž</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#158;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter z with caron</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">159</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">237</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9F</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10011111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ÿ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#159;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Yuml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter Y with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">160</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">240</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&nbsp;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#160;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;nbsp;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-breaking space</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">161</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">241</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¡</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#161;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;iexcl;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inverted exclamation mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">162</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">242</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¢</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#162;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;cent;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cent sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">163</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">243</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">£</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#163;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;pound;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pound sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">164</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">244</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¤</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#164;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;curren;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Currency sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">165</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">245</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¥</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#165;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;yen;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yen sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">166</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">246</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¦</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#166;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;brvbar;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipe, Broken vertical bar</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">167</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">247</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10100111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">§</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#167;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;sect;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">168</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">250</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¨</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#168;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;uml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spacing diaeresis - umlaut</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">169</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">251</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">A9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">©</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#169;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;copy;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copyright sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">170</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">252</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">AA</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ª</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#170;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ordf;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feminine ordinal indicator</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">171</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">253</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">AB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">«</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#171;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;laquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left double angle quotes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">172</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">254</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">AC</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¬</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#172;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;not;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">173</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">255</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">AD</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">­</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#173;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;shy;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Soft hyphen</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">174</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">AE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">®</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#174;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;reg;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registered trade mark sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">175</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">257</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">AF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10101111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¯</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#175;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;macr;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spacing macron - overline</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">176</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">260</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">°</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#176;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;deg;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Degree sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">177</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">261</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">±</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#177;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;plusmn;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plus-or-minus sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">178</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">262</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">²</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#178;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;sup2;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Superscript two - squared</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">179</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">263</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">³</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#179;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;sup3;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Superscript three - cubed</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">180</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">264</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">´</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#180;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;acute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Acute accent - spacing acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">181</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">265</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">µ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#181;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;micro;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Micro sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">182</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">266</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¶</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#182;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;para;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pilcrow sign - paragraph sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">183</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">267</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10110111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">·</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#183;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;middot;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Middle dot - Georgian comma</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">184</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">270</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¸</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#184;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;cedil;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spacing cedilla</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">185</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">271</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">B9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¹</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#185;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;sup1;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Superscript one</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">186</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">272</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BA</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">º</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#186;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ordm;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Masculine ordinal indicator</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">187</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">273</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">»</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#187;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;raquo;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Right double angle quotes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">188</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">274</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BC</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¼</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#188;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;frac14;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fraction one quarter</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">189</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">275</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BD</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">½</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#189;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;frac12;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fraction one half</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">190</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">276</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¾</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#190;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;frac34;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fraction three quarters</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">191</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">277</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">BF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10111111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">¿</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#191;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;iquest;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inverted question mark</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">192</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">300</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">À</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#192;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Agrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter A with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">193</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">301</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Á</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#193;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Aacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter A with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">194</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">302</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Â</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#194;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Acirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter A with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">195</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">303</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ã</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#195;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Atilde;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter A with tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">196</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">304</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ä</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#196;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Auml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter A with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">197</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">305</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Å</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#197;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Aring;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter A with ring above</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">198</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">306</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Æ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#198;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;AElig;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter AE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">199</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">307</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11000111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ç</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#199;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ccedil;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter C with cedilla</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">200</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">310</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">È</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#200;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Egrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter E with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">201</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">311</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">C9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">É</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#201;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Eacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter E with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">202</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">312</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CA</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ê</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#202;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ecirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter E with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">203</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">313</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ë</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#203;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Euml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter E with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">204</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">314</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CC</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ì</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#204;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Igrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter I with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">205</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">315</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CD</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Í</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#205;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Iacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter I with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">206</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">316</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Î</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#206;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Icirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter I with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">207</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">317</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">CF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11001111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ï</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#207;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Iuml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter I with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">208</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">320</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ð</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#208;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ETH;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter ETH</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">209</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">321</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ñ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#209;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ntilde;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter N with tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">210</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">322</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ò</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#210;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ograve;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter O with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">211</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">323</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ó</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#211;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Oacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter O with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">212</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">324</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ô</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#212;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ocirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter O with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">213</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">325</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Õ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#213;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Otilde;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter O with tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">214</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">326</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ö</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#214;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ouml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter O with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">215</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">327</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11010111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">×</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#215;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;times;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiplication sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">216</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">330</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ø</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#216;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Oslash;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter O with slash</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">217</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">331</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">D9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ù</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#217;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ugrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter U with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">218</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">332</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DA</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ú</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#218;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Uacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter U with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">219</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">333</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Û</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#219;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Ucirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter U with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">220</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">334</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DC</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ü</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#220;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Uuml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter U with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">221</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">335</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DD</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ý</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#221;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;Yacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter Y with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">222</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">336</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Þ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#222;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;THORN;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin capital letter THORN</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">223</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">337</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">DF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11011111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ß</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#223;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;szlig;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter sharp s - ess-zed</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">224</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">340</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">à</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#224;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;agrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter a with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">225</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">341</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">á</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#225;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;aacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter a with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">226</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">342</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">â</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#226;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;acirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter a with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">227</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">343</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ã</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#227;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;atilde;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter a with tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">228</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">344</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ä</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#228;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;auml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter a with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">229</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">345</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">å</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#229;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;aring;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter a with ring above</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">230</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">346</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">æ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#230;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;aelig;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter ae</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">231</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">347</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11100111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ç</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#231;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ccedil;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter c with cedilla</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">232</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">350</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">è</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#232;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;egrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter e with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">233</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">351</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">E9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">é</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#233;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;eacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter e with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">234</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">352</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">EA</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ê</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#234;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ecirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter e with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">235</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">353</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">EB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ë</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#235;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;euml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter e with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">236</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">354</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">EC</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ì</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#236;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;igrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter i with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">237</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">355</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ED</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">í</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#237;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;iacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter i with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">238</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">356</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">EE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">î</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#238;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;icirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter i with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">239</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">357</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">EF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11101111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ï</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#239;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;iuml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter i with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">240</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">360</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ð</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#240;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;eth;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter eth</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">241</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">361</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ñ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#241;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ntilde;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter n with tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">242</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">362</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ò</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#242;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ograve;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter o with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">243</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">363</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ó</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#243;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;oacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter o with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">244</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">364</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ô</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#244;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ocirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter o with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">245</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">365</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">õ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#245;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;otilde;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter o with tilde</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">246</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">366</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ö</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#246;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ouml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter o with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">247</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">367</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11110111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">÷</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#247;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;divide;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Division sign</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">248</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">370</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ø</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#248;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;oslash;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter o with slash</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">249</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">371</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">F9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111001</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ù</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#249;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ugrave;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter u with grave</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">250</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">372</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FA</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111010</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ú</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#250;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;uacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter u with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">251</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">373</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FB</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111011</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">û</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#251;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;ucirc;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter u with circumflex</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">252</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">374</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FC</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ü</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#252;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;uuml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter u with diaeresis</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">253</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">375</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FD</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111101</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ý</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#253;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;yacute;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter y with acute</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">254</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">376</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">þ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#254;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;thorn;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter thorn</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">255</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">377</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FF</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">11111111</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ÿ</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;#255;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&amp;yuml;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Latin small letter y with diaeresis</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-02-16 21:07:49 +0800
</div>
</div>
<link rel="stylesheet" href="css/github.min.css">
<script src="js/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="js/MathJax/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>